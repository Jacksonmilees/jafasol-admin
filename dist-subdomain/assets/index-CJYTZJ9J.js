import{r as e,R as t}from"./ui-vendor-E0GwGJpk.js";import{r as n,a,g as r}from"./react-vendor-HnKmhvXM.js";import{G as s}from"./utils-DAj-XOUI.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var l,i,o={exports:{}},c={};var u,d,m,f,p=(i||(i=1,o.exports=function(){if(l)return c;l=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,a){var r=null;if(void 0!==a&&(r=""+a),void 0!==n.key&&(r=""+n.key),"key"in n)for(var s in a={},n)"key"!==s&&(a[s]=n[s]);else a=n;return n=a.ref,{$$typeof:e,type:t,key:r,ref:void 0!==n?n:null,props:a}}return c.Fragment=t,c.jsx=n,c.jsxs=n,c}()),o.exports),h={exports:{}},g={},y={exports:{}},x={};function b(){return d||(d=1,y.exports=(u||(u=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,s=e[a];if(!(0<r(s,t)))break e;e[a]=t,e[n]=s,n=a}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,s=e.length,l=s>>>1;a<l;){var i=2*(a+1)-1,o=e[i],c=i+1,u=e[c];if(0>r(o,n))c<s&&0>r(u,o)?(e[a]=u,e[c]=n,a=c):(e[a]=o,e[i]=n,a=i);else{if(!(c<s&&0>r(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,i=l.now();e.unstable_now=function(){return l.now()-i}}var o=[],c=[],u=1,d=null,m=3,f=!1,p=!1,h=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var r=n(c);null!==r;){if(null===r.callback)a(c);else{if(!(r.startTime<=e))break;a(c),r.sortIndex=r.expirationTime,t(o,r)}r=n(c)}}function w(e){if(h=!1,v(e),!p)if(null!==n(o))p=!0,S||(S=!0,N());else{var t=n(c);null!==t&&O(w,t.startTime-e)}}var N,S=!1,j=-1,k=5,E=-1;function C(){return!(!g&&e.unstable_now()-E<k)}function T(){if(g=!1,S){var t=e.unstable_now();E=t;var r=!0;try{e:{p=!1,h&&(h=!1,x(j),j=-1),f=!0;var s=m;try{t:{for(v(t),d=n(o);null!==d&&!(d.expirationTime>t&&C());){var l=d.callback;if("function"==typeof l){d.callback=null,m=d.priorityLevel;var i=l(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof i){d.callback=i,v(t),r=!0;break t}d===n(o)&&a(o),v(t)}else a(o);d=n(o)}if(null!==d)r=!0;else{var u=n(c);null!==u&&O(w,u.startTime-t),r=!1}}break e}finally{d=null,m=s,f=!1}r=void 0}}finally{r?N():S=!1}}}if("function"==typeof b)N=function(){b(T)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,L=A.port2;A.port1.onmessage=T,N=function(){L.postMessage(null)}}else N=function(){y(T,0)};function O(t,n){j=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(k=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},e.unstable_scheduleCallback=function(a,r,s){var l=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?l+s:l,a){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return a={id:u++,callback:r,priorityLevel:a,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>l?(a.sortIndex=s,t(c,a),null===n(o)&&a===n(c)&&(h?(x(j),j=-1):h=!0,O(w,s-l))):(a.sortIndex=i,t(o,a),p||f||(p=!0,S||(S=!0,N()))),a},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}}(x)),x)),y.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function v(){if(m)return g;m=1;var e=b(),t=n(),r=a();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function o(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(i(e)!==e)throw Error(s(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),S=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function _(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=O&&e[O]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case y:return"Fragment";case v:return"Profiler";case x:return"StrictMode";case k:return"Suspense";case E:return"SuspenseList";case A:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case h:return"Portal";case S:return(e.displayName||"Context")+".Provider";case N:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return D(e(t))}catch(n){}}return null}var R=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},F=[],U=-1;function B(e){return{current:e}}function $(e){0>U||(e.current=F[U],F[U]=null,U--)}function G(e,t){U++,F[U]=e.current,e.current=t}var q=B(null),H=B(null),V=B(null),W=B(null);function Q(e,t){switch(G(V,t),G(H,e),G(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ld(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=ld(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(q),G(q,e)}function K(){$(q),$(H),$(V)}function J(e){null!==e.memoizedState&&G(W,e);var t=q.current,n=id(t,e.type);t!==n&&(G(H,e),G(q,n))}function Y(e){H.current===e&&($(q),$(H)),W.current===e&&($(W),Jd._currentValue=M)}var X=Object.prototype.hasOwnProperty,Z=e.unstable_scheduleCallback,ee=e.unstable_cancelCallback,te=e.unstable_shouldYield,ne=e.unstable_requestPaint,ae=e.unstable_now,re=e.unstable_getCurrentPriorityLevel,se=e.unstable_ImmediatePriority,le=e.unstable_UserBlockingPriority,ie=e.unstable_NormalPriority,oe=e.unstable_LowPriority,ce=e.unstable_IdlePriority,ue=e.log,de=e.unstable_setDisableYieldValue,me=null,fe=null;function pe(e){if("function"==typeof ue&&de(e),fe&&"function"==typeof fe.setStrictMode)try{fe.setStrictMode(me,e)}catch(t){}}var he=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ge(e)/ye|0)|0},ge=Math.log,ye=Math.LN2;var xe=256,be=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var a=e.pendingLanes;if(0===a)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var i=134217727&a;return 0!==i?0!==(a=i&~s)?r=ve(a):0!==(l&=i)?r=ve(l):n||0!==(n=i&~e)&&(r=ve(n)):0!==(i=a&~s)?r=ve(i):0!==l?r=ve(l):n||0!==(n=a&~e)&&(r=ve(n)),0===r?0:0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(n=t&-t)||32===s&&4194048&n)?t:r}function Ne(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Se(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=xe;return!(4194048&(xe<<=1))&&(xe=256),e}function ke(){var e=be;return!(62914560&(be<<=1))&&(be=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-he(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|4194090&n}function Ae(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-he(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oe(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function _e(){var e=z.p;return 0!==e?e:void 0===(e=window.event)?32:dm(e.type)}var Pe=Math.random().toString(36).slice(2),De="__reactFiber$"+Pe,Re="__reactProps$"+Pe,Ie="__reactContainer$"+Pe,ze="__reactEvents$"+Pe,Me="__reactListeners$"+Pe,Fe="__reactHandles$"+Pe,Ue="__reactResources$"+Pe,Be="__reactMarker$"+Pe;function $e(e){delete e[De],delete e[Re],delete e[ze],delete e[Me],delete e[Fe]}function Ge(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ie]||n[De]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wd(e);null!==e;){if(n=e[De])return n;e=wd(e)}return t}n=(e=n).parentNode}return null}function qe(e){if(e=e[De]||e[Ie]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ve(e){var t=e[Ue];return t||(t=e[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Be]=!0}var Qe=new Set,Ke={};function Je(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ke[e]=t,e=0;e<t.length;e++)Qe.add(t[e])}var Xe,Ze,et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},nt={};function at(e,t,n){if(r=t,X.call(nt,r)||!X.call(tt,r)&&(et.test(r)?nt[r]=!0:(tt[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function rt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function st(e,t,n,a){if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+a)}}function lt(e){if(void 0===Xe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",Ze=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+Ze}var it=!1;function ot(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var a=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){a=s}e.call(n.prototype)}}else{try{throw Error()}catch(l){a=l}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(i){if(i&&a&&"string"==typeof i.stack)return[i.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),l=s[0],i=s[1];if(l&&i){var o=l.split("\n"),c=i.split("\n");for(r=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(a===o.length||r===c.length)for(a=o.length-1,r=c.length-1;1<=a&&0<=r&&o[a]!==c[r];)r--;for(;1<=a&&0<=r;a--,r--)if(o[a]!==c[r]){if(1!==a||1!==r)do{if(a--,0>--r||o[a]!==c[r]){var u="\n"+o[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=r);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?lt(n):""}function ct(e){switch(e.tag){case 26:case 27:case 5:return lt(e.type);case 16:return lt("Lazy");case 13:return lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return lt("Activity");default:return""}}function ut(e){try{var t="";do{t+=ct(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function mt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){e._valueTracker||(e._valueTracker=function(e){var t=mt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=mt(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function ht(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function xt(e,t,n,a,r,s,l,i){e.name="",null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?vt(e,l,dt(t)):null!=n?vt(e,l,dt(n)):null!=a&&e.removeAttribute("value"),null==r&&null!=s&&(e.defaultChecked=!!s),null!=r&&(e.checked=r&&"function"!=typeof r&&"symbol"!=typeof r),null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.name=""+dt(i):e.removeAttribute("name")}function bt(e,t,n,a,r,s,l,i){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return;n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}a="function"!=typeof(a=null!=a?a:r)&&"symbol"!=typeof a&&!!a,e.checked=i?e.checked:!!a,e.defaultChecked=!!a,null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l&&(e.name=l)}function vt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Nt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(s(92));if(R(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var a=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,n):"number"!=typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&n[r]!==a&&Et(e,r,a)}else for(var l in t)t.hasOwnProperty(l)&&Et(e,l,t[l])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ot(e){return Lt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _t=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Rt=null;function It(e){var t=qe(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(xt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=a[Re]||null;if(!r)throw Error(s(90));xt(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&pt(a)}break e;case"textarea":Nt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var zt=!1;function Mt(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Dt||null!==Rt)&&(Gc(),Dt&&(t=Dt,e=Rt,Rt=Dt=null,It(t),e)))for(t=0;t<e.length;t++)It(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var a=n[Re]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var Ut=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Bt=!1;if(Ut)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch(Rm){Bt=!1}var Gt=null,qt=null,Ht=null;function Vt(){if(Ht)return Ht;var e,t,n=qt,a=n.length,r="value"in Gt?Gt.value:Gt.textContent,s=r.length;for(e=0;e<a&&n[e]===r[e];e++);var l=a-e;for(t=1;t<=l&&n[a-t]===r[s-t];t++);return Ht=r.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Qt(){return!0}function Kt(){return!1}function Jt(e){function t(t,n,a,r,s){for(var l in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(r):r[l]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Qt:Kt,this.isPropagationStopped=Kt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qt)},persist:function(){},isPersistent:Qt}),t}var Yt,Xt,Zt,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tn=Jt(en),nn=d({},en,{view:0,detail:0}),an=Jt(nn),rn=d({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Yt=e.screenX-Zt.screenX,Xt=e.screenY-Zt.screenY):Xt=Yt=0,Zt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),sn=Jt(rn),ln=Jt(d({},rn,{dataTransfer:0})),on=Jt(d({},nn,{relatedTarget:0})),cn=Jt(d({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Jt(d({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Jt(d({},en,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function gn(){return hn}var yn=Jt(d({},nn,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=Jt(d({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Jt(d({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),vn=Jt(d({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Jt(d({},rn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Nn=Jt(d({},en,{newState:0,oldState:0})),Sn=[9,13,27,32],jn=Ut&&"CompositionEvent"in window,kn=null;Ut&&"documentMode"in document&&(kn=document.documentMode);var En=Ut&&"TextEvent"in window&&!kn,Cn=Ut&&(!jn||kn&&8<kn&&11>=kn),Tn=String.fromCharCode(32),An=!1;function Ln(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var _n=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Rn(e,t,n,a){Dt?Rt?Rt.push(a):Rt=[a]:Dt=a,0<(t=Vu(t,"onChange")).length&&(n=new tn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var In=null,zn=null;function Mn(e){Mu(e,0)}function Fn(e){if(pt(He(e)))return e}function Un(e,t){if("change"===e)return t}var Bn=!1;if(Ut){var $n;if(Ut){var Gn="oninput"in document;if(!Gn){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Gn="function"==typeof qn.oninput}$n=Gn}else $n=!1;Bn=$n&&(!document.documentMode||9<document.documentMode)}function Hn(){In&&(In.detachEvent("onpropertychange",Vn),zn=In=null)}function Vn(e){if("value"===e.propertyName&&Fn(zn)){var t=[];Rn(t,zn,e,Pt(e)),Mt(Mn,t)}}function Wn(e,t,n){"focusin"===e?(Hn(),zn=n,(In=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&Hn()}function Qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(zn)}function Kn(e,t){if("click"===e)return Fn(t)}function Jn(e,t){if("input"===e||"change"===e)return Fn(t)}var Yn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Xn(e,t){if(Yn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!X.call(t,r)||!Yn(e[r],t[r]))return!1}return!0}function Zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ea(e,t){var n,a=Zn(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zn(a)}}function ta(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ta(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function na(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function aa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ra=Ut&&"documentMode"in document&&11>=document.documentMode,sa=null,la=null,ia=null,oa=!1;function ca(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;oa||null==sa||sa!==ht(a)||("selectionStart"in(a=sa)&&aa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ia&&Xn(ia,a)||(ia=a,0<(a=Vu(la,"onSelect")).length&&(t=new tn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=sa)))}function ua(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var da={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},ma={},fa={};function pa(e){if(ma[e])return ma[e];if(!da[e])return e;var t,n=da[e];for(t in n)if(n.hasOwnProperty(t)&&t in fa)return ma[e]=n[t];return e}Ut&&(fa=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);var ha=pa("animationend"),ga=pa("animationiteration"),ya=pa("animationstart"),xa=pa("transitionrun"),ba=pa("transitionstart"),va=pa("transitioncancel"),wa=pa("transitionend"),Na=new Map,Sa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ja(e,t){Na.set(e,t),Je(t,[e])}Sa.push("scrollEnd");var ka=new WeakMap;function Ea(e,t){if("object"==typeof e&&null!==e){var n=ka.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ut(t)},ka.set(e,t),t)}return{value:e,source:t,stack:ut(t)}}var Ca=[],Ta=0,Aa=0;function La(){for(var e=Ta,t=Aa=Ta=0;t<e;){var n=Ca[t];Ca[t++]=null;var a=Ca[t];Ca[t++]=null;var r=Ca[t];Ca[t++]=null;var s=Ca[t];if(Ca[t++]=null,null!==a&&null!==r){var l=a.pending;null===l?r.next=r:(r.next=l.next,l.next=r),a.pending=r}0!==s&&Da(n,r,s)}}function Oa(e,t,n,a){Ca[Ta++]=e,Ca[Ta++]=t,Ca[Ta++]=n,Ca[Ta++]=a,Aa|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function _a(e,t,n,a){return Oa(e,t,n,a),Ra(e)}function Pa(e,t){return Oa(e,null,null,t),Ra(e)}function Da(e,t,n){e.lanes|=n;var a=e.alternate;null!==a&&(a.lanes|=n);for(var r=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(a=s.alternate)&&(a.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(r=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,r&&null!==t&&(r=31-he(n),null===(a=(e=s.hiddenUpdates)[r])?e[r]=[t]:a.push(t),t.lane=536870912|n),s):null}function Ra(e){if(50<Dc)throw Dc=0,Rc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ia={};function za(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ma(e,t,n,a){return new za(e,t,n,a)}function Fa(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ua(e,t){var n=e.alternate;return null===n?((n=Ma(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ba(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $a(e,t,n,a,r,l){var i=0;if(a=e,"function"==typeof e)Fa(e)&&(i=1);else if("string"==typeof e)i=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=Ma(31,n,t,r)).elementType=A,e.lanes=l,e;case y:return Ga(n.children,r,l,t);case x:i=8,r|=24;break;case v:return(e=Ma(12,n,t,2|r)).elementType=v,e.lanes=l,e;case k:return(e=Ma(13,n,t,r)).elementType=k,e.lanes=l,e;case E:return(e=Ma(19,n,t,r)).elementType=E,e.lanes=l,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case w:case S:i=10;break e;case N:i=9;break e;case j:i=11;break e;case C:i=14;break e;case T:i=16,a=null;break e}i=29,n=Error(s(130,null===e?"null":typeof e,"")),a=null}return(t=Ma(i,n,t,r)).elementType=e,t.type=a,t.lanes=l,t}function Ga(e,t,n,a){return(e=Ma(7,e,a,t)).lanes=n,e}function qa(e,t,n){return(e=Ma(6,e,null,t)).lanes=n,e}function Ha(e,t,n){return(t=Ma(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Va=[],Wa=0,Qa=null,Ka=0,Ja=[],Ya=0,Xa=null,Za=1,er="";function tr(e,t){Va[Wa++]=Ka,Va[Wa++]=Qa,Qa=e,Ka=t}function nr(e,t,n){Ja[Ya++]=Za,Ja[Ya++]=er,Ja[Ya++]=Xa,Xa=e;var a=Za;e=er;var r=32-he(a)-1;a&=~(1<<r),n+=1;var s=32-he(t)+r;if(30<s){var l=r-r%5;s=(a&(1<<l)-1).toString(32),a>>=l,r-=l,Za=1<<32-he(t)+r|n<<r|a,er=s+e}else Za=1<<s|n<<r|a,er=e}function ar(e){null!==e.return&&(tr(e,1),nr(e,1,0))}function rr(e){for(;e===Qa;)Qa=Va[--Wa],Va[Wa]=null,Ka=Va[--Wa],Va[Wa]=null;for(;e===Xa;)Xa=Ja[--Ya],Ja[Ya]=null,er=Ja[--Ya],Ja[Ya]=null,Za=Ja[--Ya],Ja[Ya]=null}var sr=null,lr=null,ir=!1,or=null,cr=!1,ur=Error(s(519));function dr(e){throw yr(Ea(Error(s(418,"")),e)),ur}function mr(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[De]=e,t[Re]=a,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Iu.length;n++)Fu(Iu[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),bt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),ft(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),St(t,a.value,a.defaultValue,a.children),ft(t)}"string"!=typeof(n=a.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===a.suppressHydrationWarning||Xu(t.textContent,n)?(null!=a.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=a.onScroll&&Fu("scroll",t),null!=a.onScrollEnd&&Fu("scrollend",t),null!=a.onClick&&(t.onclick=Zu),t=!0):t=!1,t||dr(e)}function fr(e){for(sr=e.return;sr;)switch(sr.tag){case 5:case 13:return void(cr=!1);case 27:case 3:return void(cr=!0);default:sr=sr.return}}function pr(e){if(e!==sr)return!1;if(!ir)return fr(e),ir=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&lr&&dr(e),fr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){lr=bd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}lr=null}}else 27===n?(n=lr,hd(e.type)?(e=vd,vd=null,lr=e):lr=n):lr=sr?bd(e.stateNode.nextSibling):null;return!0}function hr(){lr=sr=null,ir=!1}function gr(){var e=or;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),or=null),e}function yr(e){null===or?or=[e]:or.push(e)}var xr=B(null),br=null,vr=null;function wr(e,t,n){G(xr,t._currentValue),t._currentValue=n}function Nr(e){e._currentValue=xr.current,$(xr)}function Sr(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function jr(e,t,n,a){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var l=r.dependencies;if(null!==l){var i=r.child;l=l.firstContext;e:for(;null!==l;){var o=l;l=r;for(var c=0;c<t.length;c++)if(o.context===t[c]){l.lanes|=n,null!==(o=l.alternate)&&(o.lanes|=n),Sr(l.return,n,e),a||(i=null);break e}l=o.next}}else if(18===r.tag){if(null===(i=r.return))throw Error(s(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Sr(i,n,e),i=null}else i=r.child;if(null!==i)i.return=r;else for(i=r;null!==i;){if(i===e){i=null;break}if(null!==(r=i.sibling)){r.return=i.return,i=r;break}i=i.return}r=i}}function kr(e,t,n,a){e=null;for(var r=t,l=!1;null!==r;){if(!l)if(524288&r.flags)l=!0;else if(262144&r.flags)break;if(10===r.tag){var i=r.alternate;if(null===i)throw Error(s(387));if(null!==(i=i.memoizedProps)){var o=r.type;Yn(r.pendingProps.value,i.value)||(null!==e?e.push(o):e=[o])}}else if(r===W.current){if(null===(i=r.alternate))throw Error(s(387));i.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Jd):e=[Jd])}r=r.return}null!==e&&jr(t,e,n,a),t.flags|=262144}function Er(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cr(e){br=e,vr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Tr(e){return Lr(br,e)}function Ar(e,t){return null===br&&Cr(e),Lr(e,t)}function Lr(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vr){if(null===e)throw Error(s(308));vr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vr=vr.next=t;return n}var Or="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},_r=e.unstable_scheduleCallback,Pr=e.unstable_NormalPriority,Dr={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rr(){return{controller:new Or,data:new Map,refCount:0}}function Ir(e){e.refCount--,0===e.refCount&&_r(Pr,function(){e.controller.abort()})}var zr=null,Mr=0,Fr=0,Ur=null;function Br(){if(0===--Mr&&null!==zr){null!==Ur&&(Ur.status="fulfilled");var e=zr;zr=null,Fr=0,Ur=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var $r=I.S;I.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===zr){var n=zr=[];Mr=0,Fr=Ou(),Ur={status:"pending",value:void 0,then:function(e){n.push(e)}}}Mr++,t.then(Br,Br)}(0,t),null!==$r&&$r(e,t)};var Gr=B(null);function qr(){var e=Gr.current;return null!==e?e:sc.pooledCache}function Hr(e,t){G(Gr,null===t?Gr.current:t.pool)}function Vr(){var e=qr();return null===e?null:{parent:Dr._currentValue,pool:e}}var Wr=Error(s(460)),Qr=Error(s(474)),Kr=Error(s(542)),Jr={then:function(){}};function Yr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xr(){}function Zr(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xr,Xr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ns(e=t.reason),e;default:if("string"==typeof t.status)t.then(Xr,Xr);else{if(null!==(e=sc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ns(e=t.reason),e}throw es=t,Wr}}var es=null;function ts(){if(null===es)throw Error(s(459));var e=es;return es=null,e}function ns(e){if(e===Wr||e===Kr)throw Error(s(483))}var as=!1;function rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ss(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ls(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function is(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,2&rc){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=Ra(e),Da(e,null,n),t}return Oa(e,a,t,n),Ra(e)}function os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Ae(e,n)}}function cs(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?r=s=l:s=s.next=l,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var us=!1;function ds(){if(us){if(null!==Ur)throw Ur}}function ms(e,t,n,a){us=!1;var r=e.updateQueue;as=!1;var s=r.firstBaseUpdate,l=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?s=c:l.next=c,l=o;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==l&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=o))}if(null!==s){var m=r.baseState;for(l=0,u=c=o=null,i=s;;){var f=-536870913&i.lane,p=f!==i.lane;if(p?(ic&f)===f:(a&f)===f){0!==f&&f===Fr&&(us=!0),null!==u&&(u=u.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var h=e,g=i;f=t;var y=n;switch(g.tag){case 1:if("function"==typeof(h=g.payload)){m=h.call(y,m,f);break e}m=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(f="function"==typeof(h=g.payload)?h.call(y,m,f):h))break e;m=d({},m,f);break e;case 2:as=!0}}null!==(f=i.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[f]:p.push(f))}else p={lane:f,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=p,o=m):u=u.next=p,l|=f;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(p=i).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===u&&(o=m),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===s&&(r.shared.lanes=0),hc|=l,e.lanes=l,e.memoizedState=m}}function fs(e,t){if("function"!=typeof e)throw Error(s(191,e));e.call(t)}function ps(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)fs(n[e],t)}var hs=B(null),gs=B(0);function ys(e,t){G(gs,e=fc),G(hs,t),fc=e|t.baseLanes}function xs(){G(gs,fc),G(hs,hs.current)}function bs(){fc=gs.current,$(hs),$(gs)}var vs=0,ws=null,Ns=null,Ss=null,js=!1,ks=!1,Es=!1,Cs=0,Ts=0,As=null,Ls=0;function Os(){throw Error(s(321))}function _s(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Ps(e,t,n,a,r,s){return vs=s,ws=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=null===e||null===e.memoizedState?Wl:Ql,Es=!1,s=n(a,r),Es=!1,ks&&(s=Rs(t,n,a,r)),Ds(e),s}function Ds(e){I.H=Vl;var t=null!==Ns&&null!==Ns.next;if(vs=0,Ss=Ns=ws=null,js=!1,Ts=0,As=null,t)throw Error(s(300));null===e||Ti||null!==(e=e.dependencies)&&Er(e)&&(Ti=!0)}function Rs(e,t,n,a){ws=e;var r=0;do{if(ks&&(As=null),Ts=0,ks=!1,25<=r)throw Error(s(301));if(r+=1,Ss=Ns=null,null!=e.updateQueue){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,null!=l.memoCache&&(l.memoCache.index=0)}I.H=Kl,l=t(n,a)}while(ks);return l}function Is(){var e=I.H,t=e.useState()[0];return t="function"==typeof t.then?$s(t):t,e=e.useState()[0],(null!==Ns?Ns.memoizedState:null)!==e&&(ws.flags|=1024),t}function zs(){var e=0!==Cs;return Cs=0,e}function Ms(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fs(e){if(js){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}js=!1}vs=0,Ss=Ns=ws=null,ks=!1,Ts=Cs=0,As=null}function Us(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ss?ws.memoizedState=Ss=e:Ss=Ss.next=e,Ss}function Bs(){if(null===Ns){var e=ws.alternate;e=null!==e?e.memoizedState:null}else e=Ns.next;var t=null===Ss?ws.memoizedState:Ss.next;if(null!==t)Ss=t,Ns=e;else{if(null===e){if(null===ws.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Ns=e).memoizedState,baseState:Ns.baseState,baseQueue:Ns.baseQueue,queue:Ns.queue,next:null},null===Ss?ws.memoizedState=Ss=e:Ss=Ss.next=e}return Ss}function $s(e){var t=Ts;return Ts+=1,null===As&&(As=[]),e=Zr(As,e,t),t=ws,null===(null===Ss?t.memoizedState:Ss.next)&&(t=t.alternate,I.H=null===t||null===t.memoizedState?Wl:Ql),e}function Gs(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return $s(e);if(e.$$typeof===S)return Tr(e)}throw Error(s(438,String(e)))}function qs(e){var t=null,n=ws.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var a=ws.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ws.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=L;return t.index++,n}function Hs(e,t){return"function"==typeof t?t(e):t}function Vs(e){return Ws(Bs(),Ns,e)}function Ws(e,t,n){var a=e.queue;if(null===a)throw Error(s(311));a.lastRenderedReducer=n;var r=e.baseQueue,l=a.pending;if(null!==l){if(null!==r){var i=r.next;r.next=l.next,l.next=i}t.baseQueue=r=l,a.pending=null}if(l=e.baseState,null===r)e.memoizedState=l;else{var o=i=null,c=null,u=t=r.next,d=!1;do{var m=-536870913&u.lane;if(m!==u.lane?(ic&m)===m:(vs&m)===m){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),m===Fr&&(d=!0);else{if((vs&f)===f){u=u.next,f===Fr&&(d=!0);continue}m={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=m,i=l):c=c.next=m,ws.lanes|=f,hc|=f}m=u.action,Es&&n(l,m),l=u.hasEagerState?u.eagerState:n(l,m)}else f={lane:m,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=f,i=l):c=c.next=f,ws.lanes|=m,hc|=m;u=u.next}while(null!==u&&u!==t);if(null===c?i=l:c.next=o,!Yn(l,e.memoizedState)&&(Ti=!0,d&&null!==(n=Ur)))throw n;e.memoizedState=l,e.baseState=i,e.baseQueue=c,a.lastRenderedState=l}return null===r&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Qs(e){var t=Bs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,l=t.memoizedState;if(null!==r){n.pending=null;var i=r=r.next;do{l=e(l,i.action),i=i.next}while(i!==r);Yn(l,t.memoizedState)||(Ti=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,a]}function Ks(e,t,n){var a=ws,r=Bs(),l=ir;if(l){if(void 0===n)throw Error(s(407));n=n()}else n=t();var i=!Yn((Ns||r).memoizedState,n);if(i&&(r.memoizedState=n,Ti=!0),r=r.queue,xl(2048,8,Xs.bind(null,a,r,e),[e]),r.getSnapshot!==t||i||null!==Ss&&1&Ss.memoizedState.tag){if(a.flags|=2048,hl(9,{destroy:void 0,resource:void 0},Ys.bind(null,a,r,n,t),null),null===sc)throw Error(s(349));l||124&vs||Js(a,t,n)}return n}function Js(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ws.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ws.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ys(e,t,n,a){t.value=n,t.getSnapshot=a,Zs(t)&&el(e)}function Xs(e,t,n){return n(function(){Zs(t)&&el(e)})}function Zs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(a){return!0}}function el(e){var t=Pa(e,2);null!==t&&Mc(t,e,2)}function tl(e){var t=Us();if("function"==typeof e){var n=e;if(e=n(),Es){pe(!0);try{n()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t}function nl(e,t,n,a){return e.baseState=n,Ws(e,Ns,"function"==typeof a?a:Hs)}function al(e,t,n,a,r){if(Gl(e))throw Error(s(485));if(null!==(e=t.action)){var l={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){l.listeners.push(e)}};null!==I.T?n(!0):l.isTransition=!1,a(l),null===(n=t.pending)?(l.next=t.pending=l,rl(t,l)):(l.next=n.next,t.pending=n.next=l)}}function rl(e,t){var n=t.action,a=t.payload,r=e.state;if(t.isTransition){var s=I.T,l={};I.T=l;try{var i=n(r,a),o=I.S;null!==o&&o(l,i),sl(e,t,i)}catch(c){il(e,t,c)}finally{I.T=s}}else try{sl(e,t,s=n(r,a))}catch(u){il(e,t,u)}}function sl(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){ll(e,t,n)},function(n){return il(e,t,n)}):ll(e,t,n)}function ll(e,t,n){t.status="fulfilled",t.value=n,ol(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,rl(e,n)))}function il(e,t,n){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=n,ol(t),t=t.next}while(t!==a)}e.action=null}function ol(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function cl(e,t){return t}function ul(e,t){if(ir){var n=sc.formState;if(null!==n){e:{var a=ws;if(ir){if(lr){t:{for(var r=lr,s=cr;8!==r.nodeType;){if(!s){r=null;break t}if(null===(r=bd(r.nextSibling))){r=null;break t}}r="F!"===(s=r.data)||"F"===s?r:null}if(r){lr=bd(r.nextSibling),a="F!"===r.data;break e}}dr(a)}a=!1}a&&(t=n[0])}}return(n=Us()).memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:t},n.queue=a,n=Ul.bind(null,ws,a),a.dispatch=n,a=tl(!1),s=$l.bind(null,ws,!1,a.queue),r={state:t,dispatch:null,action:e,pending:null},(a=Us()).queue=r,n=al.bind(null,ws,r,s,n),r.dispatch=n,a.memoizedState=e,[t,n,!1]}function dl(e){return ml(Bs(),Ns,e)}function ml(e,t,n){if(t=Ws(e,t,cl)[0],e=Vs(Hs)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var a=$s(t)}catch(l){if(l===Wr)throw Kr;throw l}else a=t;var r=(t=Bs()).queue,s=r.dispatch;return n!==t.memoizedState&&(ws.flags|=2048,hl(9,{destroy:void 0,resource:void 0},fl.bind(null,r,n),null)),[a,s,e]}function fl(e,t){e.action=t}function pl(e){var t=Bs(),n=Ns;if(null!==n)return ml(t,n,e);Bs(),t=t.memoizedState;var a=(n=Bs()).queue.dispatch;return n.memoizedState=e,[t,a,!1]}function hl(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},null===(t=ws.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ws.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function gl(){return Bs().memoizedState}function yl(e,t,n,a){var r=Us();a=void 0===a?null:a,ws.flags|=e,r.memoizedState=hl(1|t,{destroy:void 0,resource:void 0},n,a)}function xl(e,t,n,a){var r=Bs();a=void 0===a?null:a;var s=r.memoizedState.inst;null!==Ns&&null!==a&&_s(a,Ns.memoizedState.deps)?r.memoizedState=hl(t,s,n,a):(ws.flags|=e,r.memoizedState=hl(1|t,s,n,a))}function bl(e,t){yl(8390656,8,e,t)}function vl(e,t){xl(2048,8,e,t)}function wl(e,t){return xl(4,2,e,t)}function Nl(e,t){return xl(4,4,e,t)}function Sl(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function jl(e,t,n){n=null!=n?n.concat([e]):null,xl(4,4,Sl.bind(null,t,e),n)}function kl(){}function El(e,t){var n=Bs();t=void 0===t?null:t;var a=n.memoizedState;return null!==t&&_s(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Cl(e,t){var n=Bs();t=void 0===t?null:t;var a=n.memoizedState;if(null!==t&&_s(t,a[1]))return a[0];if(a=e(),Es){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[a,t],a}function Tl(e,t,n){return void 0===n||1073741824&vs?e.memoizedState=t:(e.memoizedState=n,e=zc(),ws.lanes|=e,hc|=e,n)}function Al(e,t,n,a){return Yn(n,t)?n:null!==hs.current?(e=Tl(e,n,a),Yn(e,t)||(Ti=!0),e):42&vs?(e=zc(),ws.lanes|=e,hc|=e,t):(Ti=!0,e.memoizedState=n)}function Ll(e,t,n,a,r){var s=z.p;z.p=0!==s&&8>s?s:8;var l,i,o,c=I.T,u={};I.T=u,$l(e,!1,t,n);try{var d=r(),m=I.S;if(null!==m&&m(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)Bl(e,t,(l=a,i=[],o={status:"pending",value:null,reason:null,then:function(e){i.push(e)}},d.then(function(){o.status="fulfilled",o.value=l;for(var e=0;e<i.length;e++)(0,i[e])(l)},function(e){for(o.status="rejected",o.reason=e,e=0;e<i.length;e++)(0,i[e])(void 0)}),o),Ic());else Bl(e,t,a,Ic())}catch(f){Bl(e,t,{then:function(){},status:"rejected",reason:f},Ic())}finally{z.p=s,I.T=c}}function Ol(){}function _l(e,t,n,a){if(5!==e.tag)throw Error(s(476));var r=Pl(e).queue;Ll(e,r,t,M,null===n?Ol:function(){return Dl(e),n(a)})}function Pl(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Dl(e){Bl(e,Pl(e).next.queue,{},Ic())}function Rl(){return Tr(Jd)}function Il(){return Bs().memoizedState}function zl(){return Bs().memoizedState}function Ml(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ic(),a=is(t,e=ls(n),n);return null!==a&&(Mc(a,t,n),os(a,t,n)),t={cache:Rr()},void(e.payload=t)}t=t.return}}function Fl(e,t,n){var a=Ic();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Gl(e)?ql(t,n):null!==(n=_a(e,t,n,a))&&(Mc(n,e,a),Hl(n,t,a))}function Ul(e,t,n){Bl(e,t,n,Ic())}function Bl(e,t,n,a){var r={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gl(e))ql(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=s(l,n);if(r.hasEagerState=!0,r.eagerState=i,Yn(i,l))return Oa(e,t,r,0),null===sc&&La(),!1}catch(o){}if(null!==(n=_a(e,t,r,a)))return Mc(n,e,a),Hl(n,t,a),!0}return!1}function $l(e,t,n,a){if(a={lane:2,revertLane:Ou(),action:a,hasEagerState:!1,eagerState:null,next:null},Gl(e)){if(t)throw Error(s(479))}else null!==(t=_a(e,n,a,2))&&Mc(t,e,2)}function Gl(e){var t=e.alternate;return e===ws||null!==t&&t===ws}function ql(e,t){ks=js=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hl(e,t,n){if(4194048&n){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Ae(e,n)}}var Vl={readContext:Tr,use:Gs,useCallback:Os,useContext:Os,useEffect:Os,useImperativeHandle:Os,useLayoutEffect:Os,useInsertionEffect:Os,useMemo:Os,useReducer:Os,useRef:Os,useState:Os,useDebugValue:Os,useDeferredValue:Os,useTransition:Os,useSyncExternalStore:Os,useId:Os,useHostTransitionStatus:Os,useFormState:Os,useActionState:Os,useOptimistic:Os,useMemoCache:Os,useCacheRefresh:Os},Wl={readContext:Tr,use:Gs,useCallback:function(e,t){return Us().memoizedState=[e,void 0===t?null:t],e},useContext:Tr,useEffect:bl,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,yl(4194308,4,Sl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yl(4194308,4,e,t)},useInsertionEffect:function(e,t){yl(4,2,e,t)},useMemo:function(e,t){var n=Us();t=void 0===t?null:t;var a=e();if(Es){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Us();if(void 0!==n){var r=n(t);if(Es){pe(!0);try{n(t)}finally{pe(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=Fl.bind(null,ws,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},Us().memoizedState=e},useState:function(e){var t=(e=tl(e)).queue,n=Ul.bind(null,ws,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:kl,useDeferredValue:function(e,t){return Tl(Us(),e,t)},useTransition:function(){var e=tl(!1);return e=Ll.bind(null,ws,e.queue,!0,!1),Us().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=ws,r=Us();if(ir){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===sc)throw Error(s(349));124&ic||Js(a,t,n)}r.memoizedState=n;var l={value:n,getSnapshot:t};return r.queue=l,bl(Xs.bind(null,a,l,e),[e]),a.flags|=2048,hl(9,{destroy:void 0,resource:void 0},Ys.bind(null,a,l,n,t),null),n},useId:function(){var e=Us(),t=sc.identifierPrefix;if(ir){var n=er;t="«"+t+"R"+(n=(Za&~(1<<32-he(Za)-1)).toString(32)+n),0<(n=Cs++)&&(t+="H"+n.toString(32)),t+="»"}else t="«"+t+"r"+(n=Ls++).toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Rl,useFormState:ul,useActionState:ul,useOptimistic:function(e){var t=Us();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=$l.bind(null,ws,!0,n),n.dispatch=t,[e,t]},useMemoCache:qs,useCacheRefresh:function(){return Us().memoizedState=Ml.bind(null,ws)}},Ql={readContext:Tr,use:Gs,useCallback:El,useContext:Tr,useEffect:vl,useImperativeHandle:jl,useInsertionEffect:wl,useLayoutEffect:Nl,useMemo:Cl,useReducer:Vs,useRef:gl,useState:function(){return Vs(Hs)},useDebugValue:kl,useDeferredValue:function(e,t){return Al(Bs(),Ns.memoizedState,e,t)},useTransition:function(){var e=Vs(Hs)[0],t=Bs().memoizedState;return["boolean"==typeof e?e:$s(e),t]},useSyncExternalStore:Ks,useId:Il,useHostTransitionStatus:Rl,useFormState:dl,useActionState:dl,useOptimistic:function(e,t){return nl(Bs(),0,e,t)},useMemoCache:qs,useCacheRefresh:zl},Kl={readContext:Tr,use:Gs,useCallback:El,useContext:Tr,useEffect:vl,useImperativeHandle:jl,useInsertionEffect:wl,useLayoutEffect:Nl,useMemo:Cl,useReducer:Qs,useRef:gl,useState:function(){return Qs(Hs)},useDebugValue:kl,useDeferredValue:function(e,t){var n=Bs();return null===Ns?Tl(n,e,t):Al(n,Ns.memoizedState,e,t)},useTransition:function(){var e=Qs(Hs)[0],t=Bs().memoizedState;return["boolean"==typeof e?e:$s(e),t]},useSyncExternalStore:Ks,useId:Il,useHostTransitionStatus:Rl,useFormState:pl,useActionState:pl,useOptimistic:function(e,t){var n=Bs();return null!==Ns?nl(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:qs,useCacheRefresh:zl},Jl=null,Yl=0;function Xl(e){var t=Yl;return Yl+=1,null===Jl&&(Jl=[]),Zr(Jl,e,t)}function Zl(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ei(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ti(e){return(0,e._init)(e._payload)}function ni(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Ua(e,t)).index=0,e.sibling=null,e}function l(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=67108866,n):a:(t.flags|=67108866,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=qa(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var s=n.type;return s===y?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===T&&ti(s)===t.type)?(Zl(t=r(t,n.props),n),t.return=e,t):(Zl(t=$a(n.type,n.key,n.props,null,e.mode,a),n),t.return=e,t)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ha(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,a,s){return null===t||7!==t.tag?((t=Ga(n,e.mode,a,s)).return=e,t):((t=r(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=qa(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return Zl(n=$a(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=Ha(t,e.mode,n)).return=e,t;case T:return m(e,t=(0,t._init)(t._payload),n)}if(R(t)||_(t))return(t=Ga(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return m(e,Xl(t),n);if(t.$$typeof===S)return m(e,Ar(e,t),n);ei(e,t)}return null}function f(e,t,n,a){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==r?null:o(e,t,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===r?c(e,t,n,a):null;case h:return n.key===r?u(e,t,n,a):null;case T:return f(e,t,n=(r=n._init)(n._payload),a)}if(R(n)||_(n))return null!==r?null:d(e,t,n,a,null);if("function"==typeof n.then)return f(e,t,Xl(n),a);if(n.$$typeof===S)return f(e,t,Ar(e,n),a);ei(e,n)}return null}function g(e,t,n,a,r){if("string"==typeof a&&""!==a||"number"==typeof a||"bigint"==typeof a)return o(t,e=e.get(n)||null,""+a,r);if("object"==typeof a&&null!==a){switch(a.$$typeof){case p:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case h:return u(t,e=e.get(null===a.key?n:a.key)||null,a,r);case T:return g(e,t,n,a=(0,a._init)(a._payload),r)}if(R(a)||_(a))return d(t,e=e.get(n)||null,a,r,null);if("function"==typeof a.then)return g(e,t,n,Xl(a),r);if(a.$$typeof===S)return g(e,t,n,Ar(t,a),r);ei(t,a)}return null}function x(o,c,u,d){if("object"==typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(o,c.sibling),(d=r(c,u.props.children)).return=o,o=d;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===T&&ti(b)===c.type){n(o,c.sibling),Zl(d=r(c,u.props),u),d.return=o,o=d;break e}n(o,c);break}t(o,c),c=c.sibling}u.type===y?((d=Ga(u.props.children,o.mode,d,u.key)).return=o,o=d):(Zl(d=$a(u.type,u.key,u.props,null,o.mode,d),u),d.return=o,o=d)}return i(o);case h:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(o,c.sibling),(d=r(c,u.children||[])).return=o,o=d;break e}n(o,c);break}t(o,c),c=c.sibling}(d=Ha(u,o.mode,d)).return=o,o=d}return i(o);case T:return x(o,c,u=(b=u._init)(u._payload),d)}if(R(u))return function(r,s,i,o){for(var c=null,u=null,d=s,p=s=0,h=null;null!==d&&p<i.length;p++){d.index>p?(h=d,d=null):h=d.sibling;var y=f(r,d,i[p],o);if(null===y){null===d&&(d=h);break}e&&d&&null===y.alternate&&t(r,d),s=l(y,s,p),null===u?c=y:u.sibling=y,u=y,d=h}if(p===i.length)return n(r,d),ir&&tr(r,p),c;if(null===d){for(;p<i.length;p++)null!==(d=m(r,i[p],o))&&(s=l(d,s,p),null===u?c=d:u.sibling=d,u=d);return ir&&tr(r,p),c}for(d=a(d);p<i.length;p++)null!==(h=g(d,r,p,i[p],o))&&(e&&null!==h.alternate&&d.delete(null===h.key?p:h.key),s=l(h,s,p),null===u?c=h:u.sibling=h,u=h);return e&&d.forEach(function(e){return t(r,e)}),ir&&tr(r,p),c}(o,c,u,d);if(_(u)){if("function"!=typeof(b=_(u)))throw Error(s(150));return function(r,i,o,c){if(null==o)throw Error(s(151));for(var u=null,d=null,p=i,h=i=0,y=null,x=o.next();null!==p&&!x.done;h++,x=o.next()){p.index>h?(y=p,p=null):y=p.sibling;var b=f(r,p,x.value,c);if(null===b){null===p&&(p=y);break}e&&p&&null===b.alternate&&t(r,p),i=l(b,i,h),null===d?u=b:d.sibling=b,d=b,p=y}if(x.done)return n(r,p),ir&&tr(r,h),u;if(null===p){for(;!x.done;h++,x=o.next())null!==(x=m(r,x.value,c))&&(i=l(x,i,h),null===d?u=x:d.sibling=x,d=x);return ir&&tr(r,h),u}for(p=a(p);!x.done;h++,x=o.next())null!==(x=g(p,r,h,x.value,c))&&(e&&null!==x.alternate&&p.delete(null===x.key?h:x.key),i=l(x,i,h),null===d?u=x:d.sibling=x,d=x);return e&&p.forEach(function(e){return t(r,e)}),ir&&tr(r,h),u}(o,c,u=b.call(u),d)}if("function"==typeof u.then)return x(o,c,Xl(u),d);if(u.$$typeof===S)return x(o,c,Ar(o,u),d);ei(o,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(o,c.sibling),(d=r(c,u)).return=o,o=d):(n(o,c),(d=qa(u,o.mode,d)).return=o,o=d),i(o)):n(o,c)}return function(e,t,n,a){try{Yl=0;var r=x(e,t,n,a);return Jl=null,r}catch(l){if(l===Wr||l===Kr)throw l;var s=Ma(29,l,null,e.mode);return s.lanes=a,s.return=e,s}}}var ai=ni(!0),ri=ni(!1),si=B(null),li=null;function ii(e){var t=e.alternate;G(di,1&di.current),G(si,e),null===li&&(null===t||null!==hs.current||null!==t.memoizedState)&&(li=e)}function oi(e){if(22===e.tag){if(G(di,di.current),G(si,e),null===li){var t=e.alternate;null!==t&&null!==t.memoizedState&&(li=e)}}else ci()}function ci(){G(di,di.current),G(si,si.current)}function ui(e){$(si),li===e&&(li=null),$(di)}var di=B(0);function mi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||xd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fi(e,t,n,a){n=null==(n=n(a,t=e.memoizedState))?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pi={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Ic(),r=ls(a);r.payload=t,null!=n&&(r.callback=n),null!==(t=is(e,r,a))&&(Mc(t,e,a),os(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Ic(),r=ls(a);r.tag=1,r.payload=t,null!=n&&(r.callback=n),null!==(t=is(e,r,a))&&(Mc(t,e,a),os(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ic(),a=ls(n);a.tag=2,null!=t&&(a.callback=t),null!==(t=is(e,a,n))&&(Mc(t,e,n),os(t,e,n))}};function hi(e,t,n,a,r,s,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,l):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,a)||!Xn(r,s))}function gi(e,t,n,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&pi.enqueueReplaceState(t,t.state,null)}function yi(e,t){var n=t;if("ref"in t)for(var a in n={},t)"ref"!==a&&(n[a]=t[a]);if(e=e.defaultProps)for(var r in n===t&&(n=d({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var xi="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function bi(e){xi(e)}function vi(e){}function wi(e){xi(e)}function Ni(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Si(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function ji(e,t,n){return(n=ls(n)).tag=3,n.payload={element:null},n.callback=function(){Ni(e,t)},n}function ki(e){return(e=ls(e)).tag=3,e}function Ei(e,t,n,a){var r=n.type.getDerivedStateFromError;if("function"==typeof r){var s=a.value;e.payload=function(){return r(s)},e.callback=function(){Si(t,n,a)}}var l=n.stateNode;null!==l&&"function"==typeof l.componentDidCatch&&(e.callback=function(){Si(t,n,a),"function"!=typeof r&&(null===Ec?Ec=new Set([this]):Ec.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var Ci=Error(s(461)),Ti=!1;function Ai(e,t,n,a){t.child=null===e?ri(t,null,n,a):ai(t,e.child,n,a)}function Li(e,t,n,a,r){n=n.render;var s=t.ref;if("ref"in a){var l={};for(var i in a)"ref"!==i&&(l[i]=a[i])}else l=a;return Cr(t),a=Ps(e,t,n,l,s,r),i=zs(),null===e||Ti?(ir&&i&&ar(t),t.flags|=1,Ai(e,t,a,r),t.child):(Ms(e,t,r),Ji(e,t,r))}function Oi(e,t,n,a,r){if(null===e){var s=n.type;return"function"!=typeof s||Fa(s)||void 0!==s.defaultProps||null!==n.compare?((e=$a(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,_i(e,t,s,a,r))}if(s=e.child,!Yi(e,r)){var l=s.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(l,a)&&e.ref===t.ref)return Ji(e,t,r)}return t.flags|=1,(e=Ua(s,a)).ref=t.ref,e.return=t,t.child=e}function _i(e,t,n,a,r){if(null!==e){var s=e.memoizedProps;if(Xn(s,a)&&e.ref===t.ref){if(Ti=!1,t.pendingProps=a=s,!Yi(e,r))return t.lanes=e.lanes,Ji(e,t,r);131072&e.flags&&(Ti=!0)}}return Ii(e,t,n,a,r)}function Pi(e,t,n){var a=t.pendingProps,r=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode){if(128&t.flags){if(a=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,s=0;null!==r;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~a}else t.childLanes=0,t.child=null;return Di(e,t,a,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Di(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hr(0,null!==s?s.cachePool:null),null!==s?ys(t,s):xs(),oi(t)}else null!==s?(Hr(0,s.cachePool),ys(t,s),ci(),t.memoizedState=null):(null!==e&&Hr(0,null),xs(),ci());return Ai(e,t,r,n),t.child}function Di(e,t,n,a){var r=qr();return r=null===r?null:{parent:Dr._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Hr(0,null),xs(),oi(t),null!==e&&kr(e,t,a,!0),null}function Ri(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ii(e,t,n,a,r){return Cr(t),n=Ps(e,t,n,a,void 0,r),a=zs(),null===e||Ti?(ir&&a&&ar(t),t.flags|=1,Ai(e,t,n,r),t.child):(Ms(e,t,r),Ji(e,t,r))}function zi(e,t,n,a,r,s){return Cr(t),t.updateQueue=null,n=Rs(t,a,n,r),Ds(e),a=zs(),null===e||Ti?(ir&&a&&ar(t),t.flags|=1,Ai(e,t,n,s),t.child):(Ms(e,t,s),Ji(e,t,s))}function Mi(e,t,n,a,r){if(Cr(t),null===t.stateNode){var s=Ia,l=n.contextType;"object"==typeof l&&null!==l&&(s=Tr(l)),s=new n(a,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=pi,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=a,s.state=t.memoizedState,s.refs={},rs(t),l=n.contextType,s.context="object"==typeof l&&null!==l?Tr(l):Ia,s.state=t.memoizedState,"function"==typeof(l=n.getDerivedStateFromProps)&&(fi(t,n,l,a),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(l=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),l!==s.state&&pi.enqueueReplaceState(s,s.state,null),ms(t,a,s,r),ds(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){s=t.stateNode;var i=t.memoizedProps,o=yi(n,i);s.props=o;var c=s.context,u=n.contextType;l=Ia,"object"==typeof u&&null!==u&&(l=Tr(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate,i=t.pendingProps!==i,u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(i||c!==l)&&gi(t,s,a,l),as=!1;var m=t.memoizedState;s.state=m,ms(t,a,s,r),ds(),c=t.memoizedState,i||m!==c||as?("function"==typeof d&&(fi(t,n,d,a),c=t.memoizedState),(o=as||hi(t,n,o,a,m,c,l))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),s.props=a,s.state=c,s.context=l,a=o):("function"==typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,ss(e,t),u=yi(n,l=t.memoizedProps),s.props=u,d=t.pendingProps,m=s.context,c=n.contextType,o=Ia,"object"==typeof c&&null!==c&&(o=Tr(c)),(c="function"==typeof(i=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l!==d||m!==o)&&gi(t,s,a,o),as=!1,m=t.memoizedState,s.state=m,ms(t,a,s,r),ds();var f=t.memoizedState;l!==d||m!==f||as||null!==e&&null!==e.dependencies&&Er(e.dependencies)?("function"==typeof i&&(fi(t,n,i,a),f=t.memoizedState),(u=as||hi(t,n,u,a,m,f,o)||null!==e&&null!==e.dependencies&&Er(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(a,f,o),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,f,o)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=f),s.props=a,s.state=f,s.context=o,a=u):("function"!=typeof s.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,Ri(e,t),a=!!(128&t.flags),s||a?(s=t.stateNode,n=a&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&a?(t.child=ai(t,e.child,null,r),t.child=ai(t,null,n,r)):Ai(e,t,n,r),t.memoizedState=s.state,e=t.child):e=Ji(e,t,r),e}function Fi(e,t,n,a){return hr(),t.flags|=256,Ai(e,t,n,a),t.child}var Ui={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bi(e){return{baseLanes:e,cachePool:Vr()}}function $i(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=xc),e}function Gi(e,t,n){var a,r=t.pendingProps,l=!1,i=!!(128&t.flags);if((a=i)||(a=(null===e||null!==e.memoizedState)&&!!(2&di.current)),a&&(l=!0,t.flags&=-129),a=!!(32&t.flags),t.flags&=-33,null===e){if(ir){if(l?ii(t):ci(),ir){var o,c=lr;if(o=c){e:{for(o=c,c=cr;8!==o.nodeType;){if(!c){c=null;break e}if(null===(o=bd(o.nextSibling))){c=null;break e}}c=o}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xa?{id:Za,overflow:er}:null,retryLane:536870912,hydrationErrors:null},(o=Ma(18,null,null,0)).stateNode=c,o.return=t,t.child=o,sr=t,lr=null,o=!0):o=!1}o||dr(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return xd(c)?t.lanes=32:t.lanes=536870912,null;ui(t)}return c=r.children,r=r.fallback,l?(ci(),c=Hi({mode:"hidden",children:c},l=t.mode),r=Ga(r,l,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,(l=t.child).memoizedState=Bi(n),l.childLanes=$i(e,a,n),t.memoizedState=Ui,r):(ii(t),qi(t,c))}if(null!==(o=e.memoizedState)&&null!==(c=o.dehydrated)){if(i)256&t.flags?(ii(t),t.flags&=-257,t=Vi(e,t,n)):null!==t.memoizedState?(ci(),t.child=e.child,t.flags|=128,t=null):(ci(),l=r.fallback,c=t.mode,r=Hi({mode:"visible",children:r.children},c),(l=Ga(l,c,n,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,ai(t,e.child,null,n),(r=t.child).memoizedState=Bi(n),r.childLanes=$i(e,a,n),t.memoizedState=Ui,t=l);else if(ii(t),xd(c)){if(a=c.nextSibling&&c.nextSibling.dataset)var u=a.dgst;a=u,(r=Error(s(419))).stack="",r.digest=a,yr({value:r,source:null,stack:null}),t=Vi(e,t,n)}else if(Ti||kr(e,t,n,!1),a=0!==(n&e.childLanes),Ti||a){if(null!==(a=sc)&&(0!==(r=0!==((r=42&(r=n&-n)?1:Le(r))&(a.suspendedLanes|n))?0:r)&&r!==o.retryLane))throw o.retryLane=r,Pa(e,r),Mc(a,e,r),Ci;"$?"===c.data||Kc(),t=Vi(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,lr=bd(c.nextSibling),sr=t,ir=!0,or=null,cr=!1,null!==e&&(Ja[Ya++]=Za,Ja[Ya++]=er,Ja[Ya++]=Xa,Za=e.id,er=e.overflow,Xa=t),(t=qi(t,r.children)).flags|=4096);return t}return l?(ci(),l=r.fallback,c=t.mode,u=(o=e.child).sibling,(r=Ua(o,{mode:"hidden",children:r.children})).subtreeFlags=65011712&o.subtreeFlags,null!==u?l=Ua(u,l):(l=Ga(l,c,n,null)).flags|=2,l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,null===(c=e.child.memoizedState)?c=Bi(n):(null!==(o=c.cachePool)?(u=Dr._currentValue,o=o.parent!==u?{parent:u,pool:u}:o):o=Vr(),c={baseLanes:c.baseLanes|n,cachePool:o}),l.memoizedState=c,l.childLanes=$i(e,a,n),t.memoizedState=Ui,r):(ii(t),e=(n=e.child).sibling,(n=Ua(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function qi(e,t){return(t=Hi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Hi(e,t){return(e=Ma(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Vi(e,t,n){return ai(t,e.child,null,n),(e=qi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wi(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Sr(e.return,t,n)}function Qi(e,t,n,a,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=r)}function Ki(e,t,n){var a=t.pendingProps,r=a.revealOrder,s=a.tail;if(Ai(e,t,a.children,n),2&(a=di.current))a=1&a|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wi(e,n,t);else if(19===e.tag)Wi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(G(di,a),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===mi(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Qi(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===mi(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Qi(t,!0,n,null,s);break;case"together":Qi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ji(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(kr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ua(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ua(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yi(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Er(e))}function Xi(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ti=!0;else{if(!(Yi(e,n)||128&t.flags))return Ti=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),wr(0,Dr,e.memoizedState.cache),hr();break;case 27:case 5:J(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:wr(0,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(ii(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Gi(e,t,n):(ii(t),null!==(e=Ji(e,t,n))?e.sibling:null);ii(t);break;case 19:var r=!!(128&e.flags);if((a=0!==(n&t.childLanes))||(kr(e,t,n,!1),a=0!==(n&t.childLanes)),r){if(a)return Ki(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),G(di,di.current),a)break;return null;case 22:case 23:return t.lanes=0,Pi(e,t,n);case 24:wr(0,Dr,e.memoizedState.cache)}return Ji(e,t,n)}(e,t,n);Ti=!!(131072&e.flags)}else Ti=!1,ir&&1048576&t.flags&&nr(t,Ka,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,r=a._init;if(a=r(a._payload),t.type=a,"function"!=typeof a){if(null!=a){if((r=a.$$typeof)===j){t.tag=11,t=Li(null,t,a,e,n);break e}if(r===C){t.tag=14,t=Oi(null,t,a,e,n);break e}}throw t=D(a)||a,Error(s(306,t,""))}Fa(a)?(e=yi(a,e),t.tag=1,t=Mi(null,t,a,e,n)):(t.tag=0,t=Ii(null,t,a,e,n))}return t;case 0:return Ii(e,t,t.type,t.pendingProps,n);case 1:return Mi(e,t,a=t.type,r=yi(a,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(s(387));a=t.pendingProps;var l=t.memoizedState;r=l.element,ss(e,t),ms(t,a,null,n);var i=t.memoizedState;if(a=i.cache,wr(0,Dr,a),a!==l.cache&&jr(t,[Dr],n,!0),ds(),a=i.element,l.isDehydrated){if(l={element:a,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Fi(e,t,a,n);break e}if(a!==r){yr(r=Ea(Error(s(424)),t)),t=Fi(e,t,a,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(lr=bd(e.firstChild),sr=t,ir=!0,or=null,cr=!0,n=ri(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hr(),a===r){t=Ji(e,t,n);break e}Ai(e,t,a,n)}t=t.child}return t;case 26:return Ri(e,t),null===e?(n=Ld(t.type,null,t.pendingProps,null))?t.memoizedState=n:ir||(n=t.type,e=t.pendingProps,(a=sd(V.current).createElement(n))[De]=t,a[Re]=e,nd(a,n,e),We(a),t.stateNode=a):t.memoizedState=Ld(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J(t),null===e&&ir&&(a=t.stateNode=Nd(t.type,t.pendingProps,V.current),sr=t,cr=!0,r=lr,hd(t.type)?(vd=r,lr=bd(a.firstChild)):lr=r),Ai(e,t,t.pendingProps.children,n),Ri(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ir&&((r=a=lr)&&(null!==(a=function(e,t,n,a){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[Be])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===s)return e}if(null===(e=bd(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,cr))?(t.stateNode=a,sr=t,lr=bd(a.firstChild),cr=!1,r=!0):r=!1),r||dr(t)),J(t),r=t.type,l=t.pendingProps,i=null!==e?e.memoizedProps:null,a=l.children,od(r,l)?a=null:null!==i&&od(r,i)&&(t.flags|=32),null!==t.memoizedState&&(r=Ps(e,t,Is,null,null,n),Jd._currentValue=r),Ri(e,t),Ai(e,t,a,n),t.child;case 6:return null===e&&ir&&((e=n=lr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=bd(e.nextSibling)))return null}return e}(n,t.pendingProps,cr))?(t.stateNode=n,sr=t,lr=null,e=!0):e=!1),e||dr(t)),null;case 13:return Gi(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=ai(t,null,a,n):Ai(e,t,a,n),t.child;case 11:return Li(e,t,t.type,t.pendingProps,n);case 7:return Ai(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ai(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,wr(0,t.type,a.value),Ai(e,t,a.children,n),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,Cr(t),a=a(r=Tr(r)),t.flags|=1,Ai(e,t,a,n),t.child;case 14:return Oi(e,t,t.type,t.pendingProps,n);case 15:return _i(e,t,t.type,t.pendingProps,n);case 19:return Ki(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},null===e?((n=Hi(a,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Ua(e.child,a)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Pi(e,t,n);case 24:return Cr(t),a=Tr(Dr),null===e?(null===(r=qr())&&(r=sc,l=Rr(),r.pooledCache=l,l.refCount++,null!==l&&(r.pooledCacheLanes|=n),r=l),t.memoizedState={parent:a,cache:r},rs(t),wr(0,Dr,r)):(0!==(e.lanes&n)&&(ss(e,t),ms(t,null,null,n),ds()),r=e.memoizedState,l=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),wr(0,Dr,a)):(a=l.cache,wr(0,Dr,a),a!==r.cache&&jr(t,[Dr],n,!0))),Ai(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Zi(e){e.flags|=4}function eo(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Gd(t)){if(null!==(t=si.current)&&((4194048&ic)===ic?null!==li:(62914560&ic)!==ic&&!(536870912&ic)||t!==li))throw es=Jr,Qr;e.flags|=8192}}function to(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,bc|=t)}function no(e,t){if(!ir)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ao(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=65011712&r.subtreeFlags,a|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function ro(e,t,n){var a=t.pendingProps;switch(rr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ao(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Nr(Dr),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(pr(t)?Zi(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,gr())),ao(t),null;case 26:return n=t.memoizedState,null===e?(Zi(t),null!==n?(ao(t),eo(t,n)):(ao(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zi(t),ao(t),eo(t,n)):(ao(t),t.flags&=-16777217):(e.memoizedProps!==a&&Zi(t),ao(t),t.flags&=-16777217),null;case 27:Y(t),n=V.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Zi(t);else{if(!a){if(null===t.stateNode)throw Error(s(166));return ao(t),null}e=q.current,pr(t)?mr(t):(e=Nd(r,a,n),t.stateNode=e,Zi(t))}return ao(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Zi(t);else{if(!a){if(null===t.stateNode)throw Error(s(166));return ao(t),null}if(e=q.current,pr(t))mr(t);else{switch(r=sd(V.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof a.is?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e="string"==typeof a.is?r.createElement(n,{is:a.is}):r.createElement(n)}}e[De]=t,e[Re]=a;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(nd(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zi(t)}}return ao(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&Zi(t);else{if("string"!=typeof a&&null===t.stateNode)throw Error(s(166));if(e=V.current,pr(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(r=sr))switch(r.tag){case 27:case 5:a=r.memoizedProps}e[De]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||Xu(e.nodeValue,n)))||dr(t)}else(e=sd(e).createTextNode(a))[De]=t,t.stateNode=e}return ao(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=pr(t),null!==a&&null!==a.dehydrated){if(null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[De]=t}else hr(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ao(t),r=!1}else r=gr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(ui(t),t):(ui(t),null)}if(ui(t),128&t.flags)return t.lanes=n,t;if(n=null!==a,e=null!==e&&null!==e.memoizedState,n){r=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(r=a.alternate.memoizedState.cachePool.pool);var l=null;null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(l=a.memoizedState.cachePool.pool),l!==r&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),to(t,t.updateQueue),ao(t),null;case 4:return K(),null===e&&$u(t.stateNode.containerInfo),ao(t),null;case 10:return Nr(t.type),ao(t),null;case 19:if($(di),null===(r=t.memoizedState))return ao(t),null;if(a=!!(128&t.flags),null===(l=r.rendering))if(a)no(r,!1);else{if(0!==pc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=mi(e))){for(t.flags|=128,no(r,!1),e=l.updateQueue,t.updateQueue=e,to(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ba(n,e),n=n.sibling;return G(di,1&di.current|2),t.child}e=e.sibling}null!==r.tail&&ae()>jc&&(t.flags|=128,a=!0,no(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=mi(l))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,to(t,e),no(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!ir)return ao(t),null}else 2*ae()-r.renderingStartTime>jc&&536870912!==n&&(t.flags|=128,a=!0,no(r,!1),t.lanes=4194304);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(e=r.last)?e.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=ae(),t.sibling=null,e=di.current,G(di,a?1&e|2:1&e),t):(ao(t),null);case 22:case 23:return ui(t),bs(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?!!(536870912&n)&&!(128&t.flags)&&(ao(t),6&t.subtreeFlags&&(t.flags|=8192)):ao(t),null!==(n=t.updateQueue)&&to(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&$(Gr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Nr(Dr),ao(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function so(e,t){switch(rr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Nr(Dr),K(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(ui(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return $(di),null;case 4:return K(),null;case 10:return Nr(t.type),null;case 22:case 23:return ui(t),bs(),null!==e&&$(Gr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Nr(Dr),null;default:return null}}function lo(e,t){switch(rr(t),t.tag){case 3:Nr(Dr),K();break;case 26:case 27:case 5:Y(t);break;case 4:K();break;case 13:ui(t);break;case 19:$(di);break;case 10:Nr(t.type);break;case 22:case 23:ui(t),bs(),null!==e&&$(Gr);break;case 24:Nr(Dr)}}function io(e,t){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var r=a.next;n=r;do{if((n.tag&e)===e){a=void 0;var s=n.create,l=n.inst;a=s(),l.destroy=a}n=n.next}while(n!==r)}}catch(i){mu(t,t.return,i)}}function oo(e,t,n){try{var a=t.updateQueue,r=null!==a?a.lastEffect:null;if(null!==r){var s=r.next;a=s;do{if((a.tag&e)===e){var l=a.inst,i=l.destroy;if(void 0!==i){l.destroy=void 0,r=t;var o=n,c=i;try{c()}catch(u){mu(r,o,u)}}}a=a.next}while(a!==s)}}catch(u){mu(t,t.return,u)}}function co(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ps(t,n)}catch(a){mu(e,e.return,a)}}}function uo(e,t,n){n.props=yi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){mu(e,t,a)}}function mo(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"==typeof n?e.refCleanup=n(a):n.current=a}}catch(r){mu(e,t,r)}}function fo(e,t){var n=e.ref,a=e.refCleanup;if(null!==n)if("function"==typeof a)try{a()}catch(r){mu(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(s){mu(e,t,s)}else n.current=null}function po(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){mu(e,e.return,r)}}function ho(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,l=null,i=null,o=null,c=null,u=null,d=null;for(p in n){var m=n[p];if(n.hasOwnProperty(p)&&null!=m)switch(p){case"checked":case"value":break;case"defaultValue":c=m;default:a.hasOwnProperty(p)||ed(e,t,p,null,a,m)}}for(var f in a){var p=a[f];if(m=n[f],a.hasOwnProperty(f)&&(null!=p||null!=m))switch(f){case"type":l=p;break;case"name":r=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":i=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==m&&ed(e,t,f,p,a,m)}}return void xt(e,i,o,c,u,d,l,r);case"select":for(l in p=i=o=f=null,n)if(c=n[l],n.hasOwnProperty(l)&&null!=c)switch(l){case"value":break;case"multiple":p=c;default:a.hasOwnProperty(l)||ed(e,t,l,null,a,c)}for(r in a)if(l=a[r],c=n[r],a.hasOwnProperty(r)&&(null!=l||null!=c))switch(r){case"value":f=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:l!==c&&ed(e,t,r,l,a,c)}return t=o,n=i,a=p,void(null!=f?wt(e,!!n,f,!1):!!a!=!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(o in p=f=null,n)if(r=n[o],n.hasOwnProperty(o)&&null!=r&&!a.hasOwnProperty(o))switch(o){case"value":case"children":break;default:ed(e,t,o,null,a,r)}for(i in a)if(r=a[i],l=n[i],a.hasOwnProperty(i)&&(null!=r||null!=l))switch(i){case"value":f=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(s(91));break;default:r!==l&&ed(e,t,i,r,a,l)}return void Nt(e,f,p);case"option":for(var h in n)if(f=n[h],n.hasOwnProperty(h)&&null!=f&&!a.hasOwnProperty(h))if("selected"===h)e.selected=!1;else ed(e,t,h,null,a,f);for(c in a)if(f=a[c],p=n[c],a.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else ed(e,t,c,f,a,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!a.hasOwnProperty(g)&&ed(e,t,g,null,a,f);for(u in a)if(f=a[u],p=n[u],a.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:ed(e,t,u,f,a,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!a.hasOwnProperty(y)&&td(e,t,y,void 0,a,f);for(d in a)f=a[d],p=n[d],!a.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||td(e,t,d,f,a,p);return}}for(var x in n)f=n[x],n.hasOwnProperty(x)&&null!=f&&!a.hasOwnProperty(x)&&ed(e,t,x,null,a,f);for(m in a)f=a[m],p=n[m],!a.hasOwnProperty(m)||f===p||null==f&&null==p||ed(e,t,m,f,a,p)}(a,e.type,n,t),a[Re]=t}catch(r){mu(e,e.return,r)}}function go(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hd(e.type)||4===e.tag}function yo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||go(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function xo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zu));else if(4!==a&&(27===a&&hd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(xo(e,t,n),e=e.sibling;null!==e;)xo(e,t,n),e=e.sibling}function bo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&(27===a&&hd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(bo(e,t,n),e=e.sibling;null!==e;)bo(e,t,n),e=e.sibling}function vo(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);nd(t,a,n),t[De]=e,t[Re]=n}catch(s){mu(e,e.return,s)}}var wo=!1,No=!1,So=!1,jo="function"==typeof WeakSet?WeakSet:Set,ko=null;function Eo(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Fo(e,n),4&a&&io(5,n);break;case 1:if(Fo(e,n),4&a)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(l){mu(n,n.return,l)}else{var r=yi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){mu(n,n.return,i)}}64&a&&co(n),512&a&&mo(n,n.return);break;case 3:if(Fo(e,n),64&a&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ps(e,t)}catch(l){mu(n,n.return,l)}}break;case 27:null===t&&4&a&&vo(n);case 26:case 5:Fo(e,n),null===t&&4&a&&po(n),512&a&&mo(n,n.return);break;case 12:Fo(e,n);break;case 13:Fo(e,n),4&a&&_o(e,n),64&a&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,n=gu.bind(null,n))));break;case 22:if(!(a=null!==n.memoizedState||wo)){t=null!==t&&null!==t.memoizedState||No,r=wo;var s=No;wo=a,(No=t)&&!s?Bo(e,n,!!(8772&n.subtreeFlags)):Fo(e,n),wo=r,No=s}break;case 30:break;default:Fo(e,n)}}function Co(e){var t=e.alternate;null!==t&&(e.alternate=null,Co(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var To=null,Ao=!1;function Lo(e,t,n){for(n=n.child;null!==n;)Oo(e,t,n),n=n.sibling}function Oo(e,t,n){if(fe&&"function"==typeof fe.onCommitFiberUnmount)try{fe.onCommitFiberUnmount(me,n)}catch(s){}switch(n.tag){case 26:No||fo(n,t),Lo(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:No||fo(n,t);var a=To,r=Ao;hd(n.type)&&(To=n.stateNode,Ao=!1),Lo(e,t,n),Sd(n.stateNode),To=a,Ao=r;break;case 5:No||fo(n,t);case 6:if(a=To,r=Ao,To=null,Lo(e,t,n),Ao=r,null!==(To=a))if(Ao)try{(9===To.nodeType?To.body:"HTML"===To.nodeName?To.ownerDocument.body:To).removeChild(n.stateNode)}catch(l){mu(n,t,l)}else try{To.removeChild(n.stateNode)}catch(l){mu(n,t,l)}break;case 18:null!==To&&(Ao?(gd(9===(e=To).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Am(e)):gd(To,n.stateNode));break;case 4:a=To,r=Ao,To=n.stateNode.containerInfo,Ao=!0,Lo(e,t,n),To=a,Ao=r;break;case 0:case 11:case 14:case 15:No||oo(2,n,t),No||oo(4,n,t),Lo(e,t,n);break;case 1:No||(fo(n,t),"function"==typeof(a=n.stateNode).componentWillUnmount&&uo(n,t,a)),Lo(e,t,n);break;case 21:Lo(e,t,n);break;case 22:No=(a=No)||null!==n.memoizedState,Lo(e,t,n),No=a;break;default:Lo(e,t,n)}}function _o(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Am(e)}catch(n){mu(t,t.return,n)}}function Po(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new jo),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new jo),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var a=yu.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}function Do(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a],l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 27:if(hd(o.type)){To=o.stateNode,Ao=!1;break e}break;case 5:To=o.stateNode,Ao=!1;break e;case 3:case 4:To=o.stateNode.containerInfo,Ao=!0;break e}o=o.return}if(null===To)throw Error(s(160));Oo(l,i,r),To=null,Ao=!1,null!==(l=r.alternate)&&(l.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Io(t,e),t=t.sibling}var Ro=null;function Io(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Do(t,e),zo(e),4&a&&(oo(3,e,e.return),io(3,e),oo(5,e,e.return));break;case 1:Do(t,e),zo(e),512&a&&(No||null===n||fo(n,n.return)),64&a&&wo&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var r=Ro;if(Do(t,e),zo(e),512&a&&(No||null===n||fo(n,n.return)),4&a){var l=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":(!(l=r.getElementsByTagName("title")[0])||l[Be]||l[De]||"http://www.w3.org/2000/svg"===l.namespaceURI||l.hasAttribute("itemprop"))&&(l=r.createElement(a),r.head.insertBefore(l,r.querySelector("head > title"))),nd(l,a,n),l[De]=e,We(l),a=l;break e;case"link":var i=Bd("link","href",r).get(a+(n.href||""));if(i)for(var o=0;o<i.length;o++)if((l=i[o]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&l.getAttribute("rel")===(null==n.rel?null:n.rel)&&l.getAttribute("title")===(null==n.title?null:n.title)&&l.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){i.splice(o,1);break t}nd(l=r.createElement(a),a,n),r.head.appendChild(l);break;case"meta":if(i=Bd("meta","content",r).get(a+(n.content||"")))for(o=0;o<i.length;o++)if((l=i[o]).getAttribute("content")===(null==n.content?null:""+n.content)&&l.getAttribute("name")===(null==n.name?null:n.name)&&l.getAttribute("property")===(null==n.property?null:n.property)&&l.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&l.getAttribute("charset")===(null==n.charSet?null:n.charSet)){i.splice(o,1);break t}nd(l=r.createElement(a),a,n),r.head.appendChild(l);break;default:throw Error(s(468,a))}l[De]=e,We(l),a=l}e.stateNode=a}else $d(r,e.type,e.stateNode);else e.stateNode=Id(r,a,e.memoizedProps);else l!==a?(null===l?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):l.count--,null===a?$d(r,e.type,e.stateNode):Id(r,a,e.memoizedProps)):null===a&&null!==e.stateNode&&ho(e,e.memoizedProps,n.memoizedProps)}break;case 27:Do(t,e),zo(e),512&a&&(No||null===n||fo(n,n.return)),null!==n&&4&a&&ho(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Do(t,e),zo(e),512&a&&(No||null===n||fo(n,n.return)),32&e.flags){r=e.stateNode;try{jt(r,"")}catch(p){mu(e,e.return,p)}}4&a&&null!=e.stateNode&&ho(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&a&&(So=!0);break;case 6:if(Do(t,e),zo(e),4&a){if(null===e.stateNode)throw Error(s(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(p){mu(e,e.return,p)}}break;case 3:if(Ud=null,r=Ro,Ro=Ed(t.containerInfo),Do(t,e),Ro=r,zo(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Am(t.containerInfo)}catch(p){mu(e,e.return,p)}So&&(So=!1,Mo(e));break;case 4:a=Ro,Ro=Ed(e.stateNode.containerInfo),Do(t,e),zo(e),Ro=a;break;case 12:default:Do(t,e),zo(e);break;case 13:Do(t,e),zo(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Sc=ae()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Po(e,a)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=wo,d=No;if(wo=u||r,No=d||c,Do(t,e),No=d,wo=u,zo(e),8192&a)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||wo||No||Uo(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(l=c.stateNode,r)"function"==typeof(i=l.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{o=c.stateNode;var m=c.memoizedProps.style,f=null!=m&&m.hasOwnProperty("display")?m.display:null;o.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(p){mu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(p){mu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,Po(e,n))));break;case 19:Do(t,e),zo(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Po(e,a)));case 30:case 21:}}function zo(e){var t=e.flags;if(2&t){try{for(var n,a=e.return;null!==a;){if(go(a)){n=a;break}a=a.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var r=n.stateNode;bo(e,yo(e),r);break;case 5:var l=n.stateNode;32&n.flags&&(jt(l,""),n.flags&=-33),bo(e,yo(e),l);break;case 3:case 4:var i=n.stateNode.containerInfo;xo(e,yo(e),i);break;default:throw Error(s(161))}}catch(o){mu(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Mo(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Mo(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fo(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Eo(e,t.alternate,t),t=t.sibling}function Uo(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:oo(4,t,t.return),Uo(t);break;case 1:fo(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&uo(t,t.return,n),Uo(t);break;case 27:Sd(t.stateNode);case 26:case 5:fo(t,t.return),Uo(t);break;case 22:null===t.memoizedState&&Uo(t);break;default:Uo(t)}e=e.sibling}}function Bo(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,r=e,s=t,l=s.flags;switch(s.tag){case 0:case 11:case 15:Bo(r,s,n),io(4,s);break;case 1:if(Bo(r,s,n),"function"==typeof(r=(a=s).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){mu(a,a.return,c)}if(null!==(r=(a=s).updateQueue)){var i=a.stateNode;try{var o=r.shared.hiddenCallbacks;if(null!==o)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)fs(o[r],i)}catch(c){mu(a,a.return,c)}}n&&64&l&&co(s),mo(s,s.return);break;case 27:vo(s);case 26:case 5:Bo(r,s,n),n&&null===a&&4&l&&po(s),mo(s,s.return);break;case 12:Bo(r,s,n);break;case 13:Bo(r,s,n),n&&4&l&&_o(r,s);break;case 22:null===s.memoizedState&&Bo(r,s,n),mo(s,s.return);break;case 30:break;default:Bo(r,s,n)}t=t.sibling}}function $o(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ir(n))}function Go(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ir(e))}function qo(e,t,n,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Ho(e,t,n,a),t=t.sibling}function Ho(e,t,n,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:qo(e,t,n,a),2048&r&&io(9,t);break;case 1:case 13:default:qo(e,t,n,a);break;case 3:qo(e,t,n,a),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ir(e)));break;case 12:if(2048&r){qo(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,l=s.id,i=s.onPostCommit;"function"==typeof i&&i(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){mu(t,t.return,o)}}else qo(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,l=t.alternate,null!==t.memoizedState?2&s._visibility?qo(e,t,n,a):Wo(e,t):2&s._visibility?qo(e,t,n,a):(s._visibility|=2,Vo(e,t,n,a,!!(10256&t.subtreeFlags))),2048&r&&$o(l,t);break;case 24:qo(e,t,n,a),2048&r&&Go(t.alternate,t)}}function Vo(e,t,n,a,r){for(r=r&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,l=t,i=n,o=a,c=l.flags;switch(l.tag){case 0:case 11:case 15:Vo(s,l,i,o,r),io(8,l);break;case 23:break;case 22:var u=l.stateNode;null!==l.memoizedState?2&u._visibility?Vo(s,l,i,o,r):Wo(s,l):(u._visibility|=2,Vo(s,l,i,o,r)),r&&2048&c&&$o(l.alternate,l);break;case 24:Vo(s,l,i,o,r),r&&2048&c&&Go(l.alternate,l);break;default:Vo(s,l,i,o,r)}t=t.sibling}}function Wo(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,a=t,r=a.flags;switch(a.tag){case 22:Wo(n,a),2048&r&&$o(a.alternate,a);break;case 24:Wo(n,a),2048&r&&Go(a.alternate,a);break;default:Wo(n,a)}t=t.sibling}}var Qo=8192;function Ko(e){if(e.subtreeFlags&Qo)for(e=e.child;null!==e;)Jo(e),e=e.sibling}function Jo(e){switch(e.tag){case 26:Ko(e),e.flags&Qo&&null!==e.memoizedState&&function(e,t,n){if(null===qd)throw Error(s(475));var a=qd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var r=Od(n.href),l=e.querySelector(_d(r));if(l)return null!==(e=l._p)&&"object"==typeof e&&"function"==typeof e.then&&(a.count++,a=Vd.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=l,void We(l);l=e.ownerDocument||e,n=Pd(n),(r=jd.get(r))&&Md(n,r),We(l=l.createElement("link"));var i=l;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),nd(l,"link",n),t.instance=l}null===a.stylesheets&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(a.count++,t=Vd.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ro,e.memoizedState,e.memoizedProps);break;case 5:default:Ko(e);break;case 3:case 4:var t=Ro;Ro=Ed(e.stateNode.containerInfo),Ko(e),Ro=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Qo,Qo=16777216,Ko(e),Qo=t):Ko(e))}}function Yo(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xo(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];ko=a,tc(a,e)}Yo(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Zo(e),e=e.sibling}function Zo(e){switch(e.tag){case 0:case 11:case 15:Xo(e),2048&e.flags&&oo(9,e,e.return);break;case 3:case 12:default:Xo(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ec(e)):Xo(e)}}function ec(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];ko=a,tc(a,e)}Yo(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:oo(8,t,t.return),ec(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function tc(e,t){for(;null!==ko;){var n=ko;switch(n.tag){case 0:case 11:case 15:oo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var a=n.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Ir(n.memoizedState.cache)}if(null!==(a=n.child))a.return=n,ko=a;else e:for(n=e;null!==ko;){var r=(a=ko).sibling,s=a.return;if(Co(a),a===n){ko=null;break e}if(null!==r){r.return=s,ko=r;break e}ko=s}}}var nc={getCacheForType:function(e){var t=Tr(Dr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},ac="function"==typeof WeakMap?WeakMap:Map,rc=0,sc=null,lc=null,ic=0,oc=0,cc=null,uc=!1,dc=!1,mc=!1,fc=0,pc=0,hc=0,gc=0,yc=0,xc=0,bc=0,vc=null,wc=null,Nc=!1,Sc=0,jc=1/0,kc=null,Ec=null,Cc=0,Tc=null,Ac=null,Lc=0,Oc=0,_c=null,Pc=null,Dc=0,Rc=null;function Ic(){if(2&rc&&0!==ic)return ic&-ic;if(null!==I.T){return 0!==Fr?Fr:Ou()}return _e()}function zc(){0===xc&&(xc=536870912&ic&&!ir?536870912:je());var e=si.current;return null!==e&&(e.flags|=32),xc}function Mc(e,t,n){(e!==sc||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(Hc(e,0),$c(e,ic,xc,!1)),Ce(e,n),2&rc&&e===sc||(e===sc&&(!(2&rc)&&(gc|=n),4===pc&&$c(e,ic,xc,!1)),ju(e))}function Fc(e,t,n){if(6&rc)throw Error(s(327));for(var a=!n&&!(124&t)&&0===(t&e.expiredLanes)||Ne(e,t),r=a?function(e,t){var n=rc;rc|=2;var a=Wc(),r=Qc();sc!==e||ic!==t?(kc=null,jc=ae()+500,Hc(e,t)):dc=Ne(e,t);e:for(;;)try{if(0!==oc&&null!==lc){t=lc;var l=cc;t:switch(oc){case 1:oc=0,cc=null,tu(e,t,l,1);break;case 2:case 9:if(Yr(l)){oc=0,cc=null,eu(t);break}t=function(){2!==oc&&9!==oc||sc!==e||(oc=7),ju(e)},l.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Yr(l)?(oc=0,cc=null,eu(t)):(oc=0,cc=null,tu(e,t,l,7));break;case 5:var i=null;switch(lc.tag){case 26:i=lc.memoizedState;case 5:case 27:var o=lc;if(!i||Gd(i)){oc=0,cc=null;var c=o.sibling;if(null!==c)lc=c;else{var u=o.return;null!==u?(lc=u,nu(u)):lc=null}break t}}oc=0,cc=null,tu(e,t,l,5);break;case 6:oc=0,cc=null,tu(e,t,l,6);break;case 8:qc(),pc=6;break e;default:throw Error(s(462))}}Xc();break}catch(d){Vc(e,d)}return vr=br=null,I.H=a,I.A=r,rc=n,null!==lc?0:(sc=null,ic=0,La(),pc)}(e,t):Jc(e,t,!0),l=a;;){if(0===r){dc&&!a&&$c(e,t,0,!1);break}if(n=e.current.alternate,!l||Bc(n)){if(2===r){if(l=t,e.errorRecoveryDisabledLanes&l)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var o=e;r=vc;var c=o.current.memoizedState.isDehydrated;if(c&&(Hc(o,i).flags|=256),2!==(i=Jc(o,i,!1))){if(mc&&!c){o.errorRecoveryDisabledLanes|=l,gc|=l,r=4;break e}l=wc,wc=r,null!==l&&(null===wc?wc=l:wc.push.apply(wc,l))}r=i}if(l=!1,2!==r)continue}}if(1===r){Hc(e,0),$c(e,t,0,!0);break}e:{switch(a=e,l=r){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:$c(a,t,xc,!uc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(r=Sc+300-ae())){if($c(a,t,xc,!uc),0!==we(a,0,!0))break e;a.timeoutHandle=ud(Uc.bind(null,a,n,wc,kc,Nc,t,xc,gc,bc,uc,l,2,-0,0),r)}else Uc(a,n,wc,kc,Nc,t,xc,gc,bc,uc,l,0,-0,0)}break}r=Jc(e,t,!1),l=!1}ju(e)}function Uc(e,t,n,a,r,l,i,o,c,u,d,m,f,p){if(e.timeoutHandle=-1,(8192&(m=t.subtreeFlags)||!(16785408&~m))&&(qd={stylesheets:null,count:0,unsuspend:Hd},Jo(t),null!==(m=function(){if(null===qd)throw Error(s(475));var e=qd;return e.stylesheets&&0===e.count&&Qd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Qd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=m(ru.bind(null,e,t,l,n,a,r,i,o,c,d,1,f,p)),void $c(e,l,i,!u);ru(e,t,l,n,a,r,i,o,c)}function Bc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var a=0;a<n.length;a++){var r=n[a],s=r.getSnapshot;r=r.value;try{if(!Yn(s(),r))return!1}catch(l){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $c(e,t,n,a){t&=~yc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var s=31-he(r),l=1<<s;a[s]=-1,r&=~l}0!==n&&Te(e,n,t)}function Gc(){return!!(6&rc)||(ku(0),!1)}function qc(){if(null!==lc){if(0===oc)var e=lc.return;else vr=br=null,Fs(e=lc),Jl=null,Yl=0,e=lc;for(;null!==e;)lo(e.alternate,e),e=e.return;lc=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,dd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),qc(),sc=e,lc=n=Ua(e.current,null),ic=t,oc=0,cc=null,uc=!1,dc=Ne(e,t),mc=!1,bc=xc=yc=gc=hc=pc=0,wc=vc=null,Nc=!1,8&t&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var r=31-he(a),s=1<<r;t|=e[r],a&=~s}return fc=t,La(),n}function Vc(e,t){ws=null,I.H=Vl,t===Wr||t===Kr?(t=ts(),oc=3):t===Qr?(t=ts(),oc=4):oc=t===Ci?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,cc=t,null===lc&&(pc=1,Ni(e,Ea(t,e.current)))}function Wc(){var e=I.H;return I.H=Vl,null===e?Vl:e}function Qc(){var e=I.A;return I.A=nc,e}function Kc(){pc=4,uc||(4194048&ic)!==ic&&null!==si.current||(dc=!0),!(134217727&hc)&&!(134217727&gc)||null===sc||$c(sc,ic,xc,!1)}function Jc(e,t,n){var a=rc;rc|=2;var r=Wc(),s=Qc();sc===e&&ic===t||(kc=null,Hc(e,t)),t=!1;var l=pc;e:for(;;)try{if(0!==oc&&null!==lc){var i=lc,o=cc;switch(oc){case 8:qc(),l=6;break e;case 3:case 2:case 9:case 6:null===si.current&&(t=!0);var c=oc;if(oc=0,cc=null,tu(e,i,o,c),n&&dc){l=0;break e}break;default:c=oc,oc=0,cc=null,tu(e,i,o,c)}}Yc(),l=pc;break}catch(u){Vc(e,u)}return t&&e.shellSuspendCounter++,vr=br=null,rc=a,I.H=r,I.A=s,null===lc&&(sc=null,ic=0,La()),l}function Yc(){for(;null!==lc;)Zc(lc)}function Xc(){for(;null!==lc&&!te();)Zc(lc)}function Zc(e){var t=Xi(e.alternate,e,fc);e.memoizedProps=e.pendingProps,null===t?nu(e):lc=t}function eu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=zi(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=zi(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Fs(t);default:lo(n,t),t=Xi(n,t=lc=Ba(t,fc),fc)}e.memoizedProps=e.pendingProps,null===t?nu(e):lc=t}function tu(e,t,n,a){vr=br=null,Fs(t),Jl=null,Yl=0;var r=t.return;try{if(function(e,t,n,a,r){if(n.flags|=32768,null!==a&&"object"==typeof a&&"function"==typeof a.then){if(null!==(t=n.alternate)&&kr(t,n,r,!0),null!==(n=si.current)){switch(n.tag){case 13:return null===li?Kc():null===n.alternate&&0===pc&&(pc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===Jr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),fu(e,a,r)),!1;case 22:return n.flags|=65536,a===Jr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),fu(e,a,r)),!1}throw Error(s(435,n.tag))}return fu(e,a,r),Kc(),!1}if(ir)return null!==(t=si.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==ur&&yr(Ea(e=Error(s(422),{cause:a}),n))):(a!==ur&&yr(Ea(t=Error(s(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,a=Ea(a,n),cs(e,r=ji(e.stateNode,a,r)),4!==pc&&(pc=2)),!1;var l=Error(s(520),{cause:a});if(l=Ea(l,n),null===vc?vc=[l]:vc.push(l),4!==pc&&(pc=2),null===t)return!0;a=Ea(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,cs(n,e=ji(n.stateNode,a,e)),!1;case 1:if(t=n.type,l=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===l||"function"!=typeof l.componentDidCatch||null!==Ec&&Ec.has(l))))return n.flags|=65536,r&=-r,n.lanes|=r,Ei(r=ki(r),e,n,a),cs(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,ic))return pc=1,Ni(e,Ea(n,e.current)),void(lc=null)}catch(l){if(null!==r)throw lc=r,l;return pc=1,Ni(e,Ea(n,e.current)),void(lc=null)}32768&t.flags?(ir||1===a?e=!0:dc||536870912&ic?e=!1:(uc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=si.current)&&13===a.tag&&(a.flags|=16384))),au(t,e)):nu(t)}function nu(e){var t=e;do{if(32768&t.flags)return void au(t,uc);e=t.return;var n=ro(t.alternate,t,fc);if(null!==n)return void(lc=n);if(null!==(t=t.sibling))return void(lc=t);lc=t=e}while(null!==t);0===pc&&(pc=5)}function au(e,t){do{var n=so(e.alternate,e);if(null!==n)return n.flags&=32767,void(lc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(lc=e);lc=e=n}while(null!==e);pc=6,lc=null}function ru(e,t,n,a,r,l,i,o,c){e.cancelPendingCommit=null;do{cu()}while(0!==Cc);if(6&rc)throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(l=t.lanes|t.childLanes,function(e,t,n,a,r,s){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=l&~n;0<n;){var u=31-he(n),d=1<<u;i[u]=0,o[u]=-1;var m=c[u];if(null!==m)for(c[u]=null,u=0;u<m.length;u++){var f=m[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==a&&Te(e,a,0),0!==s&&0===r&&0!==e.tag&&(e.suspendedLanes|=s&~(l&~t))}(e,n,l|=Aa,i,o,c),e===sc&&(lc=sc=null,ic=0),Ac=t,Tc=e,Lc=n,Oc=l,_c=r,Pc=a,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Z(ie,function(){return uu(),null})):(e.callbackNode=null,e.callbackPriority=0),a=!!(13878&t.flags),13878&t.subtreeFlags||a){a=I.T,I.T=null,r=z.p,z.p=2,i=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,ad=rm,aa(e=na(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{n.nodeType,l.nodeType}catch(g){n=null;break e}var i=0,o=-1,c=-1,u=0,d=0,m=e,f=null;t:for(;;){for(var p;m!==n||0!==r&&3!==m.nodeType||(o=i+r),m!==l||0!==a&&3!==m.nodeType||(c=i+a),3===m.nodeType&&(i+=m.nodeValue.length),null!==(p=m.firstChild);)f=m,m=p;for(;;){if(m===e)break t;if(f===n&&++u===r&&(o=i),f===l&&++d===a&&(c=i),null!==(p=m.nextSibling))break;f=(m=f).parentNode}m=p}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rd={focusedElem:e,selectionRange:n},rm=!1,ko=t;null!==ko;)if(e=(t=ko).child,1024&t.subtreeFlags&&null!==e)e.return=t,ko=e;else for(;null!==ko;){switch(l=(t=ko).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==l){e=void 0,n=t,r=l.memoizedProps,l=l.memoizedState,a=n.stateNode;try{var h=yi(n.type,r,(n.elementType,n.type));e=a.getSnapshotBeforeUpdate(h,l),a.__reactInternalSnapshotBeforeUpdate=e}catch(y){mu(n,n.return,y)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))yd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,ko=e;break}ko=t.return}}(e,t)}finally{rc=i,z.p=r,I.T=a}}Cc=1,su(),lu(),iu()}}function su(){if(1===Cc){Cc=0;var e=Tc,t=Ac,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=I.T,I.T=null;var a=z.p;z.p=2;var r=rc;rc|=4;try{Io(t,e);var s=rd,l=na(e.containerInfo),i=s.focusedElem,o=s.selectionRange;if(l!==i&&i&&i.ownerDocument&&ta(i.ownerDocument.documentElement,i)){if(null!==o&&aa(i)){var c=o.start,u=o.end;if(void 0===u&&(u=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(u,i.value.length);else{var d=i.ownerDocument||document,m=d&&d.defaultView||window;if(m.getSelection){var f=m.getSelection(),p=i.textContent.length,h=Math.min(o.start,p),g=void 0===o.end?h:Math.min(o.end,p);!f.extend&&h>g&&(l=g,g=h,h=l);var y=ea(i,h),x=ea(i,g);if(y&&x&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==x.node||f.focusOffset!==x.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),h>g?(f.addRange(b),f.extend(x.node,x.offset)):(b.setEnd(x.node,x.offset),f.addRange(b))}}}}for(d=[],f=i;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof i.focus&&i.focus(),i=0;i<d.length;i++){var v=d[i];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}rm=!!ad,rd=ad=null}finally{rc=r,z.p=a,I.T=n}}e.current=t,Cc=2}}function lu(){if(2===Cc){Cc=0;var e=Tc,t=Ac,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=I.T,I.T=null;var a=z.p;z.p=2;var r=rc;rc|=4;try{Eo(e,t.alternate,t)}finally{rc=r,z.p=a,I.T=n}}Cc=3}}function iu(){if(4===Cc||3===Cc){Cc=0,ne();var e=Tc,t=Ac,n=Lc,a=Pc;10256&t.subtreeFlags||10256&t.flags?Cc=5:(Cc=0,Ac=Tc=null,ou(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Ec=null),Oe(n),t=t.stateNode,fe&&"function"==typeof fe.onCommitFiberRoot)try{fe.onCommitFiberRoot(me,t,void 0,!(128&~t.current.flags))}catch(o){}if(null!==a){t=I.T,r=z.p,z.p=2,I.T=null;try{for(var s=e.onRecoverableError,l=0;l<a.length;l++){var i=a[l];s(i.value,{componentStack:i.stack})}}finally{I.T=t,z.p=r}}3&Lc&&cu(),ju(e),r=e.pendingLanes,4194090&n&&42&r?e===Rc?Dc++:(Dc=0,Rc=e):Dc=0,ku(0)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ir(t)))}function cu(e){return su(),lu(),iu(),uu()}function uu(){if(5!==Cc)return!1;var e=Tc,t=Oc;Oc=0;var n=Oe(Lc),a=I.T,r=z.p;try{z.p=32>n?32:n,I.T=null,n=_c,_c=null;var l=Tc,i=Lc;if(Cc=0,Ac=Tc=null,Lc=0,6&rc)throw Error(s(331));var o=rc;if(rc|=4,Zo(l.current),Ho(l,l.current,i,n),rc=o,ku(0,!1),fe&&"function"==typeof fe.onPostCommitFiberRoot)try{fe.onPostCommitFiberRoot(me,l)}catch(c){}return!0}finally{z.p=r,I.T=a,ou(e,t)}}function du(e,t,n){t=Ea(n,t),null!==(e=is(e,t=ji(e.stateNode,t,2),2))&&(Ce(e,2),ju(e))}function mu(e,t,n){if(3===e.tag)du(e,e,n);else for(;null!==t;){if(3===t.tag){du(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===Ec||!Ec.has(a))){e=Ea(n,e),null!==(a=is(t,n=ki(2),2))&&(Ei(n,a,t,e),Ce(a,2),ju(a));break}}t=t.return}}function fu(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new ac;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(mc=!0,r.add(n),e=pu.bind(null,e,t,n),t.then(e,e))}function pu(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,sc===e&&(ic&n)===n&&(4===pc||3===pc&&(62914560&ic)===ic&&300>ae()-Sc?!(2&rc)&&Hc(e,0):yc|=n,bc===ic&&(bc=0)),ju(e)}function hu(e,t){0===t&&(t=ke()),null!==(e=Pa(e,t))&&(Ce(e,t),ju(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hu(e,n)}function yu(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==a&&a.delete(t),hu(e,n)}var xu=null,bu=null,vu=!1,wu=!1,Nu=!1,Su=0;function ju(e){e!==bu&&null===e.next&&(null===bu?xu=bu=e:bu=bu.next=e),wu=!0,vu||(vu=!0,fd(function(){6&rc?Z(se,Eu):Cu()}))}function ku(e,t){if(!Nu&&wu){Nu=!0;do{for(var n=!1,a=xu;null!==a;){if(0!==e){var r=a.pendingLanes;if(0===r)var s=0;else{var l=a.suspendedLanes,i=a.pingedLanes;s=(1<<31-he(42|e)+1)-1,s=201326741&(s&=r&~(l&~i))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Lu(a,s))}else s=ic,!(3&(s=we(a,a===sc?s:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||Ne(a,s)||(n=!0,Lu(a,s));a=a.next}}while(n);Nu=!1}}function Eu(){Cu()}function Cu(){wu=vu=!1;var e=0;0!==Su&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==cd&&(cd=e,!0);return cd=null,!1}()&&(e=Su),Su=0);for(var t=ae(),n=null,a=xu;null!==a;){var r=a.next,s=Tu(a,t);0===s?(a.next=null,null===n?xu=r:n.next=r,null===r&&(bu=n)):(n=a,(0!==e||3&s)&&(wu=!0)),a=r}ku(e)}function Tu(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var l=31-he(s),i=1<<l,o=r[l];-1===o?0!==(i&n)&&0===(i&a)||(r[l]=Se(i,t)):o<=t&&(e.expiredLanes|=i),s&=~i}if(n=ic,n=we(e,e===(t=sc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&ee(a),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Ne(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==a&&ee(a),Oe(n)){case 2:case 8:n=le;break;case 32:default:n=ie;break;case 268435456:n=ce}return a=Au.bind(null,e),n=Z(n,a),e.callbackPriority=t,e.callbackNode=n,t}return null!==a&&null!==a&&ee(a),e.callbackPriority=2,e.callbackNode=null,2}function Au(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var a=ic;return 0===(a=we(e,e===sc?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,a,t),Tu(e,ae()),null!=e.callbackNode&&e.callbackNode===n?Au.bind(null,e):null)}function Lu(e,t){if(cu())return null;Fc(e,t,!0)}function Ou(){return 0===Su&&(Su=je()),Su}function _u(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Ot(""+e)}function Pu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Du=0;Du<Sa.length;Du++){var Ru=Sa[Du];ja(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}ja(ha,"onAnimationEnd"),ja(ga,"onAnimationIteration"),ja(ya,"onAnimationStart"),ja("dblclick","onDoubleClick"),ja("focusin","onFocus"),ja("focusout","onBlur"),ja(xa,"onTransitionRun"),ja(ba,"onTransitionStart"),ja(va,"onTransitionCancel"),ja(wa,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Je("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Je("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Je("onBeforeInput",["compositionend","keypress","textInput","paste"]),Je("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function Mu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var l=a.length-1;0<=l;l--){var i=a[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==s&&r.isPropagationStopped())break e;s=i,r.currentTarget=c;try{s(r)}catch(u){xi(u)}r.currentTarget=null,s=o}else for(l=0;l<a.length;l++){if(o=(i=a[l]).instance,c=i.currentTarget,i=i.listener,o!==s&&r.isPropagationStopped())break e;s=i,r.currentTarget=c;try{s(r)}catch(u){xi(u)}r.currentTarget=null,s=o}}}}function Fu(e,t){var n=t[ze];void 0===n&&(n=t[ze]=new Set);var a=e+"__bubble";n.has(a)||(Gu(t,e,2,!1),n.add(a))}function Uu(e,t,n){var a=0;t&&(a|=4),Gu(n,e,a,t)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[Bu]){e[Bu]=!0,Qe.forEach(function(t){"selectionchange"!==t&&(zu.has(t)||Uu(t,!1,e),Uu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bu]||(t[Bu]=!0,Uu("selectionchange",!1,t))}}function Gu(e,t,n,a){switch(dm(t)){case 2:var r=sm;break;case 8:r=lm;break;default:r=im}n=r.bind(null,t,n,e),r=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function qu(e,t,n,a,r){var s=a;if(!(1&t||2&t||null===a))e:for(;;){if(null===a)return;var l=a.tag;if(3===l||4===l){var o=a.stateNode.containerInfo;if(o===r)break;if(4===l)for(l=a.return;null!==l;){var c=l.tag;if((3===c||4===c)&&l.stateNode.containerInfo===r)return;l=l.return}for(;null!==o;){if(null===(l=Ge(o)))return;if(5===(c=l.tag)||6===c||26===c||27===c){a=s=l;continue e}o=o.parentNode}}a=a.return}Mt(function(){var a=s,r=Pt(n),l=[];e:{var o=Na.get(e);if(void 0!==o){var c=tn,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case ha:case ga:case ya:c=cn;break;case wa:c=vn;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn;break;case"toggle":case"beforetoggle":c=Nn}var d=!!(4&t),m=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,h=a;null!==h;){var g=h;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ft(h,f))&&d.push(Hu(h,g,p)),m)break;h=h.return}0<d.length&&(o=new c(o,u,null,n,r),l.push({event:o,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===_t||!(u=n.relatedTarget||n.fromElement)||!Ge(u)&&!u[Ie])&&(c||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=a,null!==(u=(u=n.relatedTarget||n.toElement)?Ge(u):null)&&(m=i(u),d=u.tag,u!==m||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=a),c!==u)){if(d=sn,g="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=xn,g="onPointerLeave",f="onPointerEnter",h="pointer"),m=null==c?o:He(c),p=null==u?o:He(u),(o=new d(g,h+"leave",c,n,r)).target=m,o.relatedTarget=p,g=null,Ge(r)===a&&((d=new d(f,h+"enter",u,n,r)).target=p,d.relatedTarget=m,g=d),m=g,c&&u)e:{for(f=u,h=0,p=d=c;p;p=Wu(p))h++;for(p=0,g=f;g;g=Wu(g))p++;for(;0<h-p;)d=Wu(d),h--;for(;0<p-h;)f=Wu(f),p--;for(;h--;){if(d===f||null!==f&&d===f.alternate)break e;d=Wu(d),f=Wu(f)}d=null}else d=null;null!==c&&Qu(l,o,c,d,!1),null!==u&&null!==m&&Qu(l,m,u,d,!0)}if("select"===(c=(o=a?He(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Un;else if(Dn(o))if(Bn)y=Jn;else{y=Qn;var x=Wn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?a&&Tt(a.elementType)&&(y=Un):y=Kn;switch(y&&(y=y(e,a))?Rn(l,y,n,r):(x&&x(e,o,a),"focusout"===e&&a&&"number"===o.type&&null!=a.memoizedProps.value&&vt(o,"number",o.value)),x=a?He(a):window,e){case"focusin":(Dn(x)||"true"===x.contentEditable)&&(sa=x,la=a,ia=null);break;case"focusout":ia=la=sa=null;break;case"mousedown":oa=!0;break;case"contextmenu":case"mouseup":case"dragend":oa=!1,ca(l,n,r);break;case"selectionchange":if(ra)break;case"keydown":case"keyup":ca(l,n,r)}var b;if(jn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else _n?Ln(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Cn&&"ko"!==n.locale&&(_n||"onCompositionStart"!==v?"onCompositionEnd"===v&&_n&&(b=Vt()):(qt="value"in(Gt=r)?Gt.value:Gt.textContent,_n=!0)),0<(x=Vu(a,v)).length&&(v=new dn(v,e,null,n,r),l.push({event:v,listeners:x}),b?v.data=b:null!==(b=On(n))&&(v.data=b))),(b=En?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(An=!0,Tn);case"textInput":return(e=t.data)===Tn&&An?null:e;default:return null}}(e,n):function(e,t){if(_n)return"compositionend"===e||!jn&&Ln(e,t)?(e=Vt(),Ht=qt=Gt=null,_n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=Vu(a,"onBeforeInput")).length&&(x=new dn("onBeforeInput","beforeinput",null,n,r),l.push({event:x,listeners:v}),x.data=b)),function(e,t,n,a,r){if("submit"===t&&n&&n.stateNode===r){var s=_u((r[Re]||null).action),l=a.submitter;l&&null!==(t=(t=l[Re]||null)?_u(t.formAction):l.getAttribute("formAction"))&&(s=t,l=null);var i=new tn("action","action",null,a,r);e.push({event:i,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==Su){var e=l?Pu(r,l):new FormData(r);_l(n,{pending:!0,data:e,method:r.method,action:s},null,e)}}else"function"==typeof s&&(i.preventDefault(),e=l?Pu(r,l):new FormData(r),_l(n,{pending:!0,data:e,method:r.method,action:s},s,e))},currentTarget:r}]})}}(l,e,a,n,r)}Mu(l,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vu(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,s=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===s||(null!=(r=Ft(e,n))&&a.unshift(Hu(e,r,s)),null!=(r=Ft(e,t))&&a.push(Hu(e,r,s))),3===e.tag)return a;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Qu(e,t,n,a,r){for(var s=t._reactName,l=[];null!==n&&n!==a;){var i=n,o=i.alternate,c=i.stateNode;if(i=i.tag,null!==o&&o===a)break;5!==i&&26!==i&&27!==i||null===c||(o=c,r?null!=(c=Ft(n,s))&&l.unshift(Hu(n,c,o)):r||null!=(c=Ft(n,s))&&l.push(Hu(n,c,o))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Ku=/\r\n?/g,Ju=/\u0000|\uFFFD/g;function Yu(e){return("string"==typeof e?e:""+e).replace(Ku,"\n").replace(Ju,"")}function Xu(e,t){return t=Yu(t),Yu(e)===t}function Zu(){}function ed(e,t,n,a,r,l){switch(n){case"children":"string"==typeof a?"body"===t||"textarea"===t&&""===a||jt(e,a):("number"==typeof a||"bigint"==typeof a)&&"body"!==t&&jt(e,""+a);break;case"className":rt(e,"class",a);break;case"tabIndex":rt(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,n,a);break;case"style":Ct(e,a,l);break;case"data":if("object"!==t){rt(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"==typeof a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(n);break}a=Ot(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"==typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof l&&("formAction"===n?("input"!==t&&ed(e,t,"name",r.name,r,null),ed(e,t,"formEncType",r.formEncType,r,null),ed(e,t,"formMethod",r.formMethod,r,null),ed(e,t,"formTarget",r.formTarget,r,null)):(ed(e,t,"encType",r.encType,r,null),ed(e,t,"method",r.method,r,null),ed(e,t,"target",r.target,r,null))),null==a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(n);break}a=Ot(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=Zu);break;case"onScroll":null!=a&&Fu("scroll",e);break;case"onScrollEnd":null!=a&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(s(61));if(null!=(n=a.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"muted":e.muted=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"==typeof a||"boolean"==typeof a||"symbol"==typeof a){e.removeAttribute("xlink:href");break}n=Ot(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"==typeof a||"symbol"==typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),at(e,"popover",a);break;case"xlinkActuate":st(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":st(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":st(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":st(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":st(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":st(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":st(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":st(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":st(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":at(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&at(e,n=At.get(n)||n,a)}}function td(e,t,n,a,r,l){switch(n){case"style":Ct(e,a,l);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(s(61));if(null!=(n=a.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"==typeof a?jt(e,a):("number"==typeof a||"bigint"==typeof a)&&jt(e,""+a);break;case"onScroll":null!=a&&Fu("scroll",e);break;case"onScrollEnd":null!=a&&Fu("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"==typeof(l=null!=(l=e[Re]||null)?l[n]:null)&&e.removeEventListener(t,l,r),"function"!=typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):at(e,n,a):("function"!=typeof l&&null!==l&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,r)))}}function nd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var a,r=!1,l=!1;for(a in n)if(n.hasOwnProperty(a)){var i=n[a];if(null!=i)switch(a){case"src":r=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ed(e,t,a,i,n,null)}}return l&&ed(e,t,"srcSet",n.srcSet,n,null),void(r&&ed(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var o=a=i=l=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":l=d;break;case"type":i=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:ed(e,t,r,d,n,null)}}return bt(e,a,o,c,u,i,l,!1),void ft(e);case"select":for(l in Fu("invalid",e),r=i=a=null,n)if(n.hasOwnProperty(l)&&null!=(o=n[l]))switch(l){case"value":a=o;break;case"defaultValue":i=o;break;case"multiple":r=o;default:ed(e,t,l,o,n,null)}return t=a,n=i,e.multiple=!!r,void(null!=t?wt(e,!!r,t,!1):null!=n&&wt(e,!!r,n,!0));case"textarea":for(i in Fu("invalid",e),a=l=r=null,n)if(n.hasOwnProperty(i)&&null!=(o=n[i]))switch(i){case"value":r=o;break;case"defaultValue":l=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(s(91));break;default:ed(e,t,i,o,n,null)}return St(e,r,l,a),void ft(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!=typeof r&&"symbol"!=typeof r;else ed(e,t,c,r,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(r=0;r<Iu.length;r++)Fu(Iu[r],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ed(e,t,u,r,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(r=n[d])&&td(e,t,d,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(null!=(r=n[o])&&ed(e,t,o,r,n,null))}var ad=null,rd=null;function sd(e){return 9===e.nodeType?e:e.ownerDocument}function ld(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var cd=null;var ud="function"==typeof setTimeout?setTimeout:void 0,dd="function"==typeof clearTimeout?clearTimeout:void 0,md="function"==typeof Promise?Promise:void 0,fd="function"==typeof queueMicrotask?queueMicrotask:void 0!==md?function(e){return md.resolve(null).then(e).catch(pd)}:ud;function pd(e){setTimeout(function(){throw e})}function hd(e){return"head"===e}function gd(e,t){var n=t,a=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<a&&8>a){n=a;var l=e.ownerDocument;if(1&n&&Sd(l.documentElement),2&n&&Sd(l.body),4&n)for(Sd(n=l.head),l=n.firstChild;l;){var i=l.nextSibling,o=l.nodeName;l[Be]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===l.rel.toLowerCase()||n.removeChild(l),l=i}}if(0===r)return e.removeChild(s),void Am(t);r--}else"$"===n||"$?"===n||"$!"===n?r++:a=n.charCodeAt(0)-48;else a=0;n=s}while(n);Am(t)}function yd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":yd(n),$e(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function xd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function bd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function wd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function Nd(e,t,n){switch(t=sd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Sd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$e(e)}var jd=new Map,kd=new Set;function Ed(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Cd=z.d;z.d={f:function(){var e=Cd.f(),t=Gc();return e||t},r:function(e){var t=qe(e);null!==t&&5===t.tag&&"form"===t.type?Dl(t):Cd.r(e)},D:function(e){Cd.D(e),Ad("dns-prefetch",e,null)},C:function(e,t){Cd.C(e,t),Ad("preconnect",e,t)},L:function(e,t,n){Cd.L(e,t,n);var a=Td;if(a&&e&&t){var r='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(r+='[imagesizes="'+yt(n.imageSizes)+'"]')):r+='[href="'+yt(e)+'"]';var s=r;switch(t){case"style":s=Od(e);break;case"script":s=Dd(e)}jd.has(s)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),jd.set(s,e),null!==a.querySelector(r)||"style"===t&&a.querySelector(_d(s))||"script"===t&&a.querySelector(Rd(s))||(nd(t=a.createElement("link"),"link",e),We(t),a.head.appendChild(t)))}},m:function(e,t){Cd.m(e,t);var n=Td;if(n&&e){var a=t&&"string"==typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+yt(a)+'"][href="'+yt(e)+'"]',s=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Dd(e)}if(!jd.has(s)&&(e=d({rel:"modulepreload",href:e},t),jd.set(s,e),null===n.querySelector(r))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(s)))return}nd(a=n.createElement("link"),"link",e),We(a),n.head.appendChild(a)}}},X:function(e,t){Cd.X(e,t);var n=Td;if(n&&e){var a=Ve(n).hoistableScripts,r=Dd(e),s=a.get(r);s||((s=n.querySelector(Rd(r)))||(e=d({src:e,async:!0},t),(t=jd.get(r))&&Fd(e,t),We(s=n.createElement("script")),nd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(r,s))}},S:function(e,t,n){Cd.S(e,t,n);var a=Td;if(a&&e){var r=Ve(a).hoistableStyles,s=Od(e);t=t||"default";var l=r.get(s);if(!l){var i={loading:0,preload:null};if(l=a.querySelector(_d(s)))i.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=jd.get(s))&&Md(e,n);var o=l=a.createElement("link");We(o),nd(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){i.loading|=1}),o.addEventListener("error",function(){i.loading|=2}),i.loading|=4,zd(l,t,a)}l={type:"stylesheet",instance:l,count:1,state:i},r.set(s,l)}}},M:function(e,t){Cd.M(e,t);var n=Td;if(n&&e){var a=Ve(n).hoistableScripts,r=Dd(e),s=a.get(r);s||((s=n.querySelector(Rd(r)))||(e=d({src:e,async:!0,type:"module"},t),(t=jd.get(r))&&Fd(e,t),We(s=n.createElement("script")),nd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(r,s))}}};var Td="undefined"==typeof document?null:document;function Ad(e,t,n){var a=Td;if(a&&"string"==typeof t&&t){var r=yt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"==typeof n&&(r+='[crossorigin="'+n+'"]'),kd.has(r)||(kd.add(r),e={rel:e,crossOrigin:n,href:t},null===a.querySelector(r)&&(nd(t=a.createElement("link"),"link",e),We(t),a.head.appendChild(t)))}}function Ld(e,t,n,a){var r,l,i,o,c=(c=V.current)?Ed(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Od(n.href),(a=(n=Ve(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Od(n.href);var u=Ve(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(_d(e)))&&!u._p&&(d.instance=u,d.state.loading=5),jd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},jd.set(e,n),u||(r=c,l=e,i=n,o=d.state,r.querySelector('link[rel="preload"][as="style"]['+l+"]")?o.loading=1:(l=r.createElement("link"),o.preload=l,l.addEventListener("load",function(){return o.loading|=1}),l.addEventListener("error",function(){return o.loading|=2}),nd(l,"link",i),We(l),r.head.appendChild(l))))),t&&null===a)throw Error(s(528,""));return d}if(t&&null!==a)throw Error(s(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Dd(n),(a=(n=Ve(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Od(e){return'href="'+yt(e)+'"'}function _d(e){return'link[rel="stylesheet"]['+e+"]"}function Pd(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Dd(e){return'[src="'+yt(e)+'"]'}function Rd(e){return"script[async]"+e}function Id(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(a)return t.instance=a,We(a),a;var r=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(a=(e.ownerDocument||e).createElement("style")),nd(a,"style",r),zd(a,n.precedence,e),t.instance=a;case"stylesheet":r=Od(n.href);var l=e.querySelector(_d(r));if(l)return t.state.loading|=4,t.instance=l,We(l),l;a=Pd(n),(r=jd.get(r))&&Md(a,r),We(l=(e.ownerDocument||e).createElement("link"));var i=l;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),nd(l,"link",a),t.state.loading|=4,zd(l,n.precedence,e),t.instance=l;case"script":return l=Dd(n.src),(r=e.querySelector(Rd(l)))?(t.instance=r,We(r),r):(a=n,(r=jd.get(l))&&Fd(a=d({},n),r),We(r=(e=e.ownerDocument||e).createElement("script")),nd(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,zd(a,n.precedence,e));return t.instance}function zd(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,s=r,l=0;l<a.length;l++){var i=a[l];if(i.dataset.precedence===t)s=i;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ud=null;function Bd(e,t,n){if(null===Ud){var a=new Map,r=Ud=new Map;r.set(n,a)}else(a=(r=Ud).get(n))||(a=new Map,r.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[Be]||s[De]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var l=s.getAttribute(t)||"";l=e+l;var i=a.get(l);i?i.push(s):a.set(l,[s])}}return a}function $d(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Gd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var qd=null;function Hd(){}function Vd(){if(this.count--,0===this.count)if(this.stylesheets)Qd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Qd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Kd,e),Wd=null,Vd.call(e))}function Kd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var a=n.get(null);else{n=new Map,Wd.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var l=r[s];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(n.set(l.dataset.precedence,l),a=l)}a&&n.set(null,a)}l=(r=t.instance).getAttribute("data-precedence"),(s=n.get(l)||a)===a&&n.set(null,r),n.set(l,r),this.count++,a=Vd.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),s?s.parentNode.insertBefore(r,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Jd={$$typeof:S,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Yd(e,t,n,a,r,s,l,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function Xd(e,t,n,a,r,s,l,i,o,c,u,d){return e=new Yd(e,t,n,l,i,o,c,d),t=1,!0===s&&(t|=24),s=Ma(3,null,null,t),e.current=s,s.stateNode=e,(t=Rr()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},rs(s),e}function Zd(e){return e?e=Ia:Ia}function em(e,t,n,a,r,s){r=Zd(r),null===a.context?a.context=r:a.pendingContext=r,(a=ls(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(a.callback=s),null!==(n=is(e,a,t))&&(Mc(n,0,t),os(n,e,t))}function tm(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nm(e,t){tm(e,t),(e=e.alternate)&&tm(e,t)}function am(e){if(13===e.tag){var t=Pa(e,67108864);null!==t&&Mc(t,0,67108864),nm(e,67108864)}}var rm=!0;function sm(e,t,n,a){var r=I.T;I.T=null;var s=z.p;try{z.p=2,im(e,t,n,a)}finally{z.p=s,I.T=r}}function lm(e,t,n,a){var r=I.T;I.T=null;var s=z.p;try{z.p=8,im(e,t,n,a)}finally{z.p=s,I.T=r}}function im(e,t,n,a){if(rm){var r=om(a);if(null===r)qu(e,t,a,cm,n),vm(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return fm=wm(fm,e,t,n,a,r),!0;case"dragenter":return pm=wm(pm,e,t,n,a,r),!0;case"mouseover":return hm=wm(hm,e,t,n,a,r),!0;case"pointerover":var s=r.pointerId;return gm.set(s,wm(gm.get(s)||null,e,t,n,a,r)),!0;case"gotpointercapture":return s=r.pointerId,ym.set(s,wm(ym.get(s)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(vm(e,a),4&t&&-1<bm.indexOf(e)){for(;null!==r;){var s=qe(r);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var l=ve(s.pendingLanes);if(0!==l){var i=s;for(i.pendingLanes|=2,i.entangledLanes|=2;l;){var o=1<<31-he(l);i.entanglements[1]|=o,l&=~o}ju(s),!(6&rc)&&(jc=ae()+500,ku(0))}}break;case 13:null!==(i=Pa(s,2))&&Mc(i,0,2),Gc(),nm(s,2)}if(null===(s=om(a))&&qu(e,t,a,cm,n),s===r)break;r=s}null!==r&&a.stopPropagation()}else qu(e,t,a,null,n)}}function om(e){return um(e=Pt(e))}var cm=null;function um(e){if(cm=null,null!==(e=Ge(e))){var t=i(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=o(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return cm=e,null}function dm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case se:return 2;case le:return 8;case ie:case oe:return 32;case ce:return 268435456;default:return 32}default:return 32}}var mm=!1,fm=null,pm=null,hm=null,gm=new Map,ym=new Map,xm=[],bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vm(e,t){switch(e){case"focusin":case"focusout":fm=null;break;case"dragenter":case"dragleave":pm=null;break;case"mouseover":case"mouseout":hm=null;break;case"pointerover":case"pointerout":gm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ym.delete(t.pointerId)}}function wm(e,t,n,a,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=qe(t))&&am(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Nm(e){var t=Ge(e.target);if(null!==t){var n=i(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=o(n)))return e.blockedOn=t,void function(e,t){var n=z.p;try{return z.p=e,t()}finally{z.p=n}}(e.priority,function(){if(13===n.tag){var e=Ic();e=Le(e);var t=Pa(n,e);null!==t&&Mc(t,0,e),nm(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Sm(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=om(e.nativeEvent);if(null!==n)return null!==(t=qe(n))&&am(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);_t=a,n.target.dispatchEvent(a),_t=null,t.shift()}return!0}function jm(e,t,n){Sm(e)&&n.delete(t)}function km(){mm=!1,null!==fm&&Sm(fm)&&(fm=null),null!==pm&&Sm(pm)&&(pm=null),null!==hm&&Sm(hm)&&(hm=null),gm.forEach(jm),ym.forEach(jm)}function Em(t,n){t.blockedOn===n&&(t.blockedOn=null,mm||(mm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,km)))}var Cm=null;function Tm(t){Cm!==t&&(Cm=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Cm===t&&(Cm=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],r=t[e+2];if("function"!=typeof a){if(null===um(a||n))continue;break}var s=qe(n);null!==s&&(t.splice(e,3),e-=3,_l(s,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function Am(e){function t(t){return Em(t,e)}null!==fm&&Em(fm,e),null!==pm&&Em(pm,e),null!==hm&&Em(hm,e),gm.forEach(t),ym.forEach(t);for(var n=0;n<xm.length;n++){var a=xm[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<xm.length&&null===(n=xm[0]).blockedOn;)Nm(n),null===n.blockedOn&&xm.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<n.length;a+=3){var r=n[a],s=n[a+1],l=r[Re]||null;if("function"==typeof s)l||Tm(n);else if(l){var i=null;if(s&&s.hasAttribute("formAction")){if(r=s,l=s[Re]||null)i=l.formAction;else if(null!==um(r))continue}else i=l.action;"function"==typeof i?n[a+1]=i:(n.splice(a,3),a-=3),Tm(n)}}}function Lm(e){this._internalRoot=e}function Om(e){this._internalRoot=e}Om.prototype.render=Lm.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));em(t.current,Ic(),e,t,null,null)},Om.prototype.unmount=Lm.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;em(e.current,2,null,e,null,null),Gc(),t[Ie]=null}},Om.prototype.unstable_scheduleHydration=function(e){if(e){var t=_e();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xm.length&&0!==t&&t<xm[n].priority;n++);xm.splice(n,0,e),0===n&&Nm(e)}};var _m=t.version;if("19.1.1"!==_m)throw Error(s(527,_m,"19.1.1"));z.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(a=r.return)){n=a;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===n)return c(r),e;if(l===a)return c(r),t;l=l.sibling}throw Error(s(188))}if(n.return!==a.return)n=r,a=l;else{for(var o=!1,u=r.child;u;){if(u===n){o=!0,n=r,a=l;break}if(u===a){o=!0,a=r,n=l;break}u=u.sibling}if(!o){for(u=l.child;u;){if(u===n){o=!0,n=l,a=r;break}if(u===a){o=!0,a=l,n=r;break}u=u.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Pm={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.1"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Dm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dm.isDisabled&&Dm.supportsFiber)try{me=Dm.inject(Pm),fe=Dm}catch(Im){}}return g.createRoot=function(e,t){if(!l(e))throw Error(s(299));var n=!1,a="",r=bi,i=vi,o=wi;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,a,r,i,o,0,null),e[Ie]=t.current,$u(e),new Lm(t)},g.hydrateRoot=function(e,t,n){if(!l(e))throw Error(s(299));var a=!1,r="",i=bi,o=vi,c=wi,u=null;return null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,a,r,i,o,c,0,u)).context=Zd(null),n=t.current,(r=ls(a=Le(a=Ic()))).callback=null,is(n,r,a),n=a,t.current.lanes=n,Ce(t,n),ju(t),e[Ie]=t.current,$u(e),new Om(t)},g.version="19.1.1",g}const w=r((f||(f=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),h.exports=v()),h.exports));const N=new class{constructor(){this.cache=new Map,this.defaultTTL=3e5}set(e,t,n=this.defaultTTL){this.cache.set(e,{data:t,expiry:Date.now()+n,timestamp:Date.now()})}get(e){const t=this.cache.get(e);return t&&Date.now()<t.expiry?t.data:(t&&this.cache.delete(e),null)}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}isStale(e,t=3e4){const n=this.cache.get(e);return!n||Date.now()-n.timestamp>t}getStats(){const e=Date.now(),t=Array.from(this.cache.entries()),n=t.filter(([t,n])=>e<n.expiry),a=t.filter(([t,n])=>e>=n.expiry);return{total:t.length,valid:n.length,expired:a.length,memoryUsage:JSON.stringify(t).length}}};const S=new class{constructor(){this.token=null,this.tokenExpiry=null,this.requestQueue=new Map}setToken(e,t="24h"){this.token=e;const n=t.includes("h")?parseInt(t.replace("h","")):24;this.tokenExpiry=Date.now()+60*n*60*1e3,localStorage.setItem("adminToken",e),localStorage.setItem("tokenExpiry",this.tokenExpiry.toString())}getToken(){if(!this.token){this.token=localStorage.getItem("adminToken");const e=localStorage.getItem("tokenExpiry");e&&(this.tokenExpiry=parseInt(e))}return this.tokenExpiry&&Date.now()>this.tokenExpiry?(this.clearToken(),null):this.token}clearToken(){this.token=null,this.tokenExpiry=null,localStorage.removeItem("adminToken"),localStorage.removeItem("tokenExpiry")}isTokenValid(){return null!==this.getToken()&&null!==this.tokenExpiry&&Date.now()<this.tokenExpiry}async deduplicatedRequest(e,t){if(this.requestQueue.has(e))return this.requestQueue.get(e);const n=t();this.requestQueue.set(e,n);try{return await n}finally{this.requestQueue.delete(e)}}async request(e,t={},n){const a=(null==n?void 0:n.cacheKey)||`api:${e}`,r=!1!==(null==n?void 0:n.useCache),s=(null==n?void 0:n.ttl)||3e5,l=(null==n?void 0:n.staleTime)||3e4;if(r){const e=N.get(a);if(e&&!N.isStale(a,l))return e}const i=this.getToken(),o=new AbortController,c=setTimeout(()=>o.abort(),3e4);try{const n=await fetch(`https://jafasol.com${e}`,{...t,signal:o.signal,headers:{"Content-Type":"application/json",...i&&{Authorization:`Bearer ${i}`},...t.headers}});if(clearTimeout(c),401===n.status)throw this.clearToken(),new Error("Authentication failed. Please login again.");if(403===n.status)throw new Error("Access denied. Insufficient permissions.");if(429===n.status)throw new Error("Rate limit exceeded. Please try again later.");if(!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.message||`HTTP ${n.status}: ${n.statusText}`)}const l=await n.json();return r&&n.ok&&N.set(a,l,s),l}catch(u){if(clearTimeout(c),u instanceof Error&&"AbortError"===u.name)throw new Error("Request timeout - server is taking too long to respond");throw u}}async login(e,t){try{const n=await this.request("/api/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})},{useCache:!1});return this.setToken(n.token,n.expiresIn),n}catch(n){throw n}}async logout(){try{await this.request("/api/auth/logout",{method:"POST"},{useCache:!1})}finally{this.clearToken(),N.clear()}}async verifyToken(){return this.request("/auth/verify",{},{useCache:!1})}async getDashboard(){return this.deduplicatedRequest("dashboard",()=>this.request("/api/dashboard",{},{ttl:12e4,staleTime:1e4,cacheKey:"dashboard"}))}async getSchools(){return this.deduplicatedRequest("schools",()=>this.request("/api/admin/schools",{},{useCache:!1,cacheKey:"schools"}))}async getAnalytics(){return this.deduplicatedRequest("analytics",()=>this.request("/api/admin/analytics",{},{ttl:18e4,staleTime:15e3,cacheKey:"analytics"}))}clearCache(e){if(e){Array.from(N.cache.keys()).forEach(t=>{t.includes(e)&&N.delete(t)})}else N.clear()}getCacheStats(){return N.getStats()}async prefetchCriticalData(){try{await Promise.allSettled([this.getDashboard(),this.getSchools(),this.getAnalytics()])}catch(e){}}async getSupportTickets(){return this.request("/api/admin/support/tickets")}async getSystemSettings(){return this.request("/api/admin/settings")}async updateSystemSettings(e){return this.request("/api/admin/settings",{method:"PUT",body:JSON.stringify(e)})}async healthCheck(){return this.request("/api/health")}async getBackups(){return this.request("/api/admin/backups")}async exportData(e){return this.request(`/api/admin/export/${e}`)}async getSubdomains(){return this.request("/api/admin/subdomains")}async createSchool(e){return this.request("/api/admin/schools",{method:"POST",body:JSON.stringify(e)})}async checkSubdomainAvailability(e){return this.request("/api/admin/subdomains/check",{method:"POST",body:JSON.stringify({subdomain:e})})}async updateSchool(e,t){return this.request(`/api/admin/schools/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteSchool(e){return this.request(`/api/admin/schools/${e}`,{method:"DELETE"})}async uploadSchoolLogo(e,t){return this.request(`/api/admin/schools/${e}/logo`,{method:"POST",body:JSON.stringify(t)})}async getSubdomain(e){return this.request(`/admin/subdomains/${e}`)}async createSubdomain(e){return this.request("/admin/subdomains",{method:"POST",body:JSON.stringify(e)})}async updateSubdomain(e,t){return this.request(`/admin/subdomains/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteSubdomain(e){return this.request(`/admin/subdomains/${e}`,{method:"DELETE"})}async checkSubdomainHealth(e){return this.request(`/admin/subdomains/${e}/health`)}async getSubdomainBySchoolId(e){return this.request(`/admin/subdomains/school/${e}`)}async updateSubdomainDNS(e,t){return this.request(`/admin/subdomains/${e}/dns`,{method:"PUT",body:JSON.stringify(t)})}async provisionSubdomain(e){return this.request(`/admin/subdomains/${e}/provision`,{method:"POST"})}async getSubdomainAnalytics(e){return this.request(`/admin/subdomains/${e}/analytics`)}async bulkProvisionSubdomains(e){return this.request("/admin/subdomains/bulk-provision",{method:"POST",body:JSON.stringify({subdomainIds:e})})}async getSubdomainTemplates(){return this.request("/admin/subdomains/templates",{},{ttl:6e5,cacheKey:"subdomain-templates"})}async applySubdomainTemplate(e,t){return this.request(`/admin/subdomains/${e}/template`,{method:"POST",body:JSON.stringify({templateId:t})})}async getUsers(e){const t=new URLSearchParams(e).toString();return this.request(`/api/admin/users?${t}`)}async getUser(e){return this.request(`/api/admin/users/${e}`)}async createUser(e){return this.request("/api/admin/users",{method:"POST",body:JSON.stringify(e)})}async updateUser(e,t){return this.request(`/api/admin/users/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteUser(e){return this.request(`/api/admin/users/${e}`,{method:"DELETE"})}async resetUserPassword(e){return this.request(`/api/admin/users/${e}/reset-password`,{method:"POST"})}async toggleUserStatus(e){return this.request(`/api/admin/users/${e}/toggle-status`,{method:"POST"})}async getNotifications(e){const t=new URLSearchParams(e).toString();return this.request(`/api/admin/notifications?${t}`)}async getNotification(e){return this.request(`/api/admin/notifications/${e}`)}async createNotification(e){return this.request("/api/admin/notifications",{method:"POST",body:JSON.stringify(e)})}async updateNotification(e,t){return this.request(`/api/admin/notifications/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteNotification(e){return this.request(`/api/admin/notifications/${e}`,{method:"DELETE"})}async markNotificationAsRead(e,t){return this.request(`/api/admin/notifications/${e}/read`,{method:"POST",body:JSON.stringify({userId:t})})}async getAnnouncements(){return this.request("/api/admin/announcements")}async createAnnouncement(e){return this.request("/api/admin/announcements",{method:"POST",body:JSON.stringify(e)})}async getLoginLogs(e){const t=new URLSearchParams(e).toString();return this.request(`/api/admin/security/login-logs?${t}`)}async getSecurityAudit(e){const t=new URLSearchParams(e).toString();return this.request(`/api/admin/security/audit?${t}`)}async getSecuritySettings(){return this.request("/api/admin/security/settings")}async updateSecuritySettings(e){return this.request("/api/admin/security/settings",{method:"PUT",body:JSON.stringify(e)})}async toggle2FA(e,t){return this.request(`/api/admin/security/2fa/${e}`,{method:"POST",body:JSON.stringify({enabled:t})})}async get2FAStatus(e){return this.request(`/api/admin/security/2fa/${e}/status`)}async getFeatureToggles(e){const t=new URLSearchParams(e).toString();return this.request(`/api/admin/features?${t}`)}async getFeatureToggle(e){return this.request(`/api/admin/features/${e}`)}async createFeatureToggle(e){return this.request("/api/admin/features",{method:"POST",body:JSON.stringify(e)})}async updateFeatureToggle(e,t){return this.request(`/api/admin/features/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteFeatureToggle(e){return this.request(`/api/admin/features/${e}`,{method:"DELETE"})}async toggleFeature(e){return this.request(`/api/admin/features/${e}/toggle`,{method:"POST"})}async getABTests(e){const t=new URLSearchParams(e).toString();return this.request(`/api/admin/ab-tests?${t}`)}async createABTest(e){return this.request("/api/admin/ab-tests",{method:"POST",body:JSON.stringify(e)})}async updateABTestMetrics(e,t){return this.request(`/api/admin/ab-tests/${e}/metrics`,{method:"PUT",body:JSON.stringify(t)})}async sendAIMessage(e,t,n){return this.request("/api/admin/ai/chat",{method:"POST",body:JSON.stringify({message:e,userId:t,userName:n})})}async getAIChatHistory(e){const t=new URLSearchParams(e).toString();return this.request(`/api/admin/ai/chat?${t}`)}async getAIInsights(e){const t=new URLSearchParams(e).toString();return this.request(`/api/admin/ai/insights?${t}`)}async generateAIInsight(e,t){return this.request("/api/admin/ai/insights/generate",{method:"POST",body:JSON.stringify({type:e,data:t})})}async getAIRecommendations(){return this.request("/api/admin/ai/recommendations")}async generateAutoResponse(e,t){return this.request("/api/admin/ai/auto-response",{method:"POST",body:JSON.stringify({query:e,context:t})})}},j={user:null,isAuthenticated:!1,isLoading:!1,error:null,dashboardStats:null,schools:[],supportTickets:[],invoices:[],backups:[],systemSettings:null,subdomains:[],users:[],notifications:[],announcements:[],loginLogs:[],securityAudit:[],securitySettings:null,featureToggles:[],abTests:[],aiChatHistory:[],aiInsights:[],aiRecommendations:[]};function k(e,t){switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ERROR":return{...e,error:t.payload};case"SET_USER":return{...e,user:t.payload,isAuthenticated:!0};case"LOGOUT":return{...j};case"SET_DASHBOARD_STATS":return{...e,dashboardStats:t.payload};case"SET_SCHOOLS":return{...e,schools:t.payload};case"SET_SUPPORT_TICKETS":return{...e,supportTickets:t.payload};case"SET_INVOICES":return{...e,invoices:t.payload};case"SET_BACKUPS":return{...e,backups:t.payload};case"SET_SYSTEM_SETTINGS":return{...e,systemSettings:t.payload};case"ADD_SCHOOL":return{...e,schools:[t.payload,...e.schools]};case"UPDATE_SCHOOL":return{...e,schools:e.schools.map(e=>e.id===t.payload.id?t.payload:e)};case"DELETE_SCHOOL":return{...e,schools:e.schools.filter(e=>e.id!==t.payload)};case"SET_SUBDOMAINS":return{...e,subdomains:t.payload};case"ADD_SUBDOMAIN":return{...e,subdomains:[t.payload,...e.subdomains]};case"UPDATE_SUBDOMAIN":return{...e,subdomains:e.subdomains.map(e=>e.id===t.payload.id?t.payload:e)};case"DELETE_SUBDOMAIN":return{...e,subdomains:e.subdomains.filter(e=>e.id!==t.payload)};case"SET_USERS":return{...e,users:t.payload};case"ADD_USER":return{...e,users:[t.payload,...e.users]};case"UPDATE_USER":return{...e,users:e.users.map(e=>e.id===t.payload.id?t.payload:e)};case"DELETE_USER":return{...e,users:e.users.filter(e=>e.id!==t.payload)};case"SET_NOTIFICATIONS":return{...e,notifications:t.payload};case"ADD_NOTIFICATION":return{...e,notifications:[t.payload,...e.notifications]};case"UPDATE_NOTIFICATION":return{...e,notifications:e.notifications.map(e=>e.id===t.payload.id?t.payload:e)};case"DELETE_NOTIFICATION":return{...e,notifications:e.notifications.filter(e=>e.id!==t.payload)};case"SET_ANNOUNCEMENTS":return{...e,announcements:t.payload};case"ADD_ANNOUNCEMENT":return{...e,announcements:[t.payload,...e.announcements]};case"SET_LOGIN_LOGS":return{...e,loginLogs:t.payload};case"SET_SECURITY_AUDIT":return{...e,securityAudit:t.payload};case"SET_SECURITY_SETTINGS":return{...e,securitySettings:t.payload};case"SET_FEATURE_TOGGLES":return{...e,featureToggles:t.payload};case"ADD_FEATURE_TOGGLE":return{...e,featureToggles:[t.payload,...e.featureToggles]};case"UPDATE_FEATURE_TOGGLE":return{...e,featureToggles:e.featureToggles.map(e=>e.id===t.payload.id?t.payload:e)};case"DELETE_FEATURE_TOGGLE":return{...e,featureToggles:e.featureToggles.filter(e=>e.id!==t.payload)};case"SET_AB_TESTS":return{...e,abTests:t.payload};case"ADD_AB_TEST":return{...e,abTests:[t.payload,...e.abTests]};case"UPDATE_AB_TEST":return{...e,abTests:e.abTests.map(e=>e.id===t.payload.id?t.payload:e)};case"SET_AI_CHAT_HISTORY":return{...e,aiChatHistory:t.payload};case"ADD_AI_CHAT":return{...e,aiChatHistory:[t.payload,...e.aiChatHistory]};case"SET_AI_INSIGHTS":return{...e,aiInsights:t.payload};case"ADD_AI_INSIGHT":return{...e,aiInsights:[t.payload,...e.aiInsights]};case"SET_AI_RECOMMENDATIONS":return{...e,aiRecommendations:t.payload};default:return e}}const E=e.createContext(null),C=({children:t})=>{const[n,a]=e.useReducer(k,j);e.useEffect(()=>{if(S.getToken()){a({type:"SET_USER",payload:{id:"admin-1",name:"JafaSol Super Admin",email:"admin@jafasol.com",role:"super_admin"}})}},[]);const r=e.useCallback(async()=>{try{a({type:"SET_LOADING",payload:!0});const e=await S.getDashboard();a({type:"SET_DASHBOARD_STATS",payload:e.stats})}catch(e){a({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch dashboard stats"})}finally{a({type:"SET_LOADING",payload:!1})}},[]),s=e.useCallback(async()=>{var e;try{a({type:"SET_LOADING",payload:!0});const t=await S.getSchools(),n=(null==t?void 0:t.schools)||(null==(e=null==t?void 0:t.data)?void 0:e.schools)||t||[],r=Array.isArray(n)?n.sort((e,t)=>{const n=new Date(e.createdAt||0).getTime();return new Date(t.createdAt||0).getTime()-n}):[];a({type:"SET_SCHOOLS",payload:r})}catch(t){a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to fetch schools"})}finally{a({type:"SET_LOADING",payload:!1})}},[]),l=e.useCallback(async()=>{try{a({type:"SET_LOADING",payload:!0});const e=await S.getSupportTickets();a({type:"SET_SUPPORT_TICKETS",payload:e.tickets||[]})}catch(e){a({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch support tickets"})}finally{a({type:"SET_LOADING",payload:!1})}},[]),i=e.useCallback(async()=>{try{a({type:"SET_LOADING",payload:!0});const e=await S.getBackups();a({type:"SET_INVOICES",payload:e.subscriptions||[]})}catch(e){a({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch invoices"})}finally{a({type:"SET_LOADING",payload:!1})}},[]),o=e.useCallback(async()=>{try{a({type:"SET_LOADING",payload:!0});const e=await S.getBackups();a({type:"SET_BACKUPS",payload:e.backups||[]})}catch(e){a({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch backups"})}finally{a({type:"SET_LOADING",payload:!1})}},[]),c=e.useCallback(async()=>{try{a({type:"SET_LOADING",payload:!0});const e=await S.getSystemSettings();a({type:"SET_SYSTEM_SETTINGS",payload:e.settings})}catch(e){a({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch system settings"})}finally{a({type:"SET_LOADING",payload:!1})}},[]),u=e.useCallback(async()=>{try{a({type:"SET_LOADING",payload:!0});const e=await S.getSubdomains();a({type:"SET_SUBDOMAINS",payload:e.subdomains||[]})}catch(e){a({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch subdomains"})}finally{a({type:"SET_LOADING",payload:!1})}},[]),d=e.useCallback(async()=>{try{a({type:"SET_LOADING",payload:!0});const e=await S.getUsers();a({type:"SET_USERS",payload:e.users||[]})}catch(e){a({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch users"})}finally{a({type:"SET_LOADING",payload:!1})}},[]),m=e.useCallback(async()=>{try{a({type:"SET_LOADING",payload:!0});const e=await S.getNotifications();a({type:"SET_NOTIFICATIONS",payload:e.notifications||[]})}catch(e){a({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch notifications"})}finally{a({type:"SET_LOADING",payload:!1})}},[]),f=e.useCallback(async()=>{try{a({type:"SET_LOADING",payload:!0});const e=await S.getAnnouncements();a({type:"SET_ANNOUNCEMENTS",payload:e.announcements||[]})}catch(e){a({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch announcements"})}finally{a({type:"SET_LOADING",payload:!1})}},[]),h=e.useCallback(async()=>{try{a({type:"SET_LOADING",payload:!0});const e=await S.getLoginLogs();a({type:"SET_LOGIN_LOGS",payload:e.logs||[]})}catch(e){a({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch login logs"})}finally{a({type:"SET_LOADING",payload:!1})}},[]),g=e.useCallback(async()=>{try{a({type:"SET_LOADING",payload:!0});const e=await S.getSecurityAudit();a({type:"SET_SECURITY_AUDIT",payload:e.audit||[]})}catch(e){a({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch security audit"})}finally{a({type:"SET_LOADING",payload:!1})}},[]),y=e.useCallback(async()=>{try{a({type:"SET_LOADING",payload:!0});const e=await S.getSecuritySettings();a({type:"SET_SECURITY_SETTINGS",payload:e.settings})}catch(e){a({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch security settings"})}finally{a({type:"SET_LOADING",payload:!1})}},[]),x=e.useCallback(async()=>{try{a({type:"SET_LOADING",payload:!0});const e=await S.getFeatureToggles();a({type:"SET_FEATURE_TOGGLES",payload:e.toggles||[]})}catch(e){a({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch feature toggles"})}finally{a({type:"SET_LOADING",payload:!1})}},[]),b=e.useCallback(async()=>{try{a({type:"SET_LOADING",payload:!0});const e=await S.getABTests();a({type:"SET_AB_TESTS",payload:e.tests||[]})}catch(e){a({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch AB tests"})}finally{a({type:"SET_LOADING",payload:!1})}},[]),v=e.useCallback(async()=>{try{a({type:"SET_LOADING",payload:!0});const e=await S.getAIChatHistory();a({type:"SET_AI_CHAT_HISTORY",payload:e.history||[]})}catch(e){a({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch AI chat history"})}finally{a({type:"SET_LOADING",payload:!1})}},[]),w=e.useCallback(async()=>{try{a({type:"SET_LOADING",payload:!0});const e=await S.getAIInsights();a({type:"SET_AI_INSIGHTS",payload:e.insights||[]})}catch(e){a({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch AI insights"})}finally{a({type:"SET_LOADING",payload:!1})}},[]),N=e.useCallback(async()=>{try{a({type:"SET_LOADING",payload:!0});const e=await S.getAIRecommendations();a({type:"SET_AI_RECOMMENDATIONS",payload:e.recommendations||[]})}catch(e){a({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch AI recommendations"})}finally{a({type:"SET_LOADING",payload:!1})}},[]),C={state:n,login:async(e,t)=>{try{a({type:"SET_LOADING",payload:!0}),a({type:"SET_ERROR",payload:null});const n=await S.login(e,t),r={id:n.user.id,name:n.user.name,email:n.user.email,role:n.user.role};a({type:"SET_USER",payload:r}),setTimeout(()=>{S.prefetchCriticalData().catch(e=>{})},100)}catch(n){const e=n instanceof Error?n.message:"Login failed. Please check your credentials.";throw a({type:"SET_ERROR",payload:e}),n}finally{a({type:"SET_LOADING",payload:!1})}},logout:()=>{S.clearToken(),a({type:"LOGOUT"})},fetchDashboardStats:r,fetchSchools:s,fetchSupportTickets:l,fetchInvoices:i,fetchBackups:o,fetchSystemSettings:c,createSchool:async e=>{try{a({type:"SET_LOADING",payload:!0});const t=await S.createSchool(e),n=t.school||t.data||t,r={id:n._id||n.id||`temp_${Date.now()}`,name:n.name,email:n.email,phone:n.phone||"",logoUrl:`https://picsum.photos/seed/${Date.now()}/40/40`,plan:n.plan,status:n.status,subdomain:n.subdomain,storageUsage:n.storageUsage||0,createdAt:n.createdAt?new Date(n.createdAt).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0],modules:n.modules||[]},l={...r,adminCredentials:n.adminCredentials||t.adminCredentials};return a({type:"ADD_SCHOOL",payload:r}),S.clearCache("schools"),await s(),l}catch(t){throw a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to create school"}),t}finally{a({type:"SET_LOADING",payload:!1})}},updateSchool:async(e,t)=>{try{a({type:"SET_LOADING",payload:!0}),await S.updateSchool(e,t);const r=n.schools.find(t=>t.id===e);if(r){const e={...r,...t};a({type:"UPDATE_SCHOOL",payload:e})}}catch(r){a({type:"SET_ERROR",payload:r instanceof Error?r.message:"Failed to update school"})}finally{a({type:"SET_LOADING",payload:!1})}},deleteSchool:async e=>{try{a({type:"SET_LOADING",payload:!0}),await S.deleteSchool(e),a({type:"DELETE_SCHOOL",payload:e})}catch(t){a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to delete school"})}finally{a({type:"SET_LOADING",payload:!1})}},exportData:async e=>{try{return(await S.exportData(e)).data}catch(t){throw t}},fetchSubdomains:u,createSubdomain:async e=>{try{a({type:"SET_LOADING",payload:!0});const t=await S.createSubdomain(e);return a({type:"ADD_SUBDOMAIN",payload:t.subdomain}),t.subdomain}catch(t){throw a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to create subdomain"}),t}finally{a({type:"SET_LOADING",payload:!1})}},updateSubdomain:async(e,t)=>{try{a({type:"SET_LOADING",payload:!0}),await S.updateSubdomain(e,t);const r=n.subdomains.find(t=>t.id===e);if(r){const e={...r,...t};a({type:"UPDATE_SUBDOMAIN",payload:e})}}catch(r){a({type:"SET_ERROR",payload:r instanceof Error?r.message:"Failed to update subdomain"})}finally{a({type:"SET_LOADING",payload:!1})}},deleteSubdomain:async e=>{try{a({type:"SET_LOADING",payload:!0}),await S.deleteSubdomain(e),a({type:"DELETE_SUBDOMAIN",payload:e})}catch(t){a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to delete subdomain"})}finally{a({type:"SET_LOADING",payload:!1})}},checkSubdomainHealth:async e=>{try{return(await S.checkSubdomainHealth(e)).health}catch(t){throw t}},fetchUsers:d,createUser:async e=>{try{a({type:"SET_LOADING",payload:!0});const t=await S.createUser(e);return a({type:"ADD_USER",payload:t.user}),t.user}catch(t){throw a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to create user"}),t}finally{a({type:"SET_LOADING",payload:!1})}},updateUser:async(e,t)=>{try{a({type:"SET_LOADING",payload:!0}),await S.updateUser(e,t);const r=n.users.find(t=>t.id===e);if(r){const e={...r,...t};a({type:"UPDATE_USER",payload:e})}}catch(r){a({type:"SET_ERROR",payload:r instanceof Error?r.message:"Failed to update user"})}finally{a({type:"SET_LOADING",payload:!1})}},deleteUser:async e=>{try{a({type:"SET_LOADING",payload:!0}),await S.deleteUser(e),a({type:"DELETE_USER",payload:e})}catch(t){a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to delete user"})}finally{a({type:"SET_LOADING",payload:!1})}},resetUserPassword:async e=>{try{return await S.resetUserPassword(e)}catch(t){throw t}},toggleUserStatus:async e=>{try{a({type:"SET_LOADING",payload:!0}),await S.toggleUserStatus(e);const t=n.users.find(t=>t.id===e);if(t){const e="Active"===t.status?"Suspended":"Active",n={...t,status:e};a({type:"UPDATE_USER",payload:n})}}catch(t){a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to toggle user status"})}finally{a({type:"SET_LOADING",payload:!1})}},fetchNotifications:m,createNotification:async e=>{try{a({type:"SET_LOADING",payload:!0});const t=await S.createNotification(e);return a({type:"ADD_NOTIFICATION",payload:t.notification}),t.notification}catch(t){throw a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to create notification"}),t}finally{a({type:"SET_LOADING",payload:!1})}},updateNotification:async(e,t)=>{try{a({type:"SET_LOADING",payload:!0}),await S.updateNotification(e,t);const r=n.notifications.find(t=>t.id===e);if(r){const e={...r,...t};a({type:"UPDATE_NOTIFICATION",payload:e})}}catch(r){a({type:"SET_ERROR",payload:r instanceof Error?r.message:"Failed to update notification"})}finally{a({type:"SET_LOADING",payload:!1})}},deleteNotification:async e=>{try{a({type:"SET_LOADING",payload:!0}),await S.deleteNotification(e),a({type:"DELETE_NOTIFICATION",payload:e})}catch(t){a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to delete notification"})}finally{a({type:"SET_LOADING",payload:!1})}},markNotificationAsRead:async(e,t)=>{try{a({type:"SET_LOADING",payload:!0}),await S.markNotificationAsRead(e,t);const r=n.notifications.find(t=>t.id===e);if(r){const e={...r,isRead:!0};a({type:"UPDATE_NOTIFICATION",payload:e})}}catch(r){a({type:"SET_ERROR",payload:r instanceof Error?r.message:"Failed to mark notification as read"})}finally{a({type:"SET_LOADING",payload:!1})}},fetchAnnouncements:f,createAnnouncement:async e=>{try{a({type:"SET_LOADING",payload:!0});const t=await S.createAnnouncement(e);return a({type:"ADD_ANNOUNCEMENT",payload:t.announcement}),t.announcement}catch(t){throw a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to create announcement"}),t}finally{a({type:"SET_LOADING",payload:!1})}},fetchLoginLogs:h,fetchSecurityAudit:g,fetchSecuritySettings:y,updateSecuritySettings:async e=>{try{a({type:"SET_LOADING",payload:!0}),await S.updateSecuritySettings(e),a({type:"SET_SECURITY_SETTINGS",payload:e})}catch(t){a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to update security settings"})}finally{a({type:"SET_LOADING",payload:!1})}},toggle2FA:async(e,t)=>{try{a({type:"SET_LOADING",payload:!0}),await S.toggle2FA(e,t);const r=n.users.find(t=>t.id===e);if(r){const e={...r,twoFactorEnabled:t};a({type:"UPDATE_USER",payload:e})}}catch(r){a({type:"SET_ERROR",payload:r instanceof Error?r.message:"Failed to toggle 2FA"})}finally{a({type:"SET_LOADING",payload:!1})}},get2FAStatus:async e=>{try{return(await S.get2FAStatus(e)).status}catch(t){throw t}},fetchFeatureToggles:x,createFeatureToggle:async e=>{try{a({type:"SET_LOADING",payload:!0});const t=await S.createFeatureToggle(e);return a({type:"ADD_FEATURE_TOGGLE",payload:t.toggle}),t.toggle}catch(t){throw a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to create feature toggle"}),t}finally{a({type:"SET_LOADING",payload:!1})}},updateFeatureToggle:async(e,t)=>{try{a({type:"SET_LOADING",payload:!0}),await S.updateFeatureToggle(e,t);const r=n.featureToggles.find(t=>t.id===e);if(r){const e={...r,...t};a({type:"UPDATE_FEATURE_TOGGLE",payload:e})}}catch(r){a({type:"SET_ERROR",payload:r instanceof Error?r.message:"Failed to update feature toggle"})}finally{a({type:"SET_LOADING",payload:!1})}},deleteFeatureToggle:async e=>{try{a({type:"SET_LOADING",payload:!0}),await S.deleteFeatureToggle(e),a({type:"DELETE_FEATURE_TOGGLE",payload:e})}catch(t){a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to delete feature toggle"})}finally{a({type:"SET_LOADING",payload:!1})}},toggleFeature:async e=>{try{a({type:"SET_LOADING",payload:!0}),await S.toggleFeature(e);const t=n.featureToggles.find(t=>t.id===e);if(t){t.enabled;const e={...t,enabled:!t.enabled};a({type:"UPDATE_FEATURE_TOGGLE",payload:e})}}catch(t){a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to toggle feature"})}finally{a({type:"SET_LOADING",payload:!1})}},fetchABTests:b,createABTest:async e=>{try{a({type:"SET_LOADING",payload:!0});const t=await S.createABTest(e);return a({type:"ADD_AB_TEST",payload:t.test}),t.test}catch(t){throw a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to create AB test"}),t}finally{a({type:"SET_LOADING",payload:!1})}},updateABTestMetrics:async(e,t)=>{try{a({type:"SET_LOADING",payload:!0}),await S.updateABTestMetrics(e,t);const r=n.abTests.find(t=>t.id===e);if(r){const e={...r,metrics:t};a({type:"UPDATE_AB_TEST",payload:e})}}catch(r){a({type:"SET_ERROR",payload:r instanceof Error?r.message:"Failed to update AB test metrics"})}finally{a({type:"SET_LOADING",payload:!1})}},sendAIMessage:async(e,t,n)=>{try{a({type:"SET_LOADING",payload:!0});const r=await S.sendAIMessage(e,t,n);return a({type:"ADD_AI_CHAT",payload:r.chat}),r.chat}catch(r){throw a({type:"SET_ERROR",payload:r instanceof Error?r.message:"Failed to send AI message"}),r}finally{a({type:"SET_LOADING",payload:!1})}},fetchAIChatHistory:v,fetchAIInsights:w,generateAIInsight:async(e,t)=>{try{a({type:"SET_LOADING",payload:!0});const n=await S.generateAIInsight(e,t);return a({type:"ADD_AI_INSIGHT",payload:n.insight}),n.insight}catch(n){throw a({type:"SET_ERROR",payload:n instanceof Error?n.message:"Failed to generate AI insight"}),n}finally{a({type:"SET_LOADING",payload:!1})}},fetchAIRecommendations:N,generateAutoResponse:async(e,t)=>{try{a({type:"SET_LOADING",payload:!0});return(await S.generateAutoResponse(e,t)).response}catch(n){throw a({type:"SET_ERROR",payload:n instanceof Error?n.message:"Failed to generate auto response"}),n}finally{a({type:"SET_LOADING",payload:!1})}},provisionSubdomain:async e=>{try{a({type:"SET_LOADING",payload:!0});const t=await S.provisionSubdomain(e),r=n.subdomains.find(t=>t.id===e);if(r){const e={...r,...t.subdomain};a({type:"UPDATE_SUBDOMAIN",payload:e})}return t}catch(t){throw a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to provision subdomain"}),t}finally{a({type:"SET_LOADING",payload:!1})}},getSubdomainAnalytics:async e=>{try{return(await S.getSubdomainAnalytics(e)).analytics}catch(t){throw t}},bulkProvisionSubdomains:async e=>{try{a({type:"SET_LOADING",payload:!0});const t=await S.bulkProvisionSubdomains(e);return t.results.forEach(e=>{"provisioned"===e.status&&a({type:"UPDATE_SUBDOMAIN",payload:e.subdomain})}),t}catch(t){throw a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to bulk provision subdomains"}),t}finally{a({type:"SET_LOADING",payload:!1})}},getSubdomainTemplates:async()=>{try{return await S.getSubdomainTemplates()}catch(e){throw e}},applySubdomainTemplate:async(e,t)=>{try{a({type:"SET_LOADING",payload:!0});const r=await S.applySubdomainTemplate(e,t),s=n.subdomains.find(t=>t.id===e);if(s){const e={...s,...r.subdomain};a({type:"UPDATE_SUBDOMAIN",payload:e})}return r}catch(r){throw a({type:"SET_ERROR",payload:r instanceof Error?r.message:"Failed to apply template"}),r}finally{a({type:"SET_LOADING",payload:!1})}},updateSystemSettings:async e=>{try{a({type:"SET_LOADING",payload:!0}),await S.updateSystemSettings(e),a({type:"SET_SYSTEM_SETTINGS",payload:e})}catch(t){a({type:"SET_ERROR",payload:t instanceof Error?t.message:"Failed to update system settings"})}finally{a({type:"SET_LOADING",payload:!1})}},uploadSchoolLogo:async(e,t)=>{try{a({type:"SET_LOADING",payload:!0});const r=await S.uploadSchoolLogo(e,t),s=n.schools.find(t=>t.id===e);if(s){const e={...s,logoUrl:r.logo.logoUrl};a({type:"UPDATE_SCHOOL",payload:e})}return r.logo}catch(r){throw a({type:"SET_ERROR",payload:r instanceof Error?r.message:"Failed to upload logo"}),r}finally{a({type:"SET_LOADING",payload:!1})}}};return p.jsx(E.Provider,{value:C,children:t})},T=()=>{const t=e.useContext(E);if(!t)throw new Error("useAdmin must be used within an AdminProvider");return t},A=({className:e})=>p.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),L=({className:e})=>p.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),O=({className:e})=>p.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),_=({className:e})=>p.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),P=({className:e})=>p.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),D=({className:e})=>p.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M12 6a2 2 0 100-4 2 2 0 000 4zm0 14a2 2 0 100-4 2 2 0 000 4zm6-8a2 2 0 100-4 2 2 0 000 4zm-12 0a2 2 0 100-4 2 2 0 000 4z"}),p.jsx("rect",{x:"7",y:"7",width:"10",height:"10",rx:"2",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),R=({className:e})=>p.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.293 2.293a1 1 0 010 1.414L12.586 12l2.707 2.707a1 1 0 01-1.414 1.414L11.586 13.414a1 1 0 010-1.414L14 9.293a1 1 0 011.414 0L17.707 12m-3.293 6.293l2.293-2.293a1 1 0 000-1.414L14 12l-2.707-2.707a1 1 0 00-1.414-1.414L7.586 10.586a1 1 0 000 1.414L10 14.707a1 1 0 001.414 1.414L13.707 18.414a1 1 0 001.414 0z"})}),I=({className:e})=>p.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a5 5 0 01-.99-9.902A5.002 5.002 0 0112 5a5.002 5.002 0 014.99 6.098A5.002 5.002 0 0117 16"})]}),z=({className:e})=>p.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),M=({className:e})=>p.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2h8a2 2 0 002-2v-1a2 2 0 012-2h1.945M7.724 7.724a1 1 0 011.414 0l3.536 3.536a1 1 0 001.414 0l3.536-3.536a1 1 0 011.414 1.414l-3.536 3.536a1 1 0 01-1.414 0l-3.536-3.536a1 1 0 010-1.414zM12 21a9 9 0 100-18 9 9 0 000 18z"})}),F=({className:e})=>p.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5.882V4a2 2 0 012-2h2a2 2 0 012 2v1.882M11 5.882a4 4 0 00-4 4V13a4 4 0 004 4h.082a2 2 0 011.833.918l.835 1.67a1 1 0 001.732 0l.835-1.67a2 2 0 011.833-.918H17a4 4 0 004-4v-3.118a4 4 0 00-4-4H11zm0 0h2"})}),U=({className:e})=>p.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),B=({className:e})=>p.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v4.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 9.172V5L8 4z"})}),$=({className:e})=>p.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 20.417l5.5-5.5m3.118 3.118l5.5 5.5A12.02 12.02 0 0021 12.056a11.955 11.955 0 01-2.382-5.072z"})}),G=({className:e})=>p.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),q=({className:e})=>p.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),H=({className:e})=>p.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),V=({className:e})=>p.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),W=({icon:e,label:t,isActive:n,onClick:a})=>p.jsxs("button",{onClick:a,className:"w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-200 "+(n?"bg-brand text-white":"text-gray-300 hover:bg-brand-darker hover:text-white"),children:[e,p.jsx("span",{className:"ml-3",children:t})]}),Q=({activeView:e,setActiveView:t,onLogout:n})=>{const a=[{id:"dashboard",label:"Dashboard",icon:p.jsx(A,{className:"w-6 h-6"})},{id:"geminiChat",label:"Gemini AI Chat",icon:p.jsx(R,{className:"w-6 h-6"})},{id:"schools",label:"Schools",icon:p.jsx(L,{className:"w-6 h-6"})},{id:"users",label:"User Management",icon:p.jsx(O,{className:"w-6 h-6"})},{id:"billing",label:"Billing & Plans",icon:p.jsx(_,{className:"w-6 h-6"})},{id:"systemHealth",label:"System Health",icon:p.jsx(D,{className:"w-6 h-6"})},{id:"analytics",label:"Global Analytics",icon:p.jsx(P,{className:"w-6 h-6"})},{id:"hosting",label:"Hosting Manager",icon:p.jsx(M,{className:"w-6 h-6"})},{id:"backup",label:"Backup & Restore",icon:p.jsx(I,{className:"w-6 h-6"})},{id:"support",label:"Support Tickets",icon:p.jsx(U,{className:"w-6 h-6"})},{id:"notifications",label:"Notifications",icon:p.jsx(F,{className:"w-6 h-6"})}],r=[{id:"security",label:"Security",icon:p.jsx($,{className:"w-6 h-6"})},{id:"featureToggles",label:"Feature Toggles",icon:p.jsx(B,{className:"w-6 h-6"})},{id:"dataExport",label:"Data Export",icon:p.jsx(z,{className:"w-6 h-6"})},{id:"settings",label:"Settings",icon:p.jsx(G,{className:"w-6 h-6"})}];return p.jsxs("div",{className:"w-full lg:w-64 bg-brand-dark text-white flex flex-col sidebar-full-height",children:[p.jsx("div",{className:"flex items-center justify-center h-16 border-b border-gray-700 bg-brand-darker flex-shrink-0",children:p.jsx("h1",{className:"text-xl font-bold text-white",children:"Jafasol Admin"})}),p.jsx("div",{className:"flex-1 overflow-y-auto sidebar-scroll",children:p.jsx("nav",{className:"p-4 space-y-2",children:a.map(n=>p.jsx(W,{icon:n.icon,label:n.label,isActive:e===n.id,onClick:()=>t(n.id)},n.id))})}),p.jsxs("div",{className:"p-4 border-t border-gray-700 space-y-2 bg-brand-darker flex-shrink-0",children:[r.map(n=>p.jsx(W,{icon:n.icon,label:n.label,isActive:e===n.id,onClick:()=>t(n.id)},n.id)),p.jsx(W,{icon:p.jsx(q,{className:"w-6 h-6"}),label:"Logout",isActive:!1,onClick:n})]})]})};var K=(e=>(e.Free="Free",e.Basic="Basic",e.Premium="Premium",e.Enterprise="Enterprise",e))(K||{}),J=(e=>(e.Active="Active",e.Inactive="Inactive",e.Suspended="Suspended",e))(J||{}),Y=(e=>(e.Analytics="analytics",e.StudentManagement="studentManagement",e.TeacherManagement="teacherManagement",e.Timetable="timetable",e.FeeManagement="fees",e.Exams="exams",e.Communication="communication",e.Attendance="attendance",e.Library="library",e.Transport="transport",e.Academics="academics",e))(Y||{}),X=(e=>(e.Open="Open",e.InProgress="In Progress",e.Closed="Closed",e))(X||{}),Z=(e=>(e.Low="Low",e.Medium="Medium",e.High="High",e))(Z||{}),ee=(e=>(e.Completed="Completed",e.InProgress="In Progress",e.Failed="Failed",e))(ee||{}),te=(e=>(e.Automatic="Automatic",e.Manual="Manual",e))(te||{}),ne=(e=>(e.Info="Info",e.Warning="Warning",e.Critical="Critical",e))(ne||{}),ae=(e=>(e.SuperAdmin="Super Admin",e.SchoolAdmin="School Admin",e))(ae||{}),re=(e=>(e.Active="Active",e.Suspended="Suspended",e))(re||{}),se=(e=>(e.Paid="Paid",e.Due="Due",e.Overdue="Overdue",e))(se||{});const le=({children:t,activeView:n,setActiveView:a,onLogout:r})=>{var s,l;const{state:i}=T(),[o,c]=e.useState(!1),[u,d]=e.useState(!1),[m,f]=e.useState(!1),h=(null==(s=i.notifications)?void 0:s.filter(e=>e.level===ne.Critical))||[],g=i.notifications||[],y=i.announcements||[],x=[...g.map(e=>({...e,type:"notification"})),...y.map(e=>({...e,type:"announcement"}))],b=x.filter(e=>!e.isRead).length;return p.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[o&&p.jsx("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",onClick:()=>c(!1)}),p.jsx("div",{className:`\n        fixed inset-y-0 left-0 z-50 w-64 bg-brand-dark transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0\n        ${o?"translate-x-0":"-translate-x-full"}\n      `,children:p.jsx(Q,{activeView:n,setActiveView:e=>{a(e),c(!1)},onLogout:r})}),p.jsxs("main",{className:"flex-1 min-w-0 lg:ml-0",children:[p.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-4 sm:px-6 lg:px-8 py-3",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("button",{onClick:()=>c(!o),className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:p.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),p.jsx("div",{className:"flex-1 lg:hidden"}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:()=>d(!u),className:"relative p-2 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[p.jsx(H,{className:"h-6 w-6"}),b>0&&p.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-400 ring-2 ring-white"})]}),u&&p.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50",children:p.jsx("div",{className:"py-1",children:x.length>0?x.slice(0,5).map((e,t)=>p.jsxs("div",{className:"px-4 py-2 hover:bg-gray-50",children:[p.jsx("p",{className:"text-sm text-gray-900",children:e.title||e.message}),p.jsx("p",{className:"text-xs text-gray-500",children:e.createdAt})]},t)):p.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No notifications"})})})]}),p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:()=>f(!m),className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[p.jsx("div",{className:"h-8 w-8 bg-gray-300 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-sm font-medium text-gray-600",children:"A"})}),p.jsx("span",{className:"hidden sm:block text-sm font-medium",children:(null==(l=i.user)?void 0:l.name)||"Admin"})]}),m&&p.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50",children:p.jsxs("div",{className:"py-1",children:[p.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Profile"}),p.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Settings"}),p.jsx("button",{onClick:r,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign out"})]})})]})]})]})}),p.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[h.length>0&&p.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 shadow-sm",children:p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),p.jsxs("div",{className:"ml-3 flex-1",children:[p.jsxs("h3",{className:"text-sm font-medium text-red-800",children:["Critical System Alerts (",h.length,")"]}),p.jsx("div",{className:"mt-2 text-sm text-red-700",children:p.jsx("ul",{className:"list-disc pl-5 space-y-1",children:h.slice(0,3).map((e,t)=>p.jsx("li",{children:e.title||e.message},`alert-${e.id||t}`))})})]}),p.jsx("button",{onClick:()=>c(!1),className:"ml-3 flex-shrink-0 text-red-400 hover:text-red-600",children:p.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),p.jsx("div",{className:"space-y-6",children:t})]})]})]})},ie=({children:e,className:t=""})=>p.jsx("div",{className:`bg-white rounded-xl shadow-md overflow-hidden ${t}`,children:e}),oe=({title:e,value:t,icon:n,colorClass:a,change:r,changeType:s="neutral"})=>p.jsx(ie,{className:"p-6 hover:shadow-md transition-shadow duration-200",children:p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:`p-3 rounded-lg ${a} shadow-sm`,children:n}),p.jsxs("div",{className:"ml-4",children:[p.jsx("p",{className:"text-sm font-medium text-gray-500 truncate",children:e}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t}),r&&p.jsxs("div",{className:"flex items-center mt-1",children:[(()=>{switch(s){case"positive":return p.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})});case"negative":return p.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})});default:return null}})(),p.jsx("span",{className:`text-xs font-medium ml-1 ${(()=>{switch(s){case"positive":return"text-green-600";case"negative":return"text-red-600";default:return"text-gray-600"}})()}`,children:r})]})]})]})})}),ce=()=>{var e,t;const{state:n}=T(),a=n.dashboardStats;return a?p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[p.jsx(oe,{title:"Total Schools",value:(null==(e=a.totalSchools)?void 0:e.toString())||"0",change:a.newSchoolsThisMonth?`+${a.newSchoolsThisMonth}`:"0",changeType:"positive",icon:p.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),colorClass:"bg-blue-500"}),p.jsx(oe,{title:"Active Subscriptions",value:(null==(t=a.activeSubscriptions)?void 0:t.toString())||"0",change:a.activeSubscriptions?`${Math.round(a.activeSubscriptions/a.totalSchools*100)}%`:"0%",changeType:"positive",icon:p.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),colorClass:"bg-green-500"}),p.jsx(oe,{title:"Monthly Revenue",value:`KSh ${(a.monthlyRevenue||0).toLocaleString()}`,change:a.totalRevenue?`${Math.round(a.monthlyRevenue/a.totalRevenue*100)}%`:"0%",changeType:"positive",icon:p.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402 2.599-1"})}),colorClass:"bg-yellow-500"}),p.jsx(oe,{title:"System Health",value:a.systemHealth||"Unknown",change:`${a.uptime||0}%`,changeType:"Operational"===a.systemHealth?"positive":"negative",icon:p.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),colorClass:"Operational"===a.systemHealth?"bg-green-500":"bg-red-500"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Performance"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Response Time"}),p.jsxs("span",{className:"text-sm font-medium",children:[a.responseTime||0,"ms"]})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Uptime"}),p.jsxs("span",{className:"text-sm font-medium",children:[a.uptime||0,"%"]})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"System Load"}),p.jsxs("span",{className:"text-sm font-medium",children:[a.systemLoad||0,"%"]})]})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Statistics"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Total Users"}),p.jsx("span",{className:"text-sm font-medium",children:a.totalUsers||0})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Active Users"}),p.jsx("span",{className:"text-sm font-medium",children:a.activeUsers||0})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Active Rate"}),p.jsx("span",{className:"text-sm font-medium",children:a.totalUsers&&a.activeUsers?`${Math.round(a.activeUsers/a.totalUsers*100)}%`:"0%"})]})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Overview"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Monthly Revenue"}),p.jsxs("span",{className:"text-sm font-medium",children:["KSh ",(a.monthlyRevenue||0).toLocaleString()]})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue"}),p.jsxs("span",{className:"text-sm font-medium",children:["KSh ",(a.totalRevenue||0).toLocaleString()]})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Growth Rate"}),p.jsx("span",{className:"text-sm font-medium",children:a.monthlyRevenue&&a.totalRevenue?`${Math.round(a.monthlyRevenue/a.totalRevenue*100)}%`:"0%"})]})]})]})]}),a.lastUpdated&&p.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Last updated: ",new Date(a.lastUpdated).toLocaleString()]})]}):p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[...Array(4)].map((e,t)=>p.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm animate-pulse",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded"})}),p.jsxs("div",{className:"ml-4 flex-1",children:[p.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),p.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mt-2"})]})]})},t))}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(3)].map((e,t)=>p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm animate-pulse",children:[p.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-4"}),p.jsx("div",{className:"space-y-3",children:[...Array(5)].map((e,t)=>p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"}),p.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/6"})]},t))})]},t))})]})},ue=({isOpen:e,onClose:t,title:n,children:a})=>e?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl transform transition-all",children:[p.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:n}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),p.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:a})]})}):null,de=[{key:Y.Analytics,name:"Analytics",description:"Performance by subject/stream"},{key:Y.Academics,name:"Academics",description:"Manage academic activities"},{key:Y.Attendance,name:"Attendance",description:"Track student attendance"},{key:Y.FeeManagement,name:"Fee Management",description:"Track and collect fees"},{key:Y.Communication,name:"Communication",description:"Send alerts and messages"},{key:Y.Transport,name:"Transport",description:"Manage transport services"},{key:Y.Library,name:"Library",description:"Manage library resources"}],me={[K.Free]:{id:"plan_free",name:K.Free,price:0,durationDays:365,features:["Student Management","Attendance","Basic Analytics"],color:"gray"},[K.Basic]:{id:"plan_basic",name:K.Basic,price:15e3,durationDays:30,features:["All Free features","Fee Management","Exams & Reports","Timetable"],color:"blue"},[K.Premium]:{id:"plan_premium",name:K.Premium,price:3e4,durationDays:30,features:["All Basic features","Communication","Library","Teacher Management"],color:"indigo"},[K.Enterprise]:{id:"plan_enterprise",name:K.Enterprise,price:75e3,durationDays:365,features:["All Premium features","Custom Modules","Dedicated Support"],color:"purple"}},fe=({isOpen:t,onClose:n,onCreate:a})=>{const[r,s]=e.useState(""),[l,i]=e.useState(""),[o,c]=e.useState(""),[u,d]=e.useState(K.Basic),[m,f]=e.useState(""),[h,g]=e.useState("idle"),[y,x]=e.useState(new Set),[b,v]=e.useState([]),w=()=>{s(""),i(""),c(""),d(K.Basic),f(""),g("idle"),x(new Set),v([])},N=()=>{w(),n()};return p.jsx(ue,{isOpen:t,onClose:N,title:"Register New School",children:p.jsxs("form",{className:"space-y-6",onSubmit:e=>e.preventDefault(),children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"schoolName",className:"block text-sm font-medium text-gray-700",children:"School Name"}),p.jsx("input",{type:"text",id:"schoolName",value:r,onChange:e=>s(e.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"schoolEmail",className:"block text-sm font-medium text-gray-700",children:"Contact Email"}),p.jsx("input",{type:"email",id:"schoolEmail",value:l,onChange:e=>i(e.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"schoolPhone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),p.jsx("input",{type:"tel",id:"schoolPhone",value:o,onChange:e=>c(e.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"plan",className:"block text-sm font-medium text-gray-700",children:"Subscription Plan"}),p.jsx("select",{id:"plan",value:u,onChange:e=>d(e.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm",children:Object.values(me).map(e=>p.jsxs("option",{value:e.name,children:[e.name," - KSh ",e.price.toLocaleString(),"/mo"]},e.name))})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"School Logo"}),p.jsxs("div",{className:"mt-1 flex items-center",children:[p.jsx("span",{className:"inline-block h-12 w-12 rounded-full overflow-hidden bg-gray-100",children:p.jsx("svg",{className:"h-full w-full text-gray-300",fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M24 20.993V24H0v-2.997A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})})}),p.jsx("button",{type:"button",className:"ml-5 bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Upload"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"subdomain",className:"block text-sm font-medium text-gray-700",children:"Subdomain"}),p.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[p.jsx("input",{type:"text",id:"subdomain",value:m,onChange:e=>{const t=e.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"");f(t),t.length>=3?(async e=>{if(!e||e.length<3)g("idle");else{g("checking");try{const t=await fetch("https://jafasol.com/api/admin/subdomains/check",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("adminToken")}`},body:JSON.stringify({subdomain:e})});if(t.ok){const e=await t.json();g(e.available?"available":"unavailable")}else g("unavailable")}catch(t){g("unavailable")}}})(t):g("idle")},className:"focus:ring-primary focus:border-primary flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300 "+("available"===h?"border-green-300":"unavailable"===h?"border-red-300":"checking"===h?"border-yellow-300":""),placeholder:"schoolname"}),p.jsx("span",{className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm",children:".jafasol.com"})]}),"checking"===h&&p.jsx("p",{className:"mt-1 text-sm text-yellow-600",children:"Checking availability..."}),"available"===h&&p.jsx("p",{className:"mt-1 text-sm text-green-600",children:"✓ Subdomain is available"}),"unavailable"===h&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:"✗ Subdomain is not available"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Required Documents"}),p.jsx("div",{className:"mt-2 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:p.jsxs("div",{className:"space-y-1 text-center",children:[p.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:p.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),p.jsxs("div",{className:"flex text-sm text-gray-600",children:[p.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-primary hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-primary",children:[p.jsx("span",{children:"Upload files"}),p.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",multiple:!0,onChange:e=>{e.target.files&&v(t=>[...t,...Array.from(e.target.files)])}})]}),p.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),p.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF up to 10MB"})]})}),b.length>0&&p.jsxs("div",{className:"mt-4",children:[p.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"Uploaded:"}),p.jsx("ul",{className:"mt-2 border border-gray-200 rounded-md divide-y divide-gray-200",children:b.map(e=>p.jsxs("li",{className:"pl-3 pr-4 py-3 flex items-center justify-between text-sm",children:[p.jsx("div",{className:"w-0 flex-1 flex items-center",children:p.jsx("span",{className:"ml-2 flex-1 w-0 truncate",children:e.name})}),p.jsx("div",{className:"ml-4 flex-shrink-0",children:p.jsx("button",{onClick:()=>{return t=e.name,void v(e=>e.filter(e=>e.name!==t));var t},className:"font-medium text-danger hover:text-red-700",children:"Remove"})})]},e.name))})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-md font-medium text-gray-800 mb-2",children:"Assign Modules"}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 border rounded-lg p-4 max-h-60 overflow-y-auto",children:de.map(e=>p.jsxs("div",{className:"relative flex items-start",children:[p.jsx("div",{className:"flex items-center h-5",children:p.jsx("input",{id:`reg-${e.key}`,name:e.key,type:"checkbox",checked:y.has(e.key),onChange:()=>{return t=e.key,void x(e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n});var t},className:"focus:ring-primary h-4 w-4 text-primary border-gray-300 rounded"})}),p.jsx("div",{className:"ml-3 text-sm",children:p.jsx("label",{htmlFor:`reg-${e.key}`,className:"font-medium text-gray-700",children:e.name})})]},e.key))})]}),p.jsxs("div",{className:"pt-4 flex justify-end space-x-3",children:[p.jsx("button",{type:"button",onClick:N,className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),p.jsx("button",{type:"button",onClick:()=>{if(!r||!l||!m)return void alert("School Name, Email, and Subdomain are required.");if("available"!==h)return void alert("Please choose an available subdomain.");/^[a-z0-9-]+$/.test(m)?m.length<3?alert("Subdomain must be at least 3 characters long."):(a({name:r,email:l,phone:o,plan:u,status:J.Active,subdomain:m,modules:Array.from(y)}),w(),n()):alert("Subdomain can only contain lowercase letters, numbers, and hyphens.")},className:"bg-primary text-white py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium hover:bg-indigo-700",children:"Create School"})]})]})})},pe=({school:t,onClose:n,onUpdate:a})=>{const[r,s]=e.useState([]),[l,i]=e.useState(t.modules||[]),[o,c]=e.useState(!1),[u,d]=e.useState(null);e.useEffect(()=>{m()},[]);const m=async()=>{try{const e=await fetch("https://jafasol.com/api/admin/modules",{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to fetch available modules");const t=await e.json();s(t.modules)}catch(e){d("Failed to load available modules")}};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Manage Modules - ",t.name]}),p.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"×"})]}),u&&p.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:p.jsx("p",{className:"text-red-800",children:u})}),p.jsx("div",{className:"mb-6",children:p.jsx("p",{className:"text-gray-600 mb-4",children:"Select which modules this school should have access to. These modules will appear in their sidebar."})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:r.map(e=>p.jsx("div",{className:"p-4 border rounded-lg cursor-pointer transition-colors "+(l.includes(e.key)?"border-teal-500 bg-teal-50":"border-gray-200 hover:border-gray-300"),onClick:()=>{return t=e.key,void i(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),p.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]}),p.jsx("div",{className:"ml-4",children:l.includes(e.key)?p.jsx("div",{className:"h-5 w-5 bg-teal-600 text-white rounded flex items-center justify-center text-xs font-bold",children:"✓"}):p.jsx("div",{className:"h-5 w-5 border-2 border-gray-300 rounded"})})]})},e.key))}),p.jsxs("div",{className:"flex justify-end space-x-3",children:[p.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),p.jsx("button",{onClick:async()=>{c(!0),d(null);try{const e=await fetch(`https://jafasol.com/api/admin/schools/${t.id}/modules`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"},body:JSON.stringify({modules:l})});if(!e.ok)throw new Error("Failed to update school modules");await e.json();a(t.id,l),n()}catch(e){d("Failed to update school modules")}finally{c(!1)}},disabled:o,className:"px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 disabled:opacity-50 transition-colors",children:o?"Saving...":"Save Changes"})]}),p.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-md",children:[p.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Selected Modules (",l.length,")"]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(e=>{const t=r.find(t=>t.key===e);return p.jsx("span",{className:"px-2 py-1 bg-teal-100 text-teal-800 text-sm rounded-md",children:(null==t?void 0:t.name)||e},e)})})]})]})})},he=({school:t})=>{const[n,a]=e.useState(null),[r,s]=e.useState(!1),[l,i]=e.useState(""),[o,c]=e.useState(!1),[u,d]=e.useState(""),m=async()=>{if(t){s(!0);try{const e=await fetch(`/api/admin/schools/${t.id}/credentials`,{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"}});if(e.ok){const t=await e.json();a(t.school)}}catch(e){}finally{s(!1)}}};return e.useEffect(()=>{m()},[t]),t?p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[p.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"School Admin Credentials"}),p.jsxs("p",{className:"text-sm text-blue-700",children:["Manage login credentials for ",t.name," administrators."]})]}),r?p.jsxs("div",{className:"text-center py-4",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"}),p.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading..."})]}):n?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[p.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-3",children:"Current Admin Account"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email:"}),p.jsx("span",{className:"ml-2 text-sm text-gray-900",children:n.email})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Subdomain:"}),p.jsx("span",{className:"ml-2 text-sm text-gray-900",children:n.schoolSubdomain})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),p.jsx("span",{className:"ml-2 text-sm px-2 py-1 rounded-full "+("Active"===n.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:n.status})]})]})]}),p.jsxs("div",{className:"border-t pt-4",children:[p.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-3",children:"Update Password"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Password"}),p.jsxs("div",{className:"mt-1 relative",children:[p.jsx("input",{type:o?"text":"password",value:l,onChange:e=>i(e.target.value),placeholder:"Enter new password (min 6 characters)",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm pr-10"}),p.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o?"👁️":"👁️‍🗨️"})]})]}),p.jsx("button",{onClick:async()=>{if(t&&l){s(!0);try{const e=await fetch(`/api/admin/schools/${t.id}/password`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"},body:JSON.stringify({newPassword:l})});if(e.ok)alert("Password updated successfully! The new password can now be used to login."),i(""),m();else{const t=await e.json();alert(`Failed to update password: ${t.message||"Unknown error"}`)}}catch(e){alert("Failed to update password. Please try again.")}finally{s(!1)}}},disabled:!l||l.length<6||r,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:r?"Updating...":"Update Password"})]})]}),p.jsxs("div",{className:"border-t pt-4",children:[p.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-3",children:"Generate New Password"}),p.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Generate a secure random password for the school admin."}),p.jsx("button",{onClick:async()=>{if(t){s(!0);try{const e=await fetch(`/api/admin/schools/${t.id}/generate-password`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"}});if(e.ok){const t=await e.json();d(t.school.newPassword),m(),alert("New password generated successfully! The generated password can now be used to login.")}else{const t=await e.json();alert(`Failed to generate password: ${t.message||"Unknown error"}`)}}catch(e){alert("Failed to generate password. Please try again.")}finally{s(!1)}}},disabled:r,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:r?"Generating...":"Generate New Password"}),u&&p.jsxs("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-md",children:[p.jsx("p",{className:"text-sm font-medium text-green-800 mb-1",children:"New Password Generated:"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"text",value:u,readOnly:!0,className:"flex-1 text-sm font-mono bg-white border border-green-300 rounded px-2 py-1"}),p.jsx("button",{onClick:async()=>{try{await navigator.clipboard.writeText(u),alert("Password copied to clipboard!")}catch(e){const t=document.createElement("textarea");t.value=u,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),alert("Password copied to clipboard!")}},className:"px-2 py-1 text-xs font-medium text-green-700 bg-green-100 border border-green-300 rounded hover:bg-green-200",children:"Copy"})]}),p.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Please save this password securely. It won't be shown again."})]})]})]}):p.jsx("div",{className:"text-center py-4",children:p.jsx("p",{className:"text-sm text-gray-500",children:"No credentials found for this school."})})]}):null},ge=({isOpen:t,onClose:n,onSave:a,school:r})=>{const{state:s,updateSchool:l,uploadSchoolLogo:i}=T(),[o,c]=e.useState("details"),[u,d]=e.useState({}),[m,f]=e.useState(!1),[h,g]=e.useState(null),[y,x]=e.useState(""),[b,v]=e.useState(!1);e.useEffect(()=>{r&&(d(r),x(r.logoUrl||""))},[r]);const w=async e=>{if(e.preventDefault(),r){f(!0);try{await l(r.id,u);const e={...r,...u};a&&a(e),n()}catch(t){}finally{f(!1)}}},N=(e,t)=>{d(n=>({...n,[e]:t}))};return r?p.jsx(ue,{isOpen:t,onClose:n,title:`Manage ${r.name}`,children:p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"border-b border-gray-200",children:p.jsx("nav",{className:"-mb-px flex space-x-8",children:["details","billing","modules","features","credentials"].map(e=>p.jsx("button",{onClick:()=>c(e),className:"py-2 px-1 border-b-2 font-medium text-sm capitalize "+(o===e?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e},e))})}),"details"===o&&p.jsxs("form",{onSubmit:w,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"School Name"}),p.jsx("input",{type:"text",value:u.name||"",onChange:e=>N("name",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),p.jsx("input",{type:"email",value:u.email||"",onChange:e=>N("email",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),p.jsx("input",{type:"tel",value:u.phone||"",onChange:e=>N("phone",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),p.jsxs("select",{value:u.status||"",onChange:e=>N("status",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[p.jsx("option",{value:"Active",children:"Active"}),p.jsx("option",{value:"Suspended",children:"Suspended"}),p.jsx("option",{value:"Pending",children:"Pending"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"School Logo"}),p.jsxs("div",{className:"mt-2 flex items-center",children:[p.jsx("input",{type:"file",accept:"image/*",onChange:e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];if(n){g(n);const e=new FileReader;e.onload=e=>{var t;x(null==(t=e.target)?void 0:t.result)},e.readAsDataURL(n)}},className:"block w-full text-sm text-gray-900 border border-gray-300 rounded-md cursor-pointer bg-gray-50 focus:outline-none file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"}),y&&p.jsx("img",{src:y,alt:"School Logo Preview",className:"ml-4 h-10 w-10 rounded-full object-cover"}),h&&p.jsx("button",{type:"button",onClick:async()=>{if(r&&h)try{const e={logoUrl:y,fileName:h.name,fileSize:h.size,fileType:h.type};await i(r.id,e),alert("Logo uploaded successfully!")}catch(e){alert("Failed to upload logo")}},className:"ml-4 px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:"Upload Logo"})]})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),p.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:m?"Saving...":"Save Changes"})]})]}),"billing"===o&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Plan"}),p.jsxs("select",{value:u.plan||"",onChange:e=>N("plan",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[p.jsx("option",{value:"Basic",children:"Basic"}),p.jsx("option",{value:"Premium",children:"Premium"}),p.jsx("option",{value:"Enterprise",children:"Enterprise"})]})]}),p.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[p.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Billing Information"}),p.jsx("p",{className:"text-sm text-gray-500",children:"Billing details will be managed through the billing system."})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),p.jsx("button",{type:"button",onClick:w,disabled:m,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:m?"Saving...":"Save Changes"})]})]}),"modules"===o&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-blue-50 p-4 rounded-md",children:[p.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Module Management"}),p.jsx("p",{className:"text-sm text-blue-700",children:"Manage which modules are available to this school. These modules will appear in their sidebar."})]}),p.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[p.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Currently Assigned Modules"}),u.modules&&u.modules.length>0?p.jsx("div",{className:"flex flex-wrap gap-2",children:u.modules.map((e,t)=>p.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full font-medium",children:e},t))}):p.jsx("p",{className:"text-sm text-gray-500",children:"No modules assigned yet."})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx("button",{type:"button",onClick:()=>v(!0),className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Manage Modules"})}),b&&r&&p.jsx(pe,{school:r,onClose:()=>v(!1),onUpdate:(e,t)=>{N("modules",t),v(!1)}})]}),"features"===o&&p.jsx("div",{className:"space-y-4",children:p.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[p.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Feature Management"}),p.jsx("p",{className:"text-sm text-gray-500",children:"Feature toggles are managed globally through the Feature Toggles section."})]})}),"credentials"===o&&p.jsx(he,{school:r})]})}):null},ye=({isOpen:e,onClose:t,onConfirm:n,title:a,message:r,confirmButtonText:s="Confirm",confirmButtonClass:l="bg-danger hover:bg-red-700"})=>e?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md transform transition-all",children:[p.jsx("div",{className:"p-6",children:p.jsxs("div",{className:"flex items-start",children:[p.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:p.jsx("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),p.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[p.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:a}),p.jsx("div",{className:"mt-2",children:p.jsx("p",{className:"text-sm text-gray-500",children:r})})]})]})}),p.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse rounded-b-lg",children:[p.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white sm:ml-3 sm:w-auto sm:text-sm ${l}`,onClick:()=>{n(),t()},children:s}),p.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:w-auto sm:text-sm",onClick:t,children:"Cancel"})]})]})}):null,xe=({isOpen:t,onClose:n,schoolName:a,credentials:r})=>{const[s,l]=e.useState(null),i=(e,t)=>{navigator.clipboard.writeText(e).then(()=>{l(t),setTimeout(()=>l(null),2e3)})};return t?p.jsxs(ue,{isOpen:t,onClose:n,title:`Onboarding Complete for ${a}!`,children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:p.jsx("svg",{className:"h-6 w-6 text-green-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),p.jsx("h3",{className:"mt-4 text-lg leading-6 font-medium text-gray-900",children:"School Created Successfully!"}),p.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"The school is now active. Please securely share the following credentials with the new School Administrator."})]}),p.jsxs("div",{className:"mt-6 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Admin Username"}),p.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[p.jsx("input",{type:"text",readOnly:!0,value:r.username,className:"focus:ring-primary focus:border-primary flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300 bg-gray-50"}),p.jsx("button",{onClick:()=>i(r.username,"username"),className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-100 text-gray-600 hover:bg-gray-200 sm:text-sm",children:"username"===s?"Copied!":"Copy"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Temporary Password"}),p.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[p.jsx("input",{type:"text",readOnly:!0,value:r.password,className:"focus:ring-primary focus:border-primary flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300 bg-gray-50 font-mono"}),p.jsx("button",{onClick:()=>i(r.password,"password"),className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-100 text-gray-600 hover:bg-gray-200 sm:text-sm",children:"password"===s?"Copied!":"Copy"})]})]})]}),p.jsx("div",{className:"mt-8 text-center",children:p.jsx("button",{type:"button",onClick:n,className:"inline-flex justify-center rounded-md border border-transparent bg-primary px-6 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Done"})})]}):null},be={success:p.jsx("svg",{className:"h-6 w-6 text-green-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),error:p.jsx("svg",{className:"h-6 w-6 text-red-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),warning:p.jsx("svg",{className:"h-6 w-6 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),info:p.jsx("svg",{className:"h-6 w-6 text-blue-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},ve=({toast:t,onDismiss:n})=>{const[a,r]=e.useState(!1);e.useEffect(()=>{r(!0);const e=setTimeout(()=>{s()},t.duration||5e3);return()=>clearTimeout(e)},[t]);const s=()=>{r(!1),setTimeout(()=>n(t.id),300)};return p.jsx("div",{className:"max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden transform transition-all duration-300 ease-in-out "+(a?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:p.jsx("div",{className:"p-4",children:p.jsxs("div",{className:"flex items-start",children:[p.jsx("div",{className:"flex-shrink-0",children:be[t.type]}),p.jsx("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:p.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.message})}),p.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:p.jsxs("button",{onClick:s,className:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[p.jsx("span",{className:"sr-only",children:"Close"}),p.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:p.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})})})},we=({status:e})=>{const t={[J.Active]:"bg-green-100 text-green-800",[J.Inactive]:"bg-gray-100 text-gray-800",[J.Suspended]:"bg-red-100 text-red-800"};return p.jsx("span",{className:`px-2.5 py-0.5 text-xs font-medium rounded-full inline-block ${t[e]}`,children:e})},Ne=({plan:e})=>{const t={[K.Free]:"bg-gray-100 text-gray-800",[K.Basic]:"bg-blue-100 text-blue-800",[K.Premium]:"bg-indigo-100 text-indigo-800",[K.Enterprise]:"bg-purple-100 text-purple-800"};return p.jsx("span",{className:`px-2.5 py-0.5 text-xs font-medium rounded-full inline-block ${t[e]}`,children:e})},Se=({schools:t,onCreateSchool:n,onUpdateSchool:a,onDeleteSchool:r,onRefreshSchools:s})=>{const[l,i]=e.useState(!1),[o,c]=e.useState(null),[u,d]=e.useState(null),[m,f]=e.useState({isOpen:!1,schoolName:"",credentials:{username:"",password:""}}),[h,g]=e.useState(!1),[y,x]=e.useState([]),b=e=>{x(t=>t.filter(t=>t.id!==e))};return p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:y.map(e=>p.jsx(ve,{toast:e,onDismiss:b},e.id))}),p.jsx(fe,{isOpen:l,onClose:()=>i(!1),onCreate:async e=>{try{g(!0);const t=await n(e),a=t.adminCredentials,r=(null==a?void 0:a.username)||`admin@${t.subdomain}`,s=(null==a?void 0:a.password)||Math.random().toString(36).slice(-8);f({isOpen:!0,schoolName:t.name,credentials:{username:r,password:s}});const l={id:Date.now().toString(),type:"success",message:`School "${t.name}" created successfully!`,duration:5e3};x(e=>[...e,l]),i(!1)}catch(t){let e="Failed to create school. Please try again.";t instanceof Error&&(t.message.includes("duplicate key error")&&t.message.includes("email")?e="A school with this subdomain already exists. Please choose a different subdomain.":t.message.includes("subdomain")?e="This subdomain is already taken. Please choose a different one.":t.message.includes("validation")&&(e="Please check your input and try again."));const n={id:Date.now().toString(),type:"error",message:e,duration:5e3};x(e=>[...e,n])}finally{g(!1)}}}),o&&p.jsx(ge,{isOpen:!!o,school:o,onClose:()=>c(null),onSave:e=>{a(e),c(null);const t={id:Date.now().toString(),type:"success",message:`School "${e.name}" updated successfully!`,duration:3e3};x(e=>[...e,t])}}),u&&p.jsx(ye,{isOpen:!!u,onClose:()=>d(null),onConfirm:()=>{if(!u)return;r(u.id);const e={id:Date.now().toString(),type:"success",message:`School "${u.name}" deleted successfully!`,duration:3e3};x(t=>[...t,e]),d(null)},title:"Delete School",message:`Are you sure you want to permanently delete "${u.name}"? This action will remove all associated data and cannot be undone.`,confirmButtonText:"Delete"}),p.jsx(xe,{isOpen:m.isOpen,onClose:()=>f({...m,isOpen:!1}),schoolName:m.schoolName,credentials:m.credentials}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Schools Management"}),p.jsx("p",{className:"mt-1 text-gray-600",children:"View, manage, and onboard schools on the platform."})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[s&&p.jsxs("button",{onClick:()=>{s&&(g(!0),s(),setTimeout(()=>{const e={id:Date.now().toString(),type:"success",message:"Schools list refreshed successfully!",duration:3e3};x(t=>[...t,e]),g(!1)},1e3))},disabled:h,className:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[h?p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 mr-1"}):p.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),h?"Refreshing...":"Refresh"]}),p.jsx("button",{onClick:()=>{},className:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:"Debug"}),p.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700",children:[p.jsx(V,{className:"-ml-1 mr-2 h-5 w-5"}),"Register New School"]})]})]}),p.jsx(ie,{children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"School"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Storage"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subdomain"}),p.jsx("th",{scope:"col",className:"relative px-6 py-3",children:p.jsx("span",{className:"sr-only",children:"Actions"})})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h?p.jsx("tr",{children:p.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:p.jsxs("div",{className:"flex items-center justify-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),p.jsx("span",{className:"ml-2 text-gray-600",children:"Loading schools..."})]})})}):0===t.length?p.jsx("tr",{children:p.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No schools found. Create your first school to get started."})}):t.map((e,t)=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:p.jsx("img",{className:"h-10 w-10 rounded-full",src:e.logoUrl,alt:`${e.name} logo`})}),p.jsxs("div",{className:"ml-4",children:[p.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),p.jsx("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx(we,{status:e.status})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx(Ne,{plan:e.plan})}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.storageUsage," GB"]}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.subdomain}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-4",children:[p.jsx("button",{onClick:()=>{c(e)},className:"text-primary hover:text-indigo-900",children:"Manage"}),p.jsx("button",{onClick:()=>d(e),className:"text-danger hover:text-red-700",children:"Delete"})]})]},e.id||`school-${t}`))})]})})})]})},je=({isOpen:n,onClose:a,onSave:r,planToEdit:s})=>{const[l,i]=e.useState({price:0,durationDays:30,features:[]}),[o,c]=e.useState(K.Basic),[u,d]=e.useState("");t.useEffect(()=>{s?(c(s.name),i({price:s.price,durationDays:s.durationDays,features:s.features}),d(s.features.join("\n"))):(c(K.Basic),i({price:15e3,durationDays:30,features:[]}),d(""))},[s,n]);return p.jsx(ue,{isOpen:n,onClose:a,title:s?`Edit ${s.name} Plan`:"Create New Plan",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Plan Name"}),p.jsx("select",{value:o,onChange:e=>c(e.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",children:Object.values(K).map(e=>p.jsx("option",{value:e,children:e},e))})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price (KSh/mo)"}),p.jsx("input",{type:"number",value:l.price,onChange:e=>i({...l,price:Number(e.target.value)}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Duration (days)"}),p.jsx("input",{type:"number",value:l.durationDays,onChange:e=>i({...l,durationDays:Number(e.target.value)}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Features (one per line)"}),p.jsx("textarea",{value:u,onChange:e=>d(e.target.value),rows:5,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm font-mono text-sm"})]}),p.jsxs("div",{className:"pt-4 flex justify-end space-x-3",children:[p.jsx("button",{type:"button",onClick:a,className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm",children:"Cancel"}),p.jsx("button",{type:"button",onClick:()=>{const e={...s,id:s?s.id:`plan_${Date.now()}`,color:s?s.color:"gray",name:o,price:l.price,durationDays:l.durationDays,features:u.split("\n").filter(e=>""!==e.trim())};r(e),a()},className:"bg-primary text-white py-2 px-4 rounded-md shadow-sm",children:"Save Plan"})]})]})})},ke=({status:e})=>{const t={[se.Paid]:"bg-green-100 text-green-800",[se.Due]:"bg-blue-100 text-blue-800",[se.Overdue]:"bg-red-100 text-red-800"};return p.jsx("span",{className:`px-2.5 py-0.5 text-xs font-medium rounded-full inline-block ${t[e]}`,children:e})},Ee=({label:e,isActive:t,onClick:n})=>p.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium rounded-md "+(t?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700"),children:e}),Ce=({invoices:t,schools:n,onUpdateSchool:a})=>{const{state:r}=T(),[s,l]=e.useState("plans"),[i,o]=e.useState(me),[c,u]=e.useState(!1),[d,m]=e.useState(null),[f,h]=e.useState(null),g=e=>{m(e),u(!0)};return p.jsxs("div",{className:"space-y-6",children:[p.jsx(je,{isOpen:c,onClose:()=>u(!1),onSave:e=>{o(t=>({...t,[e.name]:e}))},planToEdit:d}),f&&p.jsx(ye,{isOpen:!!f,onClose:()=>h(null),onConfirm:()=>{if(!f)return;const e=n.find(e=>e.id===f.schoolId);e&&a({...e,status:J.Suspended}),h(null)},title:"Suspend School Account",message:`Are you sure you want to suspend the account for "${f.schoolName}" due to an overdue invoice?`,confirmButtonText:"Suspend",confirmButtonClass:"bg-danger hover:bg-red-700"}),p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Billing & Plans"}),p.jsx("p",{className:"mt-1 text-gray-600",children:"Manage subscription plans and track invoices."})]}),p.jsxs("button",{onClick:()=>g(null),className:"inline-flex items-center justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700",children:[p.jsx(V,{className:"-ml-1 mr-2 h-5 w-5"}),"Create New Plan"]})]}),p.jsxs("div",{className:"flex space-x-2 border-b border-gray-200 pb-2",children:[p.jsx(Ee,{label:"Manage Plans",isActive:"plans"===s,onClick:()=>l("plans")}),p.jsx(Ee,{label:"Recent Invoices",isActive:"invoices"===s,onClick:()=>l("invoices")})]}),"plans"===s&&p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:Object.values(i).map(e=>p.jsxs(ie,{className:`flex flex-col border-t-4 border-${e.color}-500`,children:[p.jsxs("div",{className:"p-6 flex-grow",children:[p.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:e.name}),p.jsxs("p",{className:"mt-2 text-gray-500",children:[p.jsxs("span",{className:"text-4xl font-extrabold text-gray-900",children:["KSh ",e.price.toLocaleString()]}),p.jsxs("span",{className:"text-base font-medium text-gray-500",children:["/",30===e.durationDays?"mo":"yr"]})]}),p.jsx("ul",{className:"mt-6 space-y-4",children:e.features.map(e=>p.jsxs("li",{className:"flex items-start",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("svg",{className:"h-6 w-6 text-green-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),p.jsx("p",{className:"ml-3 text-sm text-gray-700",children:e})]},e))})]}),p.jsx("div",{className:"p-6 bg-gray-50 rounded-b-xl",children:p.jsx("button",{onClick:()=>g(e),className:`w-full bg-${e.color}-600 text-white py-2 px-4 rounded-md shadow-sm hover:bg-${e.color}-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-${e.color}-500`,children:"Edit Plan"})})]},e.name))}),"invoices"===s&&p.jsx(ie,{children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice ID"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"School"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),p.jsx("th",{scope:"col",className:"relative px-6 py-3",children:p.jsx("span",{className:"sr-only",children:"Actions"})})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-500",children:e.id}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.schoolName}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["KSh ",e.amount.toLocaleString()]}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.dueDate}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx(ke,{status:e.status})}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-4",children:[p.jsx("button",{onClick:()=>{},className:"text-primary hover:text-indigo-900",children:"Edit"}),p.jsx("button",{onClick:()=>{e.id},className:"text-danger hover:text-red-700",children:"Delete"}),e.status===se.Overdue&&p.jsx("button",{onClick:()=>h(e),className:"text-orange-600 hover:text-orange-700",children:"Suspend Account"})]})]},e.id))})]})})})]})},Te=({ticket:t,onClose:n,onUpdate:a})=>{const[r,l]=e.useState(""),[i,o]=e.useState(t),[c,u]=e.useState(!1),d=e.useRef(null),m=e.useRef(null);e.useEffect(()=>{o(t)},[t]),e.useEffect(()=>{var e;null==(e=d.current)||e.scrollIntoView({behavior:"smooth"})},[i.conversation]),e.useEffect(()=>{try{const e=new s({apiKey:"AIzaSyDSDsnq_6azVV3GOq2QvW-OFD-oke4KpWY"}),t="You are a support agent for Jafasol, a school management software platform. Your persona is helpful, professional, and slightly formal. When asked to draft a reply to a support ticket, analyze the conversation and provide a clear, empathetic, and actionable response. Address the user by their school name if possible.";m.current=e.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:t}})}catch(e){}},[]);return p.jsx(ue,{isOpen:!0,onClose:n,title:`Ticket: ${t.subject}`,children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"md:col-span-2 space-y-4",children:[p.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[p.jsxs("h4",{className:"font-semibold text-gray-800",children:["Initial Request from ",t.schoolName]}),p.jsx("p",{className:"mt-2 text-sm text-gray-600",children:t.description})]}),p.jsxs("div",{className:"space-y-4 max-h-80 overflow-y-auto p-4 border rounded-lg",children:[i.conversation.map(e=>p.jsxs("div",{className:"flex items-start gap-3 "+("Super Admin"===e.sender?"justify-end":""),children:["School Admin"===e.sender&&p.jsx("img",{src:e.senderAvatar,alt:"School Admin",className:"w-8 h-8 rounded-full"}),p.jsxs("div",{className:"max-w-md p-3 rounded-lg "+("Super Admin"===e.sender?"bg-primary text-white":"bg-gray-200 text-gray-800"),children:[p.jsx("p",{className:"text-sm",children:e.text}),p.jsx("p",{className:"text-xs mt-1 "+("Super Admin"===e.sender?"text-indigo-200":"text-gray-500"),children:e.timestamp})]}),"Super Admin"===e.sender&&p.jsx("img",{src:e.senderAvatar,alt:"Super Admin",className:"w-8 h-8 rounded-full"})]},e.id)),p.jsx("div",{ref:d})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"reply",className:"text-sm font-medium text-gray-700",children:"Your Reply"}),p.jsx("textarea",{id:"reply",rows:4,value:r,onChange:e=>l(e.target.value),className:"w-full border-gray-300 rounded-md shadow-sm",placeholder:"Type your response or generate one with AI...",disabled:c}),p.jsxs("div",{className:"flex justify-end items-center space-x-3",children:[p.jsxs("button",{onClick:async()=>{if(!m.current)return void alert("AI Assistant is not available. Please check the API key configuration.");u(!0),l("Generating response...");const e=i.conversation.map(e=>`${e.sender}: ${e.text}`).join("\n"),t=`Here is a support ticket for my review.\n        School: ${i.schoolName}\n        Subject: ${i.subject}\n        Initial Request: ${i.description}\n        \n        Conversation History:\n        ${e}\n        \n        Draft a helpful reply from the Super Admin to the School Admin.`;try{const e=await m.current.sendMessage({message:t});l(e.text)}catch(n){const e=n instanceof Error?n.message:"An unknown error occurred.";l(`Sorry, I could not generate a reply. Error: ${e}`)}finally{u(!1)}},disabled:c||!m.current,className:"inline-flex items-center text-sm font-medium text-primary hover:text-indigo-800 disabled:opacity-50 disabled:cursor-not-allowed",children:[p.jsx(R,{className:"w-5 h-5 mr-1 "+(c?"animate-spin":"")}),c?"Generating...":"Generate with AI"]}),p.jsx("button",{onClick:()=>{if(!r.trim())return;const e={id:`msg_${Date.now()}`,sender:"Super Admin",senderAvatar:"https://picsum.photos/seed/admin/40/40",text:r,timestamp:"Just now"},t={...i,conversation:[...i.conversation,e],lastUpdated:"Just now",status:i.status===X.Closed?X.Closed:X.InProgress};o(t),a(t),l("")},className:"bg-primary text-white py-2 px-4 rounded-md shadow-sm text-sm font-medium hover:bg-indigo-700",children:"Send Reply"})]})]})]}),p.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg border h-fit",children:[p.jsx("h4",{className:"font-semibold text-gray-800",children:"Ticket Details"}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),p.jsx("select",{id:"status",value:i.status,onChange:e=>{const t=e.target.value,n={...i,status:t};o(n),a(n)},className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",children:Object.values(X).map(e=>p.jsx("option",{value:e,children:e},e))})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:"Priority"}),p.jsx("select",{id:"priority",value:i.priority,onChange:e=>{const t=e.target.value,n={...i,priority:t};o(n),a(n)},className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",children:Object.values(Z).map(e=>p.jsx("option",{value:e,children:e},e))})]}),p.jsxs("div",{className:"text-sm",children:[p.jsxs("p",{className:"text-gray-500",children:["School: ",p.jsx("span",{className:"font-medium text-gray-800",children:i.schoolName})]}),p.jsxs("p",{className:"text-gray-500",children:["Last Update: ",p.jsx("span",{className:"font-medium text-gray-800",children:i.lastUpdated})]})]}),p.jsx("div",{className:"pt-4 flex justify-end",children:p.jsx("button",{type:"button",onClick:n,className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Close"})})]})]})})},Ae=({status:e})=>{const t={[X.Open]:"bg-blue-100 text-blue-800",[X.InProgress]:"bg-yellow-100 text-yellow-800",[X.Closed]:"bg-gray-100 text-gray-800"};return p.jsx("span",{className:`px-2.5 py-0.5 text-xs font-medium rounded-full inline-block ${t[e]}`,children:e})},Le=({priority:e})=>{const t={[Z.Low]:"bg-green-100 text-green-800",[Z.Medium]:"bg-yellow-100 text-yellow-800",[Z.High]:"bg-red-100 text-red-800"};return p.jsx("span",{className:`px-2.5 py-0.5 text-xs font-medium rounded-full inline-block ${t[e]}`,children:e})},Oe=({tickets:t,onUpdateTicket:n})=>{const[a,r]=e.useState(null);return p.jsxs("div",{className:"space-y-6",children:[a&&p.jsx(Te,{ticket:a,onClose:()=>{r(null)},onUpdate:e=>{n(e),r(e)}}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Support Center"}),p.jsx("p",{className:"mt-1 text-gray-600",children:"Respond to school inquiries and track ticket status."})]}),p.jsx(ie,{children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"School"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),p.jsx("th",{scope:"col",className:"relative px-6 py-3",children:p.jsx("span",{className:"sr-only",children:"View"})})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.schoolName}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.subject}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx(Ae,{status:e.status})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx(Le,{priority:e.priority})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.lastUpdated}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:p.jsx("button",{onClick:()=>(e=>{r(e)})(e),className:"text-primary hover:text-indigo-900",children:"View"})})]},e.id))})]})})})]})},_e=({onLogin:t,isLoading:n=!1})=>{const[a,r]=e.useState(""),[s,l]=e.useState(""),[i,o]=e.useState(0),[c,u]=e.useState(!1),[d,m]=e.useState(0),[f,h]=e.useState(0);e.useEffect(()=>{const e=localStorage.getItem("adminLoginAttempts"),t=localStorage.getItem("adminLockoutTime");if(e&&o(parseInt(e)),t){const e=parseInt(t),n=Date.now();n<e?(u(!0),m(e),h(Math.ceil((e-n)/1e3))):(localStorage.removeItem("adminLoginAttempts"),localStorage.removeItem("adminLockoutTime"),o(0),u(!1))}},[]),e.useEffect(()=>{let e;return c&&f>0&&(e=setInterval(()=>{h(e=>e<=1?(u(!1),o(0),localStorage.removeItem("adminLoginAttempts"),localStorage.removeItem("adminLockoutTime"),0):e-1)},1e3)),()=>{e&&clearInterval(e)}},[c,f]);return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[p.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),p.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),p.jsx("div",{className:"absolute top-40 left-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),p.jsxs("div",{className:"relative z-10 sm:mx-auto sm:w-full sm:max-w-md",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsxs("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-indigo-600 to-blue-600 rounded-2xl flex items-center justify-center shadow-2xl mb-6 overflow-hidden",children:[p.jsx("img",{src:"/admin/logo.png",alt:"Jafasol Logo",className:"w-12 h-12 object-contain",onError:e=>{var t;const n=e.target;n.style.display="none",null==(t=n.nextElementSibling)||t.setAttribute("style","display: block")}}),p.jsx("svg",{className:"w-12 h-12 text-white hidden",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),p.jsx("h1",{className:"text-5xl font-black text-white mb-2 tracking-tight",children:"JAFASOL"}),p.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-white/10 backdrop-blur-sm rounded-full border border-white/20",children:[p.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),p.jsx("span",{className:"text-white/90 text-sm font-medium",children:"ADMIN PORTAL"})]}),p.jsx("p",{className:"mt-4 text-white/70 text-sm max-w-sm mx-auto",children:"Secure access to administrative functions"})]}),p.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl p-8",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Sign In"}),p.jsx("p",{className:"text-white/70 text-sm",children:"Enter your credentials to continue"})]}),c?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Account Temporarily Locked"}),p.jsx("p",{className:"text-white/70 text-sm mb-4",children:"Too many failed login attempts. Please wait before trying again."}),p.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-xl p-4",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:(g=f,`${Math.floor(g/60)}:${(g%60).toString().padStart(2,"0")}`)}),p.jsx("p",{className:"text-white/70 text-sm",children:"Time remaining"})]})})]}):p.jsxs(p.Fragment,{children:[p.jsxs("form",{className:"space-y-6",onSubmit:e=>{if(e.preventDefault(),c)return;const n=i+1;if(o(n),localStorage.setItem("adminLoginAttempts",n.toString()),n>=3){const e=Date.now()+12e5;m(e),u(!0),h(1200),localStorage.setItem("adminLockoutTime",e.toString())}else t(a,s)},children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-white/90 mb-2",children:"Email Address"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx("svg",{className:"h-5 w-5 text-white/50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),p.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,disabled:n,value:a,onChange:e=>r(e.target.value),className:"block w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent backdrop-blur-sm transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter your email"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-white/90 mb-2",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx("svg",{className:"h-5 w-5 text-white/50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),p.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,disabled:n,value:s,onChange:e=>l(e.target.value),className:"block w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent backdrop-blur-sm transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter your password"})]})]}),i>0&&p.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-xl p-3",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("svg",{className:"w-5 h-5 text-yellow-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),p.jsxs("span",{className:"text-yellow-200 text-sm",children:[3-i," attempts remaining"]})]})}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",disabled:n,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-white/30 rounded bg-white/10 disabled:cursor-not-allowed"}),p.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-white/80",children:"Remember me"})]}),p.jsx("div",{className:"text-sm",children:p.jsx("a",{href:"#",className:"font-medium text-indigo-300 hover:text-indigo-200 transition-colors",children:"Forgot password?"})})]}),p.jsx("div",{children:p.jsx("button",{type:"submit",disabled:n,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-lg text-sm font-semibold text-white bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105",children:n?p.jsxs("div",{className:"flex items-center",children:[p.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Accessing Portal..."]}):p.jsxs("div",{className:"flex items-center",children:[p.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Access Portal"]})})})]}),p.jsx("div",{className:"mt-6 p-4 bg-white/5 rounded-xl border border-white/10",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("svg",{className:"w-5 h-5 text-yellow-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),p.jsx("span",{className:"text-white/70 text-xs",children:"Secure connection • Authorized access only"})]})})]})]})]}),p.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-center",children:p.jsx("p",{className:"text-white/50 text-xs",children:"© 2025 Jafasol. All rights reserved."})})]});var g},Pe=()=>{const{state:t}=T(),[n,a]=e.useState({totalSchools:0,activeSchools:0,totalRevenue:0,monthlySignups:[],planDistribution:[],moduleUsage:[]}),[r,s]=e.useState(!0);return e.useEffect(()=>{(async()=>{try{const e=t.dashboardStats,n=t.schools||[],r={totalSchools:(null==e?void 0:e.totalSchools)||n.length,activeSchools:(null==e?void 0:e.activeSubscriptions)||n.filter(e=>"Active"===e.status).length,totalRevenue:(null==e?void 0:e.monthlyRevenue)||0,monthlySignups:[],planDistribution:[],moduleUsage:[]};a(r)}catch(e){}finally{s(!1)}})()},[t.dashboardStats,t.schools]),r?p.jsxs("div",{className:"space-y-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Global Analytics"}),p.jsxs("div",{className:"text-center py-8",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"}),p.jsx("p",{className:"mt-2 text-gray-500",children:"Loading analytics..."})]})]}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Global Analytics"}),p.jsx("p",{className:"text-sm text-gray-500",children:"Platform-wide performance metrics"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsx(oe,{title:"Total Schools",value:n.totalSchools.toString(),icon:p.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),colorClass:"bg-blue-500"}),p.jsx(oe,{title:"Active vs Inactive",value:`${n.activeSchools} / ${n.totalSchools-n.activeSchools}`,icon:p.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),colorClass:"bg-green-500"}),p.jsx(oe,{title:"Total Monthly Revenue",value:`$${n.totalRevenue}/mo`,icon:p.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),colorClass:"bg-yellow-500"}),p.jsx(oe,{title:"Avg. Revenue Per School",value:`$${n.activeSchools>0?(n.totalRevenue/n.activeSchools).toFixed(2):"0"}`,icon:p.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),colorClass:"bg-purple-500"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsx(ie,{children:p.jsxs("div",{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Signups"}),p.jsx("div",{className:"text-center text-gray-500 py-8",children:p.jsx("p",{children:"Chart data will be available when analytics API is implemented"})})]})}),p.jsx(ie,{children:p.jsxs("div",{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Plan Distribution"}),p.jsx("div",{className:"text-center text-gray-500 py-8",children:p.jsx("p",{children:"Chart data will be available when analytics API is implemented"})})]})})]}),p.jsx(ie,{children:p.jsxs("div",{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Module Usage"}),p.jsx("div",{className:"text-center text-gray-500 py-8",children:p.jsx("p",{children:"Module usage data will be available when analytics API is implemented"})})]})})]})},De=({isOpen:t,onClose:n})=>{const{state:a}=T(),[r,s]=e.useState(""),[l,i]=e.useState("full"),[o,c]=e.useState(!0),[u,d]=e.useState(!1);return p.jsx(ue,{isOpen:t,onClose:n,title:"Create Backup",children:p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),r){d(!0);try{await new Promise(e=>setTimeout(e,2e3)),n()}catch(t){}finally{d(!1)}}},className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select School"}),p.jsxs("select",{value:r,onChange:e=>s(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:!0,children:[p.jsx("option",{value:"",children:"Choose a school"}),a.schools.map(e=>p.jsx("option",{value:e.id,children:e.name},e.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Backup Type"}),p.jsxs("select",{value:l,onChange:e=>i(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[p.jsx("option",{value:"full",children:"Full Backup"}),p.jsx("option",{value:"incremental",children:"Incremental Backup"})]})]}),p.jsx("div",{children:p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",checked:o,onChange:e=>c(e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),p.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Include system settings"})]})}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),p.jsx("button",{type:"submit",disabled:u||!r,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:u?"Creating Backup...":"Create Backup"})]})]})})},Re=({status:e})=>{const t={[ee.Completed]:"bg-green-100 text-green-800",[ee.InProgress]:"bg-blue-100 text-blue-800",[ee.Failed]:"bg-red-100 text-red-800"};return p.jsx("span",{className:`px-2.5 py-0.5 text-xs font-medium rounded-full inline-block ${t[e]}`,children:e})},Ie=({type:e})=>{const t={[te.Automatic]:"bg-gray-100 text-gray-700",[te.Manual]:"bg-indigo-100 text-indigo-700"};return p.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full inline-block ${t[e]}`,children:e})},ze=({backups:t,onCreateBackup:n})=>{const[a,r]=e.useState(!1),[s,l]=e.useState(null);return p.jsxs("div",{className:"space-y-6",children:[p.jsx(De,{isOpen:a,onClose:()=>r(!1),onCreate:e=>{n(e),r(!1)}}),s&&p.jsx(ye,{isOpen:!!s,onClose:()=>l(null),onConfirm:()=>{s&&l(null)},title:"Confirm Restore from Backup",message:`Are you sure you want to restore the data for "${s.schoolName}" from the backup created on ${s.createdAt}? This will overwrite all current data for the school and cannot be undone.`,confirmButtonText:"Yes, Restore Now"}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Backup & Restore"}),p.jsx("p",{className:"mt-1 text-gray-600",children:"Manage manual and automatic backups for all schools."})]}),p.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700",children:[p.jsx(V,{className:"-ml-1 mr-2 h-5 w-5"}),"Create New Backup"]})]}),p.jsx(ie,{children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"School Name"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),p.jsx("th",{scope:"col",className:"relative px-6 py-3",children:p.jsx("span",{className:"sr-only",children:"Actions"})})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.schoolName}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.createdAt}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx(Ie,{type:e.type})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx(Re,{status:e.status})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.size}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-4",children:[p.jsx("button",{onClick:()=>l(e),className:"text-primary hover:text-indigo-900",disabled:e.status!==ee.Completed,children:"Restore"}),p.jsx("button",{className:"text-primary hover:text-indigo-900",disabled:e.status!==ee.Completed,children:"Download"})]})]},e.id))})]})})})]})},Me=()=>{const{state:t,fetchFeatureToggles:n,toggleFeature:a}=T(),[r,s]=e.useState([]),[l,i]=e.useState(!1);e.useEffect(()=>{(async()=>{i(!0);try{await n(),s(t.featureToggles||[])}catch(e){}finally{i(!1)}})()},[n]);return l?p.jsxs("div",{className:"space-y-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Feature Toggles"}),p.jsxs("div",{className:"text-center py-8",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"}),p.jsx("p",{className:"mt-2 text-gray-500",children:"Loading feature toggles..."})]})]}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Feature Toggles"}),p.jsx("p",{className:"text-sm text-gray-500",children:"Manage feature flags and A/B testing"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map(e=>p.jsx(ie,{children:p.jsx("div",{className:"p-6",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),p.jsx("p",{className:"mt-1 text-sm text-gray-500",children:e.description}),p.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[p.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e.category}),p.jsx("span",{className:"text-xs text-gray-400",children:e.createdAt})]})]}),p.jsx("div",{className:"ml-4",children:p.jsx("button",{onClick:()=>(async e=>{try{await a(e),s(t=>t.map(t=>t.id===e?{...t,enabled:!t.enabled}:t))}catch(t){}})(e.id),className:"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 "+(e.enabled?"bg-indigo-600":"bg-gray-200"),children:p.jsx("span",{className:"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out "+(e.enabled?"translate-x-5":"translate-x-0")})})})]})})},e.id)):p.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:"No feature toggles available"})})]})},Fe=({isOpen:t,onClose:n})=>{const{state:a,createAnnouncement:r}=T(),[s,l]=e.useState(""),[i,o]=e.useState(""),[c,u]=e.useState("all"),[d,m]=e.useState(!1);return p.jsx(ue,{isOpen:t,onClose:n,title:"Create Announcement",children:p.jsxs("form",{onSubmit:async e=>{e.preventDefault(),m(!0);try{const e=a.schools.find(e=>e.id===c);await r({title:s,message:i,targetSchool:(null==e?void 0:e.name)||"All Schools",targetSchoolId:"all"===c?null:c,priority:"normal"}),n(),l(""),o(""),u("all")}catch(t){}finally{m(!1)}},className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),p.jsx("input",{type:"text",value:s,onChange:e=>l(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),p.jsx("textarea",{value:i,onChange:e=>o(e.target.value),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Target"}),p.jsxs("select",{value:c,onChange:e=>u(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[p.jsx("option",{value:"all",children:"All Schools"}),a.schools.map(e=>p.jsx("option",{value:e.id,children:e.name},e.id))]})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),p.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:d?"Creating...":"Create Announcement"})]})]})})},Ue=()=>{const{state:t,fetchNotifications:n,fetchAnnouncements:a,createNotification:r}=T(),[s,l]=e.useState(!1),[i,o]=e.useState("notifications");e.useEffect(()=>{n(),a()},[n,a]);const c=t.notifications||[],u=t.announcements||[];return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notifications Center"}),p.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Create Announcement"})]}),p.jsx("div",{className:"border-b border-gray-200",children:p.jsxs("nav",{className:"-mb-px flex space-x-8",children:[p.jsxs("button",{onClick:()=>o("notifications"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("notifications"===i?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["System Notifications (",c.length,")"]}),p.jsxs("button",{onClick:()=>o("announcements"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("announcements"===i?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Announcements (",u.length,")"]})]})}),"notifications"===i&&p.jsx("div",{className:"space-y-4",children:c.length>0?c.map(e=>p.jsx(ie,{children:p.jsx("div",{className:"p-4",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.title}),p.jsx("p",{className:"mt-1 text-sm text-gray-500",children:e.message}),p.jsx("p",{className:"mt-2 text-xs text-gray-400",children:e.createdAt})]}),p.jsx("div",{className:"ml-4",children:p.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("high"===e.priority?"bg-red-100 text-red-800":"medium"===e.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.priority})})]})})},e.id)):p.jsx("div",{className:"text-center py-8 text-gray-500",children:"No notifications available"})}),"announcements"===i&&p.jsx("div",{className:"space-y-4",children:u.length>0?u.map(e=>p.jsx(ie,{children:p.jsx("div",{className:"p-4",children:p.jsx("div",{className:"flex items-start justify-between",children:p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.title}),p.jsx("p",{className:"mt-1 text-sm text-gray-500",children:e.message}),p.jsxs("p",{className:"mt-2 text-xs text-gray-400",children:["Sent to: ",e.targetSchool||"All Schools"," • ",e.sentAt]})]})})})},e.id)):p.jsx("div",{className:"text-center py-8 text-gray-500",children:"No announcements available"})}),p.jsx(Fe,{isOpen:s,onClose:()=>l(!1)})]})},Be=({status:e})=>p.jsx("span",{className:`px-2.5 py-0.5 text-xs font-medium rounded-full inline-block ${{active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",expired:"bg-red-100 text-red-800",error:"bg-red-100 text-red-800"}[e]}`,children:e}),$e=({status:e})=>p.jsx("span",{className:`px-2.5 py-0.5 text-xs font-medium rounded-full inline-block ${{online:"bg-green-100 text-green-800",offline:"bg-red-100 text-red-800",provisioning:"bg-blue-100 text-blue-800",maintenance:"bg-yellow-100 text-yellow-800"}[e]}`,children:e}),Ge=()=>{const{state:t,fetchSubdomains:n,createSubdomain:a,updateSubdomain:r,deleteSubdomain:s,checkSubdomainHealth:l,provisionSubdomain:i,getSubdomainAnalytics:o,bulkProvisionSubdomains:c,getSubdomainTemplates:u,applySubdomainTemplate:d}=T(),{subdomains:m,isLoading:f}=t,[h,g]=e.useState(!1),[y,x]=e.useState(null),[b,v]=e.useState(null),[w,N]=e.useState([]),[S,j]=e.useState([]),[k,E]=e.useState(null),[C,A]=e.useState("overview"),[L,O]=e.useState({schoolId:"",schoolName:"",subdomain:""});e.useEffect(()=>{n(),_()},[n]);const _=async()=>{try{const e=await u();j(e.templates||[])}catch(e){}};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Subdomain Management"}),p.jsx("p",{className:"mt-1 text-gray-600",children:"Manage custom subdomains for each school"})]}),p.jsxs("div",{className:"flex space-x-3",children:[w.length>0&&p.jsxs("button",{onClick:async()=>{if(0!==w.length)try{await c(w),N([])}catch(e){}},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:["Provision Selected (",w.length,")"]}),p.jsxs("button",{onClick:()=>g(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-indigo-700",children:[p.jsx(V,{className:"-ml-1 mr-2 h-5 w-5"}),"Add Subdomain"]})]})]}),p.jsx("div",{className:"border-b border-gray-200",children:p.jsxs("nav",{className:"-mb-px flex space-x-8",children:[p.jsx("button",{onClick:()=>A("overview"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("overview"===C?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Overview"}),p.jsx("button",{onClick:()=>A("analytics"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("analytics"===C?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Analytics"}),p.jsx("button",{onClick:()=>A("templates"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("templates"===C?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Templates"}),p.jsx("button",{onClick:()=>A("dns"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("dns"===C?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"DNS Management"})]})}),"overview"===C&&p.jsx(ie,{children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:p.jsx("input",{type:"checkbox",checked:w.length===m.length&&m.length>0,onChange:()=>{w.length===m.length?N([]):N(m.map(e=>e.id))},className:"rounded border-gray-300 text-primary focus:ring-primary"})}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"School"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subdomain"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SSL Status"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Server Status"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),p.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(e=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("input",{type:"checkbox",checked:w.includes(e.id),onChange:()=>{return t=e.id,void N(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"rounded border-gray-300 text-primary focus:ring-primary"})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.schoolName})}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[p.jsx("div",{className:"text-sm text-gray-900",children:e.fullDomain}),p.jsx("div",{className:"text-sm text-gray-500",children:e.url})]}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx(Be,{status:e.sslStatus})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx($e,{status:e.serverStatus})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[p.jsx("button",{onClick:()=>(async e=>{try{await l(e)}catch(t){}})(e.id),className:"text-blue-600 hover:text-blue-900",children:"Health Check"}),p.jsx("button",{onClick:()=>(async e=>{try{await i(e)}catch(t){}})(e.id),className:"text-green-600 hover:text-green-900",children:"Provision"}),p.jsx("button",{onClick:()=>(async e=>{try{const t=await o(e);E(t)}catch(t){}})(e.id),className:"text-purple-600 hover:text-purple-900",children:"Analytics"}),p.jsx("button",{onClick:()=>x(e),className:"text-primary hover:text-indigo-900",children:"Edit"}),p.jsx("button",{onClick:()=>v(e),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})}),"analytics"===C&&k&&p.jsx(ie,{children:p.jsxs("div",{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Subdomain Analytics"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[p.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[k.uptime,"%"]}),p.jsx("div",{className:"text-sm text-blue-600",children:"Uptime"})]}),p.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[p.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[k.responseTime,"ms"]}),p.jsx("div",{className:"text-sm text-green-600",children:"Response Time"})]}),p.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[p.jsx("div",{className:"text-2xl font-bold text-purple-600",children:k.monthlyVisits}),p.jsx("div",{className:"text-sm text-purple-600",children:"Monthly Visits"})]})]})]})}),"templates"===C&&p.jsx(ie,{children:p.jsxs("div",{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Subdomain Templates"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:S.map(e=>p.jsxs("div",{className:"border rounded-lg p-4",children:[p.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),p.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.description}),p.jsxs("div",{className:"mt-2",children:[p.jsxs("span",{className:"text-lg font-bold text-primary",children:["$",e.price]}),p.jsx("span",{className:"text-sm text-gray-500",children:"/month"})]}),p.jsx("ul",{className:"mt-3 space-y-1",children:e.features.map((e,t)=>p.jsxs("li",{className:"text-sm text-gray-600",children:["• ",e]},t))})]},e.id))})]})}),"dns"===C&&p.jsx(ie,{children:p.jsxs("div",{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"DNS Management"}),p.jsx("p",{className:"text-gray-600",children:"Configure DNS records for your subdomains"})]})}),p.jsxs(ue,{isOpen:h,onClose:()=>g(!1),title:"Create New Subdomain",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"School ID"}),p.jsx("input",{type:"text",value:L.schoolId,onChange:e=>O({...L,schoolId:e.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"School Name"}),p.jsx("input",{type:"text",value:L.schoolName,onChange:e=>O({...L,schoolName:e.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subdomain"}),p.jsx("input",{type:"text",value:L.subdomain,onChange:e=>O({...L,subdomain:e.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary",placeholder:"schoolname"}),p.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Will be available at: ",L.subdomain,".jafasol.com"]})]})]}),p.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[p.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),p.jsx("button",{onClick:async()=>{try{await a(L),g(!1),O({schoolId:"",schoolName:"",subdomain:""})}catch(e){}},className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-primary hover:bg-indigo-700",children:"Create Subdomain"})]})]}),b&&p.jsx(ye,{isOpen:!!b,onClose:()=>v(null),onConfirm:async()=>{if(b)try{await s(b.id),v(null)}catch(e){}},title:"Delete Subdomain",message:`Are you sure you want to delete the subdomain "${b.fullDomain}"? This action cannot be undone.`,confirmButtonText:"Delete",confirmButtonClass:"bg-red-600 hover:bg-red-700"})]})},qe=({isOpen:t,onClose:n,userToEdit:a})=>{const{state:r,createUser:s,updateUser:l}=T(),[i,o]=e.useState(""),[c,u]=e.useState(""),[d,m]=e.useState(ae.SchoolAdmin),[f,h]=e.useState(""),[g,y]=e.useState(!1);e.useEffect(()=>{a?(o(a.name||""),u(a.email||""),m(a.role||ae.SchoolAdmin),h(a.schoolId||"")):(o(""),u(""),m(ae.SchoolAdmin),h(""))},[a]);return p.jsx(ue,{isOpen:t,onClose:n,title:a?"Edit User":"Add New User",children:p.jsxs("form",{onSubmit:async e=>{var t,o;e.preventDefault(),y(!0);try{const e=a?{name:i,email:c,role:d,schoolId:f,schoolName:null==(t=r.schools.find(e=>e.id===f))?void 0:t.name}:{name:i,email:c,role:d,schoolId:f,schoolName:null==(o=r.schools.find(e=>e.id===f))?void 0:o.name};a?await l(a.id,e):await s(e),n()}catch(u){}finally{y(!1)}},className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),p.jsx("input",{type:"text",value:i,onChange:e=>o(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),p.jsx("input",{type:"email",value:c,onChange:e=>u(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),p.jsxs("select",{value:d,onChange:e=>m(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[p.jsx("option",{value:ae.SchoolAdmin,children:"School Admin"}),p.jsx("option",{value:ae.SuperAdmin,children:"Super Admin"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"School"}),p.jsxs("select",{value:f,onChange:e=>h(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[p.jsx("option",{value:"",children:"Select a school"}),r.schools.map(e=>p.jsx("option",{value:e.id,children:e.name},e.id))]})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),p.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:g?"Saving...":a?"Update User":"Add User"})]})]})})},He=({status:e})=>{const t={[re.Active]:"bg-green-100 text-green-800",[re.Suspended]:"bg-red-100 text-red-800"};return p.jsx("span",{className:`px-2.5 py-0.5 text-xs font-medium rounded-full inline-block ${t[e]}`,children:e})},Ve=({role:e})=>{const t={[ae.SuperAdmin]:"bg-purple-100 text-purple-800",[ae.SchoolAdmin]:"bg-blue-100 text-blue-800"};return p.jsx("span",{className:`px-2.5 py-0.5 text-xs font-medium rounded-full inline-block ${t[e]}`,children:e})},We=({label:e,isActive:t,onClick:n,count:a})=>p.jsxs("button",{onClick:n,className:"flex items-center px-4 py-2 text-sm font-medium rounded-md "+(t?"bg-primary text-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"),children:[e,p.jsx("span",{className:"ml-2 text-xs font-semibold px-2 py-0.5 rounded-full "+(t?"bg-white text-primary":"bg-gray-200 text-gray-700"),children:a})]}),Qe=()=>{const{state:t,fetchUsers:n,createUser:a,updateUser:r,deleteUser:s,resetUserPassword:l,toggleUserStatus:i}=T(),{users:o,isLoading:c}=t,[u,d]=e.useState(!1),[m,f]=e.useState(null),[h,g]=e.useState(null),[y,x]=e.useState(""),[b,v]=e.useState("all");e.useEffect(()=>{n()},[n]);const w=e.useMemo(()=>{const e=o.filter(e=>"superAdmin"===b?e.role===ae.SuperAdmin:"schoolAdmin"!==b||e.role===ae.SchoolAdmin);return y?e.filter(e=>e.name.toLowerCase().includes(y.toLowerCase())||e.email.toLowerCase().includes(y.toLowerCase())||e.schoolName&&e.schoolName.toLowerCase().includes(y.toLowerCase())):e},[o,y,b]);return p.jsxs("div",{className:"space-y-6",children:[p.jsx(qe,{isOpen:u,onClose:()=>d(!1),onSave:async e=>{try{"id"in e?await r(e.id,e):await a(e),d(!1)}catch(t){}},userToEdit:m,onPasswordReset:async e=>{try{const t=await l(e);alert(`Password reset successful. Temporary password: ${t.tempPassword}`)}catch(t){alert("Failed to reset password")}}}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"User & Admin Management"}),p.jsx("p",{className:"mt-1 text-gray-600",children:"Manage all admin accounts for the platform and schools."})]}),p.jsxs("button",{onClick:()=>{f(null),d(!0)},className:"inline-flex items-center justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700",children:[p.jsx(V,{className:"-ml-1 mr-2 h-5 w-5"}),"Add New User"]})]}),p.jsxs(ie,{children:[p.jsxs("div",{className:"p-4 border-b space-y-4",children:[p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(We,{label:"All Users",isActive:"all"===b,onClick:()=>v("all"),count:o.length}),p.jsx(We,{label:"Super Admins",isActive:"superAdmin"===b,onClick:()=>v("superAdmin"),count:o.filter(e=>e.role===ae.SuperAdmin).length}),p.jsx(We,{label:"School Admins",isActive:"schoolAdmin"===b,onClick:()=>v("schoolAdmin"),count:o.filter(e=>e.role===ae.SchoolAdmin).length})]}),p.jsx("input",{type:"text",placeholder:"Search by name, email, or school...",className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm",value:y,onChange:e=>x(e.target.value)})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned School"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),p.jsx("th",{scope:"col",className:"relative px-6 py-3",children:p.jsx("span",{className:"sr-only",children:"Actions"})})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(e=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:p.jsx("img",{className:"h-10 w-10 rounded-full",src:e.avatarUrl,alt:""})}),p.jsxs("div",{className:"ml-4",children:[p.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),p.jsx("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx(Ve,{role:e.role})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.schoolName||"N/A"}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx(He,{status:e.status})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.lastLogin}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:p.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[p.jsx("button",{onClick:()=>(async e=>{try{await i(e)}catch(t){}})(e.id),className:"text-sm font-medium "+(e.status===re.Active?"text-warning hover:text-yellow-700":"text-secondary hover:text-green-700"),children:e.status===re.Active?"Suspend":"Activate"}),p.jsx("button",{onClick:()=>(e=>{f(e),d(!0)})(e),className:"text-primary hover:text-indigo-900",children:"Edit"})]})})]},e.id))})]})})]})]})},Ke=()=>{const{state:t,fetchLoginLogs:n,fetchSecurityAudit:a,fetchSecuritySettings:r}=T(),[s,l]=e.useState({minLength:8,requireUppercase:!0,requireLowercase:!0,requireNumbers:!0,requireSpecialChars:!1,maxAge:90}),[i,o]=e.useState("policy");e.useEffect(()=>{n(),a(),r()},[n,a,r]);const c=t.loginLogs||[],u=t.securityAudit||[],d=(e,t)=>{l(n=>({...n,[e]:t}))};return p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"flex justify-between items-center",children:p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Security Settings"})}),p.jsx("div",{className:"border-b border-gray-200",children:p.jsxs("nav",{className:"-mb-px flex space-x-8",children:[p.jsx("button",{onClick:()=>o("policy"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("policy"===i?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Password Policy"}),p.jsx("button",{onClick:()=>o("logs"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("logs"===i?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Login Logs"}),p.jsx("button",{onClick:()=>o("audit"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("audit"===i?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Security Audit"})]})}),"policy"===i&&p.jsx(ie,{children:p.jsxs("div",{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Password Policy"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Minimum Length"}),p.jsx("input",{type:"number",value:s.minLength,onChange:e=>d("minLength",parseInt(e.target.value)),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Requirements"}),p.jsx("div",{className:"space-y-2",children:[{key:"requireUppercase",label:"Require uppercase letters"},{key:"requireLowercase",label:"Require lowercase letters"},{key:"requireNumbers",label:"Require numbers"},{key:"requireSpecialChars",label:"Require special characters"}].map(({key:e,label:t})=>p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",checked:s[e],onChange:t=>d(e,t.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),p.jsx("span",{className:"ml-2 text-sm text-gray-700",children:t})]},e))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password Max Age (days)"}),p.jsx("input",{type:"number",value:s.maxAge,onChange:e=>d("maxAge",parseInt(e.target.value)),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]})]})]})}),"logs"===i&&p.jsx("div",{className:"space-y-4",children:c.length>0?c.map(e=>p.jsx(ie,{children:p.jsx("div",{className:"p-4",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-sm font-medium text-gray-900",children:e.user}),p.jsx("p",{className:"text-sm text-gray-500",children:e.action}),p.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e.timestamp})]}),p.jsx("div",{className:"text-xs text-gray-400",children:p.jsx("p",{children:e.ipAddress})})]})})},e.id)):p.jsx("div",{className:"text-center py-8 text-gray-500",children:"No login logs available"})}),"audit"===i&&p.jsx("div",{className:"space-y-4",children:u.length>0?u.map(e=>p.jsx(ie,{children:p.jsx("div",{className:"p-4",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-sm font-medium text-gray-900",children:e.action}),p.jsx("p",{className:"text-sm text-gray-500",children:e.details}),p.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e.timestamp})]}),p.jsx("div",{className:"text-xs text-gray-400",children:p.jsx("p",{children:e.ipAddress})})]})})},e.id)):p.jsx("div",{className:"text-center py-8 text-gray-500",children:"No security audit logs available"})})]})},Je=()=>{const{state:t,sendAIMessage:n}=T(),[a,r]=e.useState([]),[s,l]=e.useState(""),[i,o]=e.useState(!1);e.useEffect(()=>{r([{id:"1",role:"assistant",content:"Hello! I'm your AI assistant. I can help you with school management, analytics, and platform insights. How can I assist you today?",timestamp:(new Date).toISOString()}])},[]);return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gemini AI Chat"}),p.jsx("p",{className:"text-sm text-gray-500",children:"AI-powered assistance for platform management"})]}),p.jsx(ie,{children:p.jsxs("div",{className:"h-96 flex flex-col",children:[p.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.map(e=>p.jsx("div",{className:"flex "+("user"===e.role?"justify-end":"justify-start"),children:p.jsxs("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg "+("user"===e.role?"bg-indigo-600 text-white":"bg-gray-100 text-gray-900"),children:[p.jsx("p",{className:"text-sm",children:e.content}),p.jsx("p",{className:"text-xs mt-1 "+("user"===e.role?"text-indigo-200":"text-gray-500"),children:new Date(e.timestamp).toLocaleTimeString()})]})},e.id)),i&&p.jsx("div",{className:"flex justify-start",children:p.jsx("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-lg",children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}),p.jsx("span",{className:"text-sm",children:"AI is thinking..."})]})})})]}),p.jsx("div",{className:"border-t border-gray-200 p-4",children:p.jsxs("form",{onSubmit:async e=>{var a,c;if(e.preventDefault(),!s.trim()||i)return;const u={id:Date.now().toString(),role:"user",content:s,timestamp:(new Date).toISOString()};r(e=>[...e,u]),l(""),o(!0);try{const e=await n(s,(null==(a=t.user)?void 0:a.id)||"admin",(null==(c=t.user)?void 0:c.name)||"Admin"),l={id:(Date.now()+1).toString(),role:"assistant",content:(null==e?void 0:e.response)||"I apologize, but I'm unable to process your request at the moment. Please try again later.",timestamp:(new Date).toISOString()};r(e=>[...e,l])}catch(d){const e={id:(Date.now()+1).toString(),role:"assistant",content:"I apologize, but I encountered an error processing your request. Please try again.",timestamp:(new Date).toISOString()};r(t=>[...t,e])}finally{o(!1)}},className:"flex space-x-2",children:[p.jsx("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Ask me anything about the platform...",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",disabled:i}),p.jsx("button",{type:"submit",disabled:i||!s.trim(),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Send"})]})})]})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsx(ie,{children:p.jsxs("div",{className:"p-4",children:[p.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Platform Stats"}),p.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Get current platform statistics"}),p.jsx("button",{onClick:()=>l("Show me the current platform statistics"),className:"text-xs text-indigo-600 hover:text-indigo-700",children:"Ask about stats →"})]})}),p.jsx(ie,{children:p.jsxs("div",{className:"p-4",children:[p.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"School Management"}),p.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Get help with school operations"}),p.jsx("button",{onClick:()=>l("Help me with school management tasks"),className:"text-xs text-indigo-600 hover:text-indigo-700",children:"Get help →"})]})}),p.jsx(ie,{children:p.jsxs("div",{className:"p-4",children:[p.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Analytics Insights"}),p.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Get insights from platform data"}),p.jsx("button",{onClick:()=>l("Provide analytics insights"),className:"text-xs text-indigo-600 hover:text-indigo-700",children:"Get insights →"})]})})]})]})},Ye=()=>{const{state:t,updateSystemSettings:n}=T(),[a,r]=e.useState({platformName:"",adminEmail:"",platformUrl:"",defaultCurrency:"USD",taxPercentage:0,paymentGateways:{stripe:{apiKey:"",secretKey:""},paypal:{clientId:"",clientSecret:""},mpesa:{consumerKey:"",consumerSecret:""}},emailConfig:{smtpHost:"",smtpPort:587,smtpUser:"",smtpPass:""},branding:{logoUrl:""}}),[s,l]=e.useState(!1);e.useEffect(()=>{t.systemSettings&&r(t.systemSettings)},[t.systemSettings]);return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"System Settings"}),p.jsx("button",{onClick:async()=>{l(!0);try{await n(a)}catch(e){}finally{l(!1)}},disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:s?"Saving...":"Save Changes"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(ie,{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Platform Information"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Platform Name"}),p.jsx("input",{type:"text",value:a.platformName,onChange:e=>r({...a,platformName:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Admin Email"}),p.jsx("input",{type:"email",value:a.adminEmail,onChange:e=>r({...a,adminEmail:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Platform URL"}),p.jsx("input",{type:"url",value:a.platformUrl,onChange:e=>r({...a,platformUrl:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]})]})]}),p.jsxs(ie,{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Payment Settings"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Default Currency"}),p.jsxs("select",{value:a.defaultCurrency,onChange:e=>r({...a,defaultCurrency:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[p.jsx("option",{value:"USD",children:"USD"}),p.jsx("option",{value:"EUR",children:"EUR"}),p.jsx("option",{value:"GBP",children:"GBP"}),p.jsx("option",{value:"KES",children:"KES"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tax Percentage"}),p.jsx("input",{type:"number",value:a.taxPercentage,onChange:e=>r({...a,taxPercentage:parseFloat(e.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]})]})]})]})]})},Xe=()=>{var t,n;const{state:a,exportData:r}=T(),[s,l]=e.useState(""),[i,o]=e.useState(!1),c=[{id:"schools",name:"Schools Data",description:"Export all schools with their details, status, and module assignments.",format:"csv"},{id:"users",name:"Users Data",description:"Export user information like names, emails, roles, and status.",format:"csv"},{id:"invoices",name:"Billing Data",description:"Export invoices, payment history, accounts, statuses, and due dates.",format:"xlsx"},{id:"tickets",name:"Support Tickets",description:"Export support ticket history, status, and priority.",format:"csv"},{id:"audit",name:"Audit Logs",description:"Export security and compliance analysis.",format:"json"}];return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Data Export"}),p.jsx("p",{className:"text-sm text-gray-500",children:"Export platform data in various formats"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(e=>p.jsx(ie,{children:p.jsxs("div",{className:"p-6",children:[p.jsx("div",{className:"flex items-start justify-between",children:p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),p.jsx("p",{className:"mt-1 text-sm text-gray-500",children:e.description}),p.jsx("div",{className:"mt-2",children:p.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("csv"===e.format?"bg-green-100 text-green-800":"json"===e.format?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:e.format.toUpperCase()})})]})}),p.jsx("div",{className:"mt-4",children:p.jsx("button",{onClick:()=>l(e.id),className:"w-full px-3 py-2 text-sm font-medium rounded-md "+(s===e.id?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:s===e.id?"Selected":"Select"})})]})},e.id))}),s&&p.jsx(ie,{children:p.jsxs("div",{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Export Settings"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Selected Export: ",null==(t=c.find(e=>e.id===s))?void 0:t.name]}),p.jsx("p",{className:"text-sm text-gray-500",children:null==(n=c.find(e=>e.id===s))?void 0:n.description})]}),p.jsxs("div",{className:"flex justify-end space-x-3",children:[p.jsx("button",{onClick:()=>l(""),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),p.jsx("button",{onClick:async()=>{if(s){o(!0);try{const e=await r(s),t=c.find(e=>e.id===s),n=`${null==t?void 0:t.name.toLowerCase().replace(/\s+/g,"_")}_${(new Date).toISOString().split("T")[0]}.${null==t?void 0:t.format}`;if("json"===(null==t?void 0:t.format)){const t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)}else alert(`Export completed! Data: ${JSON.stringify(e).substring(0,100)}...`)}catch(e){alert("Export failed. Please try again.")}finally{o(!1)}}},disabled:i,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 disabled:opacity-50",children:i?"Exporting...":"Export Data"})]})]})]})})]})},Ze=()=>{const{state:t}=T(),[n,a]=e.useState(null),[r,s]=e.useState(!0);if(e.useEffect(()=>{(async()=>{try{const e={status:"Operational",uptime:99.9,cpu:45,memory:62,disk:78,database:"Connected",lastChecked:(new Date).toISOString()};a(e)}catch(e){}finally{s(!1)}})()},[]),r)return p.jsxs("div",{className:"space-y-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"System Health"}),p.jsxs("div",{className:"text-center py-8",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"}),p.jsx("p",{className:"mt-2 text-gray-500",children:"Loading system health..."})]})]});if(!n)return p.jsxs("div",{className:"space-y-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"System Health"}),p.jsx("div",{className:"text-center py-8 text-gray-500",children:"Unable to load system health data"})]});const l=e=>e<50?"text-green-600":e<80?"text-yellow-600":"text-red-600";return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"System Health"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(e=>{switch(e.toLowerCase()){case"operational":return"text-green-600 bg-green-100";case"warning":return"text-yellow-600 bg-yellow-100";case"critical":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}})(n.status)}`,children:n.status}),p.jsxs("span",{className:"text-sm text-gray-500",children:["Last checked: ",new Date(n.lastChecked).toLocaleString()]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsx(ie,{children:p.jsx("div",{className:"p-6",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),p.jsxs("div",{className:"ml-4",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Uptime"}),p.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[n.uptime,"%"]})]})]})})}),p.jsx(ie,{children:p.jsx("div",{className:"p-6",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})}),p.jsxs("div",{className:"ml-4",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"CPU Usage"}),p.jsxs("p",{className:`text-2xl font-bold ${l(n.cpu)}`,children:[n.cpu,"%"]})]})]})})}),p.jsx(ie,{children:p.jsx("div",{className:"p-6",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("svg",{className:"h-8 w-8 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})})}),p.jsxs("div",{className:"ml-4",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Memory Usage"}),p.jsxs("p",{className:`text-2xl font-bold ${l(n.memory)}`,children:[n.memory,"%"]})]})]})})}),p.jsx(ie,{children:p.jsx("div",{className:"p-6",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("svg",{className:"h-8 w-8 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})})}),p.jsxs("div",{className:"ml-4",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Disk Usage"}),p.jsxs("p",{className:`text-2xl font-bold ${l(n.disk)}`,children:[n.disk,"%"]})]})]})})})]}),p.jsx(ie,{children:p.jsxs("div",{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Database Status"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-3 h-3 rounded-full "+("Connected"===n.database?"bg-green-400":"bg-red-400")}),p.jsx("span",{className:"text-sm font-medium text-gray-900",children:n.database})]})]})})]})},et=()=>{const{state:t,login:n,logout:a,fetchDashboardStats:r,fetchSchools:s,fetchSupportTickets:l,fetchInvoices:i,fetchBackups:o,fetchSystemSettings:c,fetchSubdomains:u,fetchUsers:d,fetchNotifications:m,fetchAnnouncements:f,fetchLoginLogs:h,fetchSecurityAudit:g,fetchSecuritySettings:y,fetchFeatureToggles:x,fetchABTests:b,fetchAIChatHistory:v,fetchAIInsights:w,fetchAIRecommendations:N,createSchool:S,updateSchool:j,deleteSchool:k}=T(),{isAuthenticated:E,isLoading:C,error:A}=t,[L,O]=e.useState("dashboard");e.useEffect(()=>{E&&(r(),s(),l(),i(),o(),c(),u(),d(),m(),f(),h(),g(),y(),x(),b(),v(),w(),N())},[E,r,s,l,i,o,c,u,d,m,f,h,g,y,x,b,v,w,N]);const _=async(e,t)=>{try{await n(e,t)}catch(a){}},P=async e=>{const t={name:e.name,email:e.email,phone:e.phone,plan:e.plan,status:e.status,subdomain:e.subdomain,modules:e.modules};try{return await S(t)}catch(n){throw n}},D=e=>{const t={name:e.name,email:e.email,phone:e.phone,plan:e.plan,status:e.status,subdomain:e.subdomain,modules:e.modules};j(e.id,t)},R=e=>{},I=e=>{};return E?p.jsx(le,{activeView:L,setActiveView:O,onLogout:()=>{a()},children:(e=>{switch(e){case"dashboard":default:return p.jsx(ce,{});case"schools":return p.jsx(Se,{schools:t.schools,onCreateSchool:P,onUpdateSchool:D,onDeleteSchool:k,onRefreshSchools:s});case"users":return p.jsx(Qe,{});case"billing":return p.jsx(Ce,{invoices:t.invoices,schools:t.schools,onUpdateSchool:D});case"support":return p.jsx(Oe,{tickets:t.supportTickets,onUpdateTicket:R});case"notifications":return p.jsx(Ue,{});case"analytics":return p.jsx(Pe,{});case"backup":return p.jsx(ze,{backups:t.backups,onCreateBackup:I});case"hosting":return p.jsx(Ge,{});case"systemHealth":return p.jsx(Ze,{});case"geminiChat":return p.jsx(Je,{});case"featureToggles":return p.jsx(Me,{});case"security":return p.jsx(Ke,{});case"settings":return p.jsx(Ye,{});case"dataExport":return p.jsx(Xe,{})}})(L)}):p.jsx(_e,{onLogin:_,isLoading:C})},tt=()=>p.jsx(C,{children:p.jsx(et,{})}),nt=document.getElementById("root");if(!nt)throw new Error("Could not find root element to mount to");w.createRoot(nt).render(p.jsx(t.StrictMode,{children:p.jsx(tt,{})}));
